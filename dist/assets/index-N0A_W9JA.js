function yI(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ny(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function vI(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var a=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:function(){return n[i]}})}),t}var $p={exports:{}},Mc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lw;function _I(){if(lw)return Mc;lw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:u,ref:a!==void 0?a:null,props:l}}return Mc.Fragment=e,Mc.jsx=t,Mc.jsxs=t,Mc}var cw;function bI(){return cw||(cw=1,$p.exports=_I()),$p.exports}var y=bI(),Gp={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uw;function wI(){if(uw)return Ue;uw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function w(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,A={};function P(B,te,ue){this.props=B,this.context=te,this.refs=A,this.updater=ue||R}P.prototype.isReactComponent={},P.prototype.setState=function(B,te){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,te,"setState")},P.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function C(){}C.prototype=P.prototype;function M(B,te,ue){this.props=B,this.context=te,this.refs=A,this.updater=ue||R}var N=M.prototype=new C;N.constructor=M,I(N,P.prototype),N.isPureReactComponent=!0;var U=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},Y=Object.prototype.hasOwnProperty;function O(B,te,ue,ae,pe,Se){return ue=Se.ref,{$$typeof:n,type:B,key:te,ref:ue!==void 0?ue:null,props:Se}}function x(B,te){return O(B.type,te,void 0,void 0,void 0,B.props)}function k(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function L(B){var te={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ue){return te[ue]})}var z=/\/+/g;function F(B,te){return typeof B=="object"&&B!==null&&B.key!=null?L(""+B.key):te.toString(36)}function V(){}function K(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(V,V):(B.status="pending",B.then(function(te){B.status==="pending"&&(B.status="fulfilled",B.value=te)},function(te){B.status==="pending"&&(B.status="rejected",B.reason=te)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function oe(B,te,ue,ae,pe){var Se=typeof B;(Se==="undefined"||Se==="boolean")&&(B=null);var xe=!1;if(B===null)xe=!0;else switch(Se){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(B.$$typeof){case n:case e:xe=!0;break;case v:return xe=B._init,oe(xe(B._payload),te,ue,ae,pe)}}if(xe)return pe=pe(B),xe=ae===""?"."+F(B,0):ae,U(pe)?(ue="",xe!=null&&(ue=xe.replace(z,"$&/")+"/"),oe(pe,te,ue,"",function(Le){return Le})):pe!=null&&(k(pe)&&(pe=x(pe,ue+(pe.key==null||B&&B.key===pe.key?"":(""+pe.key).replace(z,"$&/")+"/")+xe)),te.push(pe)),1;xe=0;var me=ae===""?".":ae+":";if(U(B))for(var ve=0;ve<B.length;ve++)ae=B[ve],Se=me+F(ae,ve),xe+=oe(ae,te,ue,Se,pe);else if(ve=w(B),typeof ve=="function")for(B=ve.call(B),ve=0;!(ae=B.next()).done;)ae=ae.value,Se=me+F(ae,ve++),xe+=oe(ae,te,ue,Se,pe);else if(Se==="object"){if(typeof B.then=="function")return oe(K(B),te,ue,ae,pe);throw te=String(B),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return xe}function $(B,te,ue){if(B==null)return B;var ae=[],pe=0;return oe(B,ae,"","",function(Se){return te.call(ue,Se,pe++)}),ae}function re(B){if(B._status===-1){var te=B._result;te=te(),te.then(function(ue){(B._status===0||B._status===-1)&&(B._status=1,B._result=ue)},function(ue){(B._status===0||B._status===-1)&&(B._status=2,B._result=ue)}),B._status===-1&&(B._status=0,B._result=te)}if(B._status===1)return B._result.default;throw B._result}var X=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function se(){}return Ue.Children={map:$,forEach:function(B,te,ue){$(B,function(){te.apply(this,arguments)},ue)},count:function(B){var te=0;return $(B,function(){te++}),te},toArray:function(B){return $(B,function(te){return te})||[]},only:function(B){if(!k(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ue.Component=P,Ue.Fragment=t,Ue.Profiler=a,Ue.PureComponent=M,Ue.StrictMode=i,Ue.Suspense=h,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(B){return H.H.useMemoCache(B)}},Ue.cache=function(B){return function(){return B.apply(null,arguments)}},Ue.cloneElement=function(B,te,ue){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ae=I({},B.props),pe=B.key,Se=void 0;if(te!=null)for(xe in te.ref!==void 0&&(Se=void 0),te.key!==void 0&&(pe=""+te.key),te)!Y.call(te,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&te.ref===void 0||(ae[xe]=te[xe]);var xe=arguments.length-2;if(xe===1)ae.children=ue;else if(1<xe){for(var me=Array(xe),ve=0;ve<xe;ve++)me[ve]=arguments[ve+2];ae.children=me}return O(B.type,pe,void 0,void 0,Se,ae)},Ue.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},Ue.createElement=function(B,te,ue){var ae,pe={},Se=null;if(te!=null)for(ae in te.key!==void 0&&(Se=""+te.key),te)Y.call(te,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(pe[ae]=te[ae]);var xe=arguments.length-2;if(xe===1)pe.children=ue;else if(1<xe){for(var me=Array(xe),ve=0;ve<xe;ve++)me[ve]=arguments[ve+2];pe.children=me}if(B&&B.defaultProps)for(ae in xe=B.defaultProps,xe)pe[ae]===void 0&&(pe[ae]=xe[ae]);return O(B,Se,void 0,void 0,null,pe)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(B){return{$$typeof:d,render:B}},Ue.isValidElement=k,Ue.lazy=function(B){return{$$typeof:v,_payload:{_status:-1,_result:B},_init:re}},Ue.memo=function(B,te){return{$$typeof:p,type:B,compare:te===void 0?null:te}},Ue.startTransition=function(B){var te=H.T,ue={};H.T=ue;try{var ae=B(),pe=H.S;pe!==null&&pe(ue,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(se,X)}catch(Se){X(Se)}finally{H.T=te}},Ue.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Ue.use=function(B){return H.H.use(B)},Ue.useActionState=function(B,te,ue){return H.H.useActionState(B,te,ue)},Ue.useCallback=function(B,te){return H.H.useCallback(B,te)},Ue.useContext=function(B){return H.H.useContext(B)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(B,te){return H.H.useDeferredValue(B,te)},Ue.useEffect=function(B,te,ue){var ae=H.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(B,te)},Ue.useId=function(){return H.H.useId()},Ue.useImperativeHandle=function(B,te,ue){return H.H.useImperativeHandle(B,te,ue)},Ue.useInsertionEffect=function(B,te){return H.H.useInsertionEffect(B,te)},Ue.useLayoutEffect=function(B,te){return H.H.useLayoutEffect(B,te)},Ue.useMemo=function(B,te){return H.H.useMemo(B,te)},Ue.useOptimistic=function(B,te){return H.H.useOptimistic(B,te)},Ue.useReducer=function(B,te,ue){return H.H.useReducer(B,te,ue)},Ue.useRef=function(B){return H.H.useRef(B)},Ue.useState=function(B){return H.H.useState(B)},Ue.useSyncExternalStore=function(B,te,ue){return H.H.useSyncExternalStore(B,te,ue)},Ue.useTransition=function(){return H.H.useTransition()},Ue.version="19.1.0",Ue}var dw;function ml(){return dw||(dw=1,Gp.exports=wI()),Gp.exports}var T=ml();const ws=Ny(T),tT=yI({__proto__:null,default:ws},[T]);var Kp={exports:{}},jc={},Yp={exports:{}},Qp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fw;function EI(){return fw||(fw=1,function(n){function e($,re){var X=$.length;$.push(re);e:for(;0<X;){var se=X-1>>>1,B=$[se];if(0<a(B,re))$[se]=re,$[X]=B,X=se;else break e}}function t($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var re=$[0],X=$.pop();if(X!==re){$[0]=X;e:for(var se=0,B=$.length,te=B>>>1;se<te;){var ue=2*(se+1)-1,ae=$[ue],pe=ue+1,Se=$[pe];if(0>a(ae,X))pe<B&&0>a(Se,ae)?($[se]=Se,$[pe]=X,se=pe):($[se]=ae,$[ue]=X,se=ue);else if(pe<B&&0>a(Se,X))$[se]=Se,$[pe]=X,se=pe;else break e}}return re}function a($,re){var X=$.sortIndex-re.sortIndex;return X!==0?X:$.id-re.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var h=[],p=[],v=1,_=null,w=3,R=!1,I=!1,A=!1,P=!1,C=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function U($){for(var re=t(p);re!==null;){if(re.callback===null)i(p);else if(re.startTime<=$)i(p),re.sortIndex=re.expirationTime,e(h,re);else break;re=t(p)}}function H($){if(A=!1,U($),!I)if(t(h)!==null)I=!0,Y||(Y=!0,F());else{var re=t(p);re!==null&&oe(H,re.startTime-$)}}var Y=!1,O=-1,x=5,k=-1;function L(){return P?!0:!(n.unstable_now()-k<x)}function z(){if(P=!1,Y){var $=n.unstable_now();k=$;var re=!0;try{e:{I=!1,A&&(A=!1,M(O),O=-1),R=!0;var X=w;try{t:{for(U($),_=t(h);_!==null&&!(_.expirationTime>$&&L());){var se=_.callback;if(typeof se=="function"){_.callback=null,w=_.priorityLevel;var B=se(_.expirationTime<=$);if($=n.unstable_now(),typeof B=="function"){_.callback=B,U($),re=!0;break t}_===t(h)&&i(h),U($)}else i(h);_=t(h)}if(_!==null)re=!0;else{var te=t(p);te!==null&&oe(H,te.startTime-$),re=!1}}break e}finally{_=null,w=X,R=!1}re=void 0}}finally{re?F():Y=!1}}}var F;if(typeof N=="function")F=function(){N(z)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,K=V.port2;V.port1.onmessage=z,F=function(){K.postMessage(null)}}else F=function(){C(z,0)};function oe($,re){O=C(function(){$(n.unstable_now())},re)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function($){switch(w){case 1:case 2:case 3:var re=3;break;default:re=w}var X=w;w=re;try{return $()}finally{w=X}},n.unstable_requestPaint=function(){P=!0},n.unstable_runWithPriority=function($,re){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var X=w;w=$;try{return re()}finally{w=X}},n.unstable_scheduleCallback=function($,re,X){var se=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?se+X:se):X=se,$){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=X+B,$={id:v++,callback:re,priorityLevel:$,startTime:X,expirationTime:B,sortIndex:-1},X>se?($.sortIndex=X,e(p,$),t(h)===null&&$===t(p)&&(A?(M(O),O=-1):A=!0,oe(H,X-se))):($.sortIndex=B,e(h,$),I||R||(I=!0,Y||(Y=!0,F()))),$},n.unstable_shouldYield=L,n.unstable_wrapCallback=function($){var re=w;return function(){var X=w;w=re;try{return $.apply(this,arguments)}finally{w=X}}}}(Qp)),Qp}var hw;function xI(){return hw||(hw=1,Yp.exports=EI()),Yp.exports}var Xp={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mw;function TI(){if(mw)return pn;mw=1;var n=ml();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(h,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:h,containerInfo:p,implementation:v}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,pn.createPortal=function(h,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(h,p,null,v)},pn.flushSync=function(h){var p=u.T,v=i.p;try{if(u.T=null,i.p=2,h)return h()}finally{u.T=p,i.p=v,i.d.f()}},pn.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(h,p))},pn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},pn.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var v=p.as,_=d(v,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:R}):v==="script"&&i.d.X(h,{crossOrigin:_,integrity:w,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},pn.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);i.d.M(h,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(h)},pn.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=d(v,p.crossOrigin);i.d.L(h,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},pn.preloadModule=function(h,p){if(typeof h=="string")if(p){var v=d(p.as,p.crossOrigin);i.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(h)},pn.requestFormReset=function(h){i.d.r(h)},pn.unstable_batchedUpdates=function(h,p){return h(p)},pn.useFormState=function(h,p,v){return u.H.useFormState(h,p,v)},pn.useFormStatus=function(){return u.H.useHostTransitionStatus()},pn.version="19.1.0",pn}var pw;function nT(){if(pw)return Xp.exports;pw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Xp.exports=TI(),Xp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gw;function SI(){if(gw)return jc;gw=1;var n=xI(),e=ml(),t=nT();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function h(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,c=s;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return d(m),r;if(g===c)return d(m),s;g=g.sibling}throw Error(i(188))}if(o.return!==c.return)o=m,c=g;else{for(var S=!1,D=m.child;D;){if(D===o){S=!0,o=m,c=g;break}if(D===c){S=!0,c=m,o=g;break}D=D.sibling}if(!S){for(D=g.child;D;){if(D===o){S=!0,o=g,c=m;break}if(D===c){S=!0,c=g,o=m;break}D=D.sibling}if(!S)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function p(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=p(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),N=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function F(r){return r===null||typeof r!="object"?null:(r=z&&r[z]||r["@@iterator"],typeof r=="function"?r:null)}var V=Symbol.for("react.client.reference");function K(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===V?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case I:return"Fragment";case P:return"Profiler";case A:return"StrictMode";case H:return"Suspense";case Y:return"SuspenseList";case k:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case R:return"Portal";case N:return(r.displayName||"Context")+".Provider";case M:return(r._context.displayName||"Context")+".Consumer";case U:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return s=r.displayName||null,s!==null?s:K(r.type)||"Memo";case x:s=r._payload,r=r._init;try{return K(r(s))}catch{}}return null}var oe=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},se=[],B=-1;function te(r){return{current:r}}function ue(r){0>B||(r.current=se[B],se[B]=null,B--)}function ae(r,s){B++,se[B]=r.current,r.current=s}var pe=te(null),Se=te(null),xe=te(null),me=te(null);function ve(r,s){switch(ae(xe,s),ae(Se,r),ae(pe,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?jb(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=jb(s),r=Vb(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ue(pe),ae(pe,r)}function Le(){ue(pe),ue(Se),ue(xe)}function ke(r){r.memoizedState!==null&&ae(me,r);var s=pe.current,o=Vb(s,r.type);s!==o&&(ae(Se,r),ae(pe,o))}function De(r){Se.current===r&&(ue(pe),ue(Se)),me.current===r&&(ue(me),Nc._currentValue=X)}var Ve=Object.prototype.hasOwnProperty,pt=n.unstable_scheduleCallback,Rt=n.unstable_cancelCallback,Ae=n.unstable_shouldYield,bt=n.unstable_requestPaint,wt=n.unstable_now,qi=n.unstable_getCurrentPriorityLevel,Er=n.unstable_ImmediatePriority,Ya=n.unstable_UserBlockingPriority,$s=n.unstable_NormalPriority,$h=n.unstable_LowPriority,Qa=n.unstable_IdlePriority,Il=n.log,Du=n.unstable_setDisableYieldValue,Tt=null,it=null;function Pn(r){if(typeof Il=="function"&&Du(r),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(Tt,r)}catch{}}var hn=Math.clz32?Math.clz32:Gs,Mu=Math.log,Gh=Math.LN2;function Gs(r){return r>>>=0,r===0?32:31-(Mu(r)/Gh|0)|0}var Ks=256,Ys=4194304;function ir(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Xa(r,s,o){var c=r.pendingLanes;if(c===0)return 0;var m=0,g=r.suspendedLanes,S=r.pingedLanes;r=r.warmLanes;var D=c&134217727;return D!==0?(c=D&~g,c!==0?m=ir(c):(S&=D,S!==0?m=ir(S):o||(o=D&~r,o!==0&&(m=ir(o))))):(D=c&~g,D!==0?m=ir(D):S!==0?m=ir(S):o||(o=c&~r,o!==0&&(m=ir(o)))),m===0?0:s!==0&&s!==m&&(s&g)===0&&(g=m&-m,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:m}function Qs(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Nl(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pl(){var r=Ks;return Ks<<=1,(Ks&4194048)===0&&(Ks=256),r}function Ol(){var r=Ys;return Ys<<=1,(Ys&62914560)===0&&(Ys=4194304),r}function ni(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function ri(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function kl(r,s,o,c,m,g){var S=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var D=r.entanglements,q=r.expirationTimes,J=r.hiddenUpdates;for(o=S&~o;0<o;){var le=31-hn(o),de=1<<le;D[le]=0,q[le]=-1;var ee=J[le];if(ee!==null)for(J[le]=null,le=0;le<ee.length;le++){var ne=ee[le];ne!==null&&(ne.lane&=-536870913)}o&=~de}c!==0&&xr(r,c,0),g!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=g&~(S&~s))}function xr(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-hn(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194090}function Dl(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-hn(o),m=1<<c;m&s|r[c]&s&&(r[c]|=s),o&=~m}}function $i(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Wa(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Gi(){var r=re.p;return r!==0?r:(r=window.event,r===void 0?32:nw(r.type))}function ju(r,s){var o=re.p;try{return re.p=r,s()}finally{re.p=o}}var yt=Math.random().toString(36).slice(2),zt="__reactFiber$"+yt,kt="__reactProps$"+yt,Hn="__reactContainer$"+yt,Ml="__reactEvents$"+yt,Kh="__reactListeners$"+yt,Ki="__reactHandles$"+yt,Vu="__reactResources$"+yt,Xs="__reactMarker$"+yt;function Yi(r){delete r[zt],delete r[kt],delete r[Ml],delete r[Kh],delete r[Ki]}function ii(r){var s=r[zt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Hn]||o[zt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=Bb(r);r!==null;){if(o=r[zt])return o;r=Bb(r)}return s}r=o,o=r.parentNode}return null}function Tr(r){if(r=r[zt]||r[Hn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Sr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function wn(r){var s=r[Vu];return s||(s=r[Vu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ct(r){r[Xs]=!0}var jl=new Set,Za={};function sr(r,s){si(r,s),si(r+"Capture",s)}function si(r,s){for(Za[r]=s,r=0;r<s.length;r++)jl.add(s[r])}var Lu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uu={},Ws={};function zu(r){return Ve.call(Ws,r)?!0:Ve.call(Uu,r)?!1:Lu.test(r)?Ws[r]=!0:(Uu[r]=!0,!1)}function Qi(r,s,o){if(zu(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Ar(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function nn(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}var Zs,Bu;function ai(r){if(Zs===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Zs=s&&s[1]||"",Bu=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zs+r+Bu}var Ja=!1;function eo(r,s){if(!r||Ja)return"";Ja=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ne){var ee=ne}Reflect.construct(r,[],de)}else{try{de.call()}catch(ne){ee=ne}r.call(de.prototype)}}else{try{throw Error()}catch(ne){ee=ne}(de=r())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ne){if(ne&&ee&&typeof ne.stack=="string")return[ne.stack,ee.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),S=g[0],D=g[1];if(S&&D){var q=S.split(`
`),J=D.split(`
`);for(m=c=0;c<q.length&&!q[c].includes("DetermineComponentFrameRoot");)c++;for(;m<J.length&&!J[m].includes("DetermineComponentFrameRoot");)m++;if(c===q.length||m===J.length)for(c=q.length-1,m=J.length-1;1<=c&&0<=m&&q[c]!==J[m];)m--;for(;1<=c&&0<=m;c--,m--)if(q[c]!==J[m]){if(c!==1||m!==1)do if(c--,m--,0>m||q[c]!==J[m]){var le=`
`+q[c].replace(" at new "," at ");return r.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",r.displayName)),le}while(1<=c&&0<=m);break}}}finally{Ja=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?ai(o):""}function Vl(r){switch(r.tag){case 26:case 27:case 5:return ai(r.type);case 16:return ai("Lazy");case 13:return ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return eo(r.type,!1);case 11:return eo(r.type.render,!1);case 1:return eo(r.type,!0);case 31:return ai("Activity");default:return""}}function to(r){try{var s="";do s+=Vl(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function En(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ll(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Yh(r){var s=Ll(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return m.call(this)},set:function(S){c=""+S,g.call(this,S)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function no(r){r._valueTracker||(r._valueTracker=Yh(r))}function Ul(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=Ll(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function Js(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Qh=/[\n"\\]/g;function Dt(r){return r.replace(Qh,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function On(r,s,o,c,m,g,S,D){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),s!=null?S==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+En(s)):r.value!==""+En(s)&&(r.value=""+En(s)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),s!=null?Xi(r,S,En(s)):o!=null?Xi(r,S,En(o)):c!=null&&r.removeAttribute("value"),m==null&&g!=null&&(r.defaultChecked=!!g),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.name=""+En(D):r.removeAttribute("name")}function ea(r,s,o,c,m,g,S,D){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+En(o):"",s=s!=null?""+En(s):o,D||s===r.value||(r.value=s),r.defaultValue=s}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=D?r.checked:!!c,r.defaultChecked=!!c,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S)}function Xi(r,s,o){s==="number"&&Js(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function oi(r,s,o,c){if(r=r.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<r.length;o++)m=s.hasOwnProperty("$"+r[o].value),r[o].selected!==m&&(r[o].selected=m),m&&c&&(r[o].defaultSelected=!0)}else{for(o=""+En(o),s=null,m=0;m<r.length;m++){if(r[m].value===o){r[m].selected=!0,c&&(r[m].defaultSelected=!0);return}s!==null||r[m].disabled||(s=r[m])}s!==null&&(s.selected=!0)}}function lt(r,s,o){if(s!=null&&(s=""+En(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+En(o):""}function ta(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(i(92));if(oe(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=En(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function qn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var na=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fu(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||na.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function zl(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var m in s)c=s[m],s.hasOwnProperty(m)&&o[m]!==c&&Fu(r,m,c)}else for(var g in s)s.hasOwnProperty(g)&&Fu(r,g,s[g])}function Bl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ro(r){return Wh.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var li=null;function $n(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ci=null,ui=null;function Fl(r){var s=Tr(r);if(s&&(r=s.stateNode)){var o=r[kt]||null;e:switch(r=s.stateNode,s.type){case"input":if(On(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Dt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var m=c[kt]||null;if(!m)throw Error(i(90));On(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&Ul(c)}break e;case"textarea":lt(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&oi(r,!!o.multiple,s,!1)}}}var Rr=!1;function Hu(r,s,o){if(Rr)return r(s,o);Rr=!0;try{var c=r(s);return c}finally{if(Rr=!1,(ci!==null||ui!==null)&&(jd(),ci&&(s=ci,r=ui,ui=ci=null,Fl(s),r)))for(s=0;s<r.length;s++)Fl(r[s])}}function ra(r,s){var o=r.stateNode;if(o===null)return null;var c=o[kt]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gn=!1;if(ar)try{var ia={};Object.defineProperty(ia,"passive",{get:function(){Gn=!0}}),window.addEventListener("test",ia,ia),window.removeEventListener("test",ia,ia)}catch{Gn=!1}var Cr=null,Wi=null,di=null;function Hl(){if(di)return di;var r,s=Wi,o=s.length,c,m="value"in Cr?Cr.value:Cr.textContent,g=m.length;for(r=0;r<o&&s[r]===m[r];r++);var S=o-r;for(c=1;c<=S&&s[o-c]===m[g-c];c++);return di=m.slice(r,1<c?1-c:void 0)}function Ir(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Nr(){return!0}function ql(){return!1}function Xt(r){function s(o,c,m,g,S){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var D in r)r.hasOwnProperty(D)&&(o=r[D],this[D]=o?o(g):g[D]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Nr:ql,this.isPropagationStopped=ql,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Nr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Nr)},persist:function(){},isPersistent:Nr}),s}var nt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},io=Xt(nt),sa=v({},nt,{view:0,detail:0}),qu=Xt(sa),so,ao,Pr,aa=v({},sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ca,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Pr&&(Pr&&r.type==="mousemove"?(so=r.screenX-Pr.screenX,ao=r.screenY-Pr.screenY):ao=so=0,Pr=r),so)},movementY:function(r){return"movementY"in r?r.movementY:ao}}),Kn=Xt(aa),$u=v({},aa,{dataTransfer:0}),Zh=Xt($u),oa=v({},sa,{relatedTarget:0}),oo=Xt(oa),$l=v({},nt,{animationName:0,elapsedTime:0,pseudoElement:0}),lo=Xt($l),Gu=v({},nt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),co=Xt(Gu),Jh=v({},nt,{data:0}),Gl=Xt(Jh),la={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Yu[r])?!!s[r]:!1}function ca(){return Kl}var Qu=v({},sa,{key:function(r){if(r.key){var s=la[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ir(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ku[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ca,charCode:function(r){return r.type==="keypress"?Ir(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ir(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),uo=Xt(Qu),Xu=v({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yl=Xt(Xu),fi=v({},sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ca}),Wu=Xt(fi),Zu=v({},nt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ju=Xt(Zu),ed=v({},aa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),fo=Xt(ed),xn=v({},nt,{newState:0,oldState:0}),td=Xt(xn),nd=[9,13,27,32],Or=ar&&"CompositionEvent"in window,f=null;ar&&"documentMode"in document&&(f=document.documentMode);var b=ar&&"TextEvent"in window&&!f,E=ar&&(!Or||f&&8<f&&11>=f),j=" ",W=!1;function ie(r,s){switch(r){case"keyup":return nd.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Qe=!1;function Bt(r,s){switch(r){case"compositionend":return ge(s);case"keypress":return s.which!==32?null:(W=!0,j);case"textInput":return r=s.data,r===j&&W?null:r;default:return null}}function Xe(r,s){if(Qe)return r==="compositionend"||!Or&&ie(r,s)?(r=Hl(),di=Wi=Cr=null,Qe=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var Wt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ft(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Wt[r.type]:s==="textarea"}function hi(r,s,o,c){ci?ui?ui.push(c):ui=[c]:ci=c,s=Fd(s,"onChange"),0<s.length&&(o=new io("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var rn=null,kr=null;function Ql(r){Pb(r,0)}function rd(r){var s=Sr(r);if(Ul(s))return r}function Zv(r,s){if(r==="change")return s}var Jv=!1;if(ar){var em;if(ar){var tm="oninput"in document;if(!tm){var e0=document.createElement("div");e0.setAttribute("oninput","return;"),tm=typeof e0.oninput=="function"}em=tm}else em=!1;Jv=em&&(!document.documentMode||9<document.documentMode)}function t0(){rn&&(rn.detachEvent("onpropertychange",n0),kr=rn=null)}function n0(r){if(r.propertyName==="value"&&rd(kr)){var s=[];hi(s,kr,r,$n(r)),Hu(Ql,s)}}function KR(r,s,o){r==="focusin"?(t0(),rn=s,kr=o,rn.attachEvent("onpropertychange",n0)):r==="focusout"&&t0()}function YR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return rd(kr)}function QR(r,s){if(r==="click")return rd(s)}function XR(r,s){if(r==="input"||r==="change")return rd(s)}function WR(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var kn=typeof Object.is=="function"?Object.is:WR;function Xl(r,s){if(kn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Ve.call(s,m)||!kn(r[m],s[m]))return!1}return!0}function r0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function i0(r,s){var o=r0(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=r0(o)}}function s0(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?s0(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function a0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Js(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Js(r.document)}return s}function nm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var ZR=ar&&"documentMode"in document&&11>=document.documentMode,ho=null,rm=null,Wl=null,im=!1;function o0(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;im||ho==null||ho!==Js(c)||(c=ho,"selectionStart"in c&&nm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Wl&&Xl(Wl,c)||(Wl=c,c=Fd(rm,"onSelect"),0<c.length&&(s=new io("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=ho)))}function ua(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var mo={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},sm={},l0={};ar&&(l0=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function da(r){if(sm[r])return sm[r];if(!mo[r])return r;var s=mo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in l0)return sm[r]=s[o];return r}var c0=da("animationend"),u0=da("animationiteration"),d0=da("animationstart"),JR=da("transitionrun"),eC=da("transitionstart"),tC=da("transitioncancel"),f0=da("transitionend"),h0=new Map,am="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");am.push("scrollEnd");function or(r,s){h0.set(r,s),sr(s,[r])}var m0=new WeakMap;function Yn(r,s){if(typeof r=="object"&&r!==null){var o=m0.get(r);return o!==void 0?o:(s={value:r,source:s,stack:to(s)},m0.set(r,s),s)}return{value:r,source:s,stack:to(s)}}var Qn=[],po=0,om=0;function id(){for(var r=po,s=om=po=0;s<r;){var o=Qn[s];Qn[s++]=null;var c=Qn[s];Qn[s++]=null;var m=Qn[s];Qn[s++]=null;var g=Qn[s];if(Qn[s++]=null,c!==null&&m!==null){var S=c.pending;S===null?m.next=m:(m.next=S.next,S.next=m),c.pending=m}g!==0&&p0(o,m,g)}}function sd(r,s,o,c){Qn[po++]=r,Qn[po++]=s,Qn[po++]=o,Qn[po++]=c,om|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function lm(r,s,o,c){return sd(r,s,o,c),ad(r)}function go(r,s){return sd(r,null,null,s),ad(r)}function p0(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=r.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(m=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,m&&s!==null&&(m=31-hn(o),r=g.hiddenUpdates,c=r[m],c===null?r[m]=[s]:c.push(s),s.lane=o|536870912),g):null}function ad(r){if(50<Ec)throw Ec=0,mp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var yo={};function nC(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(r,s,o,c){return new nC(r,s,o,c)}function cm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function mi(r,s){var o=r.alternate;return o===null?(o=Dn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function g0(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function od(r,s,o,c,m,g){var S=0;if(c=r,typeof r=="function")cm(r)&&(S=1);else if(typeof r=="string")S=iI(r,o,pe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case k:return r=Dn(31,o,s,m),r.elementType=k,r.lanes=g,r;case I:return fa(o.children,m,g,s);case A:S=8,m|=24;break;case P:return r=Dn(12,o,s,m|2),r.elementType=P,r.lanes=g,r;case H:return r=Dn(13,o,s,m),r.elementType=H,r.lanes=g,r;case Y:return r=Dn(19,o,s,m),r.elementType=Y,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case C:case N:S=10;break e;case M:S=9;break e;case U:S=11;break e;case O:S=14;break e;case x:S=16,c=null;break e}S=29,o=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=Dn(S,o,s,m),s.elementType=r,s.type=c,s.lanes=g,s}function fa(r,s,o,c){return r=Dn(7,r,c,s),r.lanes=o,r}function um(r,s,o){return r=Dn(6,r,null,s),r.lanes=o,r}function dm(r,s,o){return s=Dn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var vo=[],_o=0,ld=null,cd=0,Xn=[],Wn=0,ha=null,pi=1,gi="";function ma(r,s){vo[_o++]=cd,vo[_o++]=ld,ld=r,cd=s}function y0(r,s,o){Xn[Wn++]=pi,Xn[Wn++]=gi,Xn[Wn++]=ha,ha=r;var c=pi;r=gi;var m=32-hn(c)-1;c&=~(1<<m),o+=1;var g=32-hn(s)+m;if(30<g){var S=m-m%5;g=(c&(1<<S)-1).toString(32),c>>=S,m-=S,pi=1<<32-hn(s)+m|o<<m|c,gi=g+r}else pi=1<<g|o<<m|c,gi=r}function fm(r){r.return!==null&&(ma(r,1),y0(r,1,0))}function hm(r){for(;r===ld;)ld=vo[--_o],vo[_o]=null,cd=vo[--_o],vo[_o]=null;for(;r===ha;)ha=Xn[--Wn],Xn[Wn]=null,gi=Xn[--Wn],Xn[Wn]=null,pi=Xn[--Wn],Xn[Wn]=null}var Tn=null,St=null,tt=!1,pa=null,Dr=!1,mm=Error(i(519));function ga(r){var s=Error(i(418,""));throw ec(Yn(s,r)),mm}function v0(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[zt]=r,s[kt]=c,o){case"dialog":Ge("cancel",s),Ge("close",s);break;case"iframe":case"object":case"embed":Ge("load",s);break;case"video":case"audio":for(o=0;o<Tc.length;o++)Ge(Tc[o],s);break;case"source":Ge("error",s);break;case"img":case"image":case"link":Ge("error",s),Ge("load",s);break;case"details":Ge("toggle",s);break;case"input":Ge("invalid",s),ea(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),no(s);break;case"select":Ge("invalid",s);break;case"textarea":Ge("invalid",s),ta(s,c.value,c.defaultValue,c.children),no(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||Mb(s.textContent,o)?(c.popover!=null&&(Ge("beforetoggle",s),Ge("toggle",s)),c.onScroll!=null&&Ge("scroll",s),c.onScrollEnd!=null&&Ge("scrollend",s),c.onClick!=null&&(s.onclick=Hd),s=!0):s=!1,s||ga(r)}function _0(r){for(Tn=r.return;Tn;)switch(Tn.tag){case 5:case 13:Dr=!1;return;case 27:case 3:Dr=!0;return;default:Tn=Tn.return}}function Zl(r){if(r!==Tn)return!1;if(!tt)return _0(r),tt=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Np(r.type,r.memoizedProps)),o=!o),o&&St&&ga(r),_0(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){St=cr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}St=null}}else s===27?(s=St,hs(r.type)?(r=Dp,Dp=null,St=r):St=s):St=Tn?cr(r.stateNode.nextSibling):null;return!0}function Jl(){St=Tn=null,tt=!1}function b0(){var r=pa;return r!==null&&(Rn===null?Rn=r:Rn.push.apply(Rn,r),pa=null),r}function ec(r){pa===null?pa=[r]:pa.push(r)}var pm=te(null),ya=null,yi=null;function Zi(r,s,o){ae(pm,s._currentValue),s._currentValue=o}function vi(r){r._currentValue=pm.current,ue(pm)}function gm(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function ym(r,s,o,c){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var g=m.dependencies;if(g!==null){var S=m.child;g=g.firstContext;e:for(;g!==null;){var D=g;g=m;for(var q=0;q<s.length;q++)if(D.context===s[q]){g.lanes|=o,D=g.alternate,D!==null&&(D.lanes|=o),gm(g.return,o,r),c||(S=null);break e}g=D.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(i(341));S.lanes|=o,g=S.alternate,g!==null&&(g.lanes|=o),gm(S,o,r),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===r){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function tc(r,s,o,c){r=null;for(var m=s,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var D=m.type;kn(m.pendingProps.value,S.value)||(r!==null?r.push(D):r=[D])}}else if(m===me.current){if(S=m.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(Nc):r=[Nc])}m=m.return}r!==null&&ym(s,r,o,c),s.flags|=262144}function ud(r){for(r=r.firstContext;r!==null;){if(!kn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function va(r){ya=r,yi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function mn(r){return w0(ya,r)}function dd(r,s){return ya===null&&va(r),w0(r,s)}function w0(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},yi===null){if(r===null)throw Error(i(308));yi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else yi=yi.next=s;return o}var rC=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},iC=n.unstable_scheduleCallback,sC=n.unstable_NormalPriority,Ht={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vm(){return{controller:new rC,data:new Map,refCount:0}}function nc(r){r.refCount--,r.refCount===0&&iC(sC,function(){r.controller.abort()})}var rc=null,_m=0,bo=0,wo=null;function aC(r,s){if(rc===null){var o=rc=[];_m=0,bo=wp(),wo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return _m++,s.then(E0,E0),s}function E0(){if(--_m===0&&rc!==null){wo!==null&&(wo.status="fulfilled");var r=rc;rc=null,bo=0,wo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function oC(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var x0=$.S;$.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&aC(r,s),x0!==null&&x0(r,s)};var _a=te(null);function bm(){var r=_a.current;return r!==null?r:mt.pooledCache}function fd(r,s){s===null?ae(_a,_a.current):ae(_a,s.pool)}function T0(){var r=bm();return r===null?null:{parent:Ht._currentValue,pool:r}}var ic=Error(i(460)),S0=Error(i(474)),hd=Error(i(542)),wm={then:function(){}};function A0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function md(){}function R0(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(md,md),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,I0(r),r;default:if(typeof s.status=="string")s.then(md,md);else{if(r=mt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=c}},function(c){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,I0(r),r}throw sc=s,ic}}var sc=null;function C0(){if(sc===null)throw Error(i(459));var r=sc;return sc=null,r}function I0(r){if(r===ic||r===hd)throw Error(i(483))}var Ji=!1;function Em(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function es(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ts(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(st&2)!==0){var m=c.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),c.pending=s,s=ad(r),p0(r,null,o),s}return sd(r,c,s,o),ad(r)}function ac(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,Dl(r,o)}}function Tm(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=S:g=g.next=S,o=o.next}while(o!==null);g===null?m=g=s:g=g.next=s}else m=g=s;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Sm=!1;function oc(){if(Sm){var r=wo;if(r!==null)throw r}}function lc(r,s,o,c){Sm=!1;var m=r.updateQueue;Ji=!1;var g=m.firstBaseUpdate,S=m.lastBaseUpdate,D=m.shared.pending;if(D!==null){m.shared.pending=null;var q=D,J=q.next;q.next=null,S===null?g=J:S.next=J,S=q;var le=r.alternate;le!==null&&(le=le.updateQueue,D=le.lastBaseUpdate,D!==S&&(D===null?le.firstBaseUpdate=J:D.next=J,le.lastBaseUpdate=q))}if(g!==null){var de=m.baseState;S=0,le=J=q=null,D=g;do{var ee=D.lane&-536870913,ne=ee!==D.lane;if(ne?(We&ee)===ee:(c&ee)===ee){ee!==0&&ee===bo&&(Sm=!0),le!==null&&(le=le.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Oe=r,Ce=D;ee=s;var dt=o;switch(Ce.tag){case 1:if(Oe=Ce.payload,typeof Oe=="function"){de=Oe.call(dt,de,ee);break e}de=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Ce.payload,ee=typeof Oe=="function"?Oe.call(dt,de,ee):Oe,ee==null)break e;de=v({},de,ee);break e;case 2:Ji=!0}}ee=D.callback,ee!==null&&(r.flags|=64,ne&&(r.flags|=8192),ne=m.callbacks,ne===null?m.callbacks=[ee]:ne.push(ee))}else ne={lane:ee,tag:D.tag,payload:D.payload,callback:D.callback,next:null},le===null?(J=le=ne,q=de):le=le.next=ne,S|=ee;if(D=D.next,D===null){if(D=m.shared.pending,D===null)break;ne=D,D=ne.next,ne.next=null,m.lastBaseUpdate=ne,m.shared.pending=null}}while(!0);le===null&&(q=de),m.baseState=q,m.firstBaseUpdate=J,m.lastBaseUpdate=le,g===null&&(m.shared.lanes=0),cs|=S,r.lanes=S,r.memoizedState=de}}function N0(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function P0(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)N0(o[r],s)}var Eo=te(null),pd=te(0);function O0(r,s){r=Si,ae(pd,r),ae(Eo,s),Si=r|s.baseLanes}function Am(){ae(pd,Si),ae(Eo,Eo.current)}function Rm(){Si=pd.current,ue(Eo),ue(pd)}var ns=0,ze=null,ct=null,Mt=null,gd=!1,xo=!1,ba=!1,yd=0,cc=0,To=null,lC=0;function It(){throw Error(i(321))}function Cm(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!kn(r[o],s[o]))return!1;return!0}function Im(r,s,o,c,m,g){return ns=g,ze=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=r===null||r.memoizedState===null?p_:g_,ba=!1,g=o(c,m),ba=!1,xo&&(g=D0(s,o,c,m)),k0(r),g}function k0(r){$.H=xd;var s=ct!==null&&ct.next!==null;if(ns=0,Mt=ct=ze=null,gd=!1,cc=0,To=null,s)throw Error(i(300));r===null||Zt||(r=r.dependencies,r!==null&&ud(r)&&(Zt=!0))}function D0(r,s,o,c){ze=r;var m=0;do{if(xo&&(To=null),cc=0,xo=!1,25<=m)throw Error(i(301));if(m+=1,Mt=ct=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}$.H=pC,g=s(o,c)}while(xo);return g}function cC(){var r=$.H,s=r.useState()[0];return s=typeof s.then=="function"?uc(s):s,r=r.useState()[0],(ct!==null?ct.memoizedState:null)!==r&&(ze.flags|=1024),s}function Nm(){var r=yd!==0;return yd=0,r}function Pm(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Om(r){if(gd){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}gd=!1}ns=0,Mt=ct=ze=null,xo=!1,cc=yd=0,To=null}function Sn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?ze.memoizedState=Mt=r:Mt=Mt.next=r,Mt}function jt(){if(ct===null){var r=ze.alternate;r=r!==null?r.memoizedState:null}else r=ct.next;var s=Mt===null?ze.memoizedState:Mt.next;if(s!==null)Mt=s,ct=r;else{if(r===null)throw ze.alternate===null?Error(i(467)):Error(i(310));ct=r,r={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Mt===null?ze.memoizedState=Mt=r:Mt=Mt.next=r}return Mt}function km(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uc(r){var s=cc;return cc+=1,To===null&&(To=[]),r=R0(To,r,s),s=ze,(Mt===null?s.memoizedState:Mt.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?p_:g_),r}function vd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return uc(r);if(r.$$typeof===N)return mn(r)}throw Error(i(438,String(r)))}function Dm(r){var s=null,o=ze.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=ze.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=km(),ze.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=L;return s.index++,o}function _i(r,s){return typeof s=="function"?s(r):s}function _d(r){var s=jt();return Mm(s,ct,r)}function Mm(r,s,o){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var m=r.baseQueue,g=c.pending;if(g!==null){if(m!==null){var S=m.next;m.next=g.next,g.next=S}s.baseQueue=m=g,c.pending=null}if(g=r.baseState,m===null)r.memoizedState=g;else{s=m.next;var D=S=null,q=null,J=s,le=!1;do{var de=J.lane&-536870913;if(de!==J.lane?(We&de)===de:(ns&de)===de){var ee=J.revertLane;if(ee===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),de===bo&&(le=!0);else if((ns&ee)===ee){J=J.next,ee===bo&&(le=!0);continue}else de={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(D=q=de,S=g):q=q.next=de,ze.lanes|=ee,cs|=ee;de=J.action,ba&&o(g,de),g=J.hasEagerState?J.eagerState:o(g,de)}else ee={lane:de,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(D=q=ee,S=g):q=q.next=ee,ze.lanes|=de,cs|=de;J=J.next}while(J!==null&&J!==s);if(q===null?S=g:q.next=D,!kn(g,r.memoizedState)&&(Zt=!0,le&&(o=wo,o!==null)))throw o;r.memoizedState=g,r.baseState=S,r.baseQueue=q,c.lastRenderedState=g}return m===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function jm(r){var s=jt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var c=o.dispatch,m=o.pending,g=s.memoizedState;if(m!==null){o.pending=null;var S=m=m.next;do g=r(g,S.action),S=S.next;while(S!==m);kn(g,s.memoizedState)||(Zt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function M0(r,s,o){var c=ze,m=jt(),g=tt;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var S=!kn((ct||m).memoizedState,o);S&&(m.memoizedState=o,Zt=!0),m=m.queue;var D=L0.bind(null,c,m,r);if(dc(2048,8,D,[r]),m.getSnapshot!==s||S||Mt!==null&&Mt.memoizedState.tag&1){if(c.flags|=2048,So(9,bd(),V0.bind(null,c,m,o,s),null),mt===null)throw Error(i(349));g||(ns&124)!==0||j0(c,s,o)}return o}function j0(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=ze.updateQueue,s===null?(s=km(),ze.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function V0(r,s,o,c){s.value=o,s.getSnapshot=c,U0(s)&&z0(r)}function L0(r,s,o){return o(function(){U0(s)&&z0(r)})}function U0(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!kn(r,o)}catch{return!0}}function z0(r){var s=go(r,2);s!==null&&Un(s,r,2)}function Vm(r){var s=Sn();if(typeof r=="function"){var o=r;if(r=o(),ba){Pn(!0);try{o()}finally{Pn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:r},s}function B0(r,s,o,c){return r.baseState=o,Mm(r,ct,typeof c=="function"?c:_i)}function uC(r,s,o,c,m){if(Ed(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};$.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,F0(s,g)):(g.next=o.next,s.pending=o.next=g)}}function F0(r,s){var o=s.action,c=s.payload,m=r.state;if(s.isTransition){var g=$.T,S={};$.T=S;try{var D=o(m,c),q=$.S;q!==null&&q(S,D),H0(r,s,D)}catch(J){Lm(r,s,J)}finally{$.T=g}}else try{g=o(m,c),H0(r,s,g)}catch(J){Lm(r,s,J)}}function H0(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){q0(r,s,c)},function(c){return Lm(r,s,c)}):q0(r,s,o)}function q0(r,s,o){s.status="fulfilled",s.value=o,$0(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,F0(r,o)))}function Lm(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,$0(s),s=s.next;while(s!==c)}r.action=null}function $0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function G0(r,s){return s}function K0(r,s){if(tt){var o=mt.formState;if(o!==null){e:{var c=ze;if(tt){if(St){t:{for(var m=St,g=Dr;m.nodeType!==8;){if(!g){m=null;break t}if(m=cr(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){St=cr(m.nextSibling),c=m.data==="F!";break e}}ga(c)}c=!1}c&&(s=o[0])}}return o=Sn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:G0,lastRenderedState:s},o.queue=c,o=f_.bind(null,ze,c),c.dispatch=o,c=Vm(!1),g=Hm.bind(null,ze,!1,c.queue),c=Sn(),m={state:s,dispatch:null,action:r,pending:null},c.queue=m,o=uC.bind(null,ze,m,g,o),m.dispatch=o,c.memoizedState=r,[s,o,!1]}function Y0(r){var s=jt();return Q0(s,ct,r)}function Q0(r,s,o){if(s=Mm(r,s,G0)[0],r=_d(_i)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=uc(s)}catch(S){throw S===ic?hd:S}else c=s;s=jt();var m=s.queue,g=m.dispatch;return o!==s.memoizedState&&(ze.flags|=2048,So(9,bd(),dC.bind(null,m,o),null)),[c,g,r]}function dC(r,s){r.action=s}function X0(r){var s=jt(),o=ct;if(o!==null)return Q0(s,o,r);jt(),s=s.memoizedState,o=jt();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function So(r,s,o,c){return r={tag:r,create:o,deps:c,inst:s,next:null},s=ze.updateQueue,s===null&&(s=km(),ze.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function bd(){return{destroy:void 0,resource:void 0}}function W0(){return jt().memoizedState}function wd(r,s,o,c){var m=Sn();c=c===void 0?null:c,ze.flags|=r,m.memoizedState=So(1|s,bd(),o,c)}function dc(r,s,o,c){var m=jt();c=c===void 0?null:c;var g=m.memoizedState.inst;ct!==null&&c!==null&&Cm(c,ct.memoizedState.deps)?m.memoizedState=So(s,g,o,c):(ze.flags|=r,m.memoizedState=So(1|s,g,o,c))}function Z0(r,s){wd(8390656,8,r,s)}function J0(r,s){dc(2048,8,r,s)}function e_(r,s){return dc(4,2,r,s)}function t_(r,s){return dc(4,4,r,s)}function n_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function r_(r,s,o){o=o!=null?o.concat([r]):null,dc(4,4,n_.bind(null,s,r),o)}function Um(){}function i_(r,s){var o=jt();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Cm(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function s_(r,s){var o=jt();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Cm(s,c[1]))return c[0];if(c=r(),ba){Pn(!0);try{r()}finally{Pn(!1)}}return o.memoizedState=[c,s],c}function zm(r,s,o){return o===void 0||(ns&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=lb(),ze.lanes|=r,cs|=r,o)}function a_(r,s,o,c){return kn(o,s)?o:Eo.current!==null?(r=zm(r,o,c),kn(r,s)||(Zt=!0),r):(ns&42)===0?(Zt=!0,r.memoizedState=o):(r=lb(),ze.lanes|=r,cs|=r,s)}function o_(r,s,o,c,m){var g=re.p;re.p=g!==0&&8>g?g:8;var S=$.T,D={};$.T=D,Hm(r,!1,s,o);try{var q=m(),J=$.S;if(J!==null&&J(D,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var le=oC(q,c);fc(r,s,le,Ln(r))}else fc(r,s,c,Ln(r))}catch(de){fc(r,s,{then:function(){},status:"rejected",reason:de},Ln())}finally{re.p=g,$.T=S}}function fC(){}function Bm(r,s,o,c){if(r.tag!==5)throw Error(i(476));var m=l_(r).queue;o_(r,m,s,X,o===null?fC:function(){return c_(r),o(c)})}function l_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:X},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function c_(r){var s=l_(r).next.queue;fc(r,s,{},Ln())}function Fm(){return mn(Nc)}function u_(){return jt().memoizedState}function d_(){return jt().memoizedState}function hC(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Ln();r=es(o);var c=ts(s,r,o);c!==null&&(Un(c,s,o),ac(c,s,o)),s={cache:vm()},r.payload=s;return}s=s.return}}function mC(r,s,o){var c=Ln();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Ed(r)?h_(s,o):(o=lm(r,s,o,c),o!==null&&(Un(o,r,c),m_(o,s,c)))}function f_(r,s,o){var c=Ln();fc(r,s,o,c)}function fc(r,s,o,c){var m={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ed(r))h_(s,m);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var S=s.lastRenderedState,D=g(S,o);if(m.hasEagerState=!0,m.eagerState=D,kn(D,S))return sd(r,s,m,0),mt===null&&id(),!1}catch{}finally{}if(o=lm(r,s,m,c),o!==null)return Un(o,r,c),m_(o,s,c),!0}return!1}function Hm(r,s,o,c){if(c={lane:2,revertLane:wp(),action:c,hasEagerState:!1,eagerState:null,next:null},Ed(r)){if(s)throw Error(i(479))}else s=lm(r,o,c,2),s!==null&&Un(s,r,2)}function Ed(r){var s=r.alternate;return r===ze||s!==null&&s===ze}function h_(r,s){xo=gd=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function m_(r,s,o){if((o&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,Dl(r,o)}}var xd={readContext:mn,use:vd,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It},p_={readContext:mn,use:vd,useCallback:function(r,s){return Sn().memoizedState=[r,s===void 0?null:s],r},useContext:mn,useEffect:Z0,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,wd(4194308,4,n_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return wd(4194308,4,r,s)},useInsertionEffect:function(r,s){wd(4,2,r,s)},useMemo:function(r,s){var o=Sn();s=s===void 0?null:s;var c=r();if(ba){Pn(!0);try{r()}finally{Pn(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=Sn();if(o!==void 0){var m=o(s);if(ba){Pn(!0);try{o(s)}finally{Pn(!1)}}}else m=s;return c.memoizedState=c.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},c.queue=r,r=r.dispatch=mC.bind(null,ze,r),[c.memoizedState,r]},useRef:function(r){var s=Sn();return r={current:r},s.memoizedState=r},useState:function(r){r=Vm(r);var s=r.queue,o=f_.bind(null,ze,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Um,useDeferredValue:function(r,s){var o=Sn();return zm(o,r,s)},useTransition:function(){var r=Vm(!1);return r=o_.bind(null,ze,r.queue,!0,!1),Sn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=ze,m=Sn();if(tt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),mt===null)throw Error(i(349));(We&124)!==0||j0(c,s,o)}m.memoizedState=o;var g={value:o,getSnapshot:s};return m.queue=g,Z0(L0.bind(null,c,g,r),[r]),c.flags|=2048,So(9,bd(),V0.bind(null,c,g,o,s),null),o},useId:function(){var r=Sn(),s=mt.identifierPrefix;if(tt){var o=gi,c=pi;o=(c&~(1<<32-hn(c)-1)).toString(32)+o,s=""+s+"R"+o,o=yd++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=lC++,s=""+s+"r"+o.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:Fm,useFormState:K0,useActionState:K0,useOptimistic:function(r){var s=Sn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Hm.bind(null,ze,!0,o),o.dispatch=s,[r,s]},useMemoCache:Dm,useCacheRefresh:function(){return Sn().memoizedState=hC.bind(null,ze)}},g_={readContext:mn,use:vd,useCallback:i_,useContext:mn,useEffect:J0,useImperativeHandle:r_,useInsertionEffect:e_,useLayoutEffect:t_,useMemo:s_,useReducer:_d,useRef:W0,useState:function(){return _d(_i)},useDebugValue:Um,useDeferredValue:function(r,s){var o=jt();return a_(o,ct.memoizedState,r,s)},useTransition:function(){var r=_d(_i)[0],s=jt().memoizedState;return[typeof r=="boolean"?r:uc(r),s]},useSyncExternalStore:M0,useId:u_,useHostTransitionStatus:Fm,useFormState:Y0,useActionState:Y0,useOptimistic:function(r,s){var o=jt();return B0(o,ct,r,s)},useMemoCache:Dm,useCacheRefresh:d_},pC={readContext:mn,use:vd,useCallback:i_,useContext:mn,useEffect:J0,useImperativeHandle:r_,useInsertionEffect:e_,useLayoutEffect:t_,useMemo:s_,useReducer:jm,useRef:W0,useState:function(){return jm(_i)},useDebugValue:Um,useDeferredValue:function(r,s){var o=jt();return ct===null?zm(o,r,s):a_(o,ct.memoizedState,r,s)},useTransition:function(){var r=jm(_i)[0],s=jt().memoizedState;return[typeof r=="boolean"?r:uc(r),s]},useSyncExternalStore:M0,useId:u_,useHostTransitionStatus:Fm,useFormState:X0,useActionState:X0,useOptimistic:function(r,s){var o=jt();return ct!==null?B0(o,ct,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Dm,useCacheRefresh:d_},Ao=null,hc=0;function Td(r){var s=hc;return hc+=1,Ao===null&&(Ao=[]),R0(Ao,r,s)}function mc(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Sd(r,s){throw s.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function y_(r){var s=r._init;return s(r._payload)}function v_(r){function s(Q,G){if(r){var Z=Q.deletions;Z===null?(Q.deletions=[G],Q.flags|=16):Z.push(G)}}function o(Q,G){if(!r)return null;for(;G!==null;)s(Q,G),G=G.sibling;return null}function c(Q){for(var G=new Map;Q!==null;)Q.key!==null?G.set(Q.key,Q):G.set(Q.index,Q),Q=Q.sibling;return G}function m(Q,G){return Q=mi(Q,G),Q.index=0,Q.sibling=null,Q}function g(Q,G,Z){return Q.index=Z,r?(Z=Q.alternate,Z!==null?(Z=Z.index,Z<G?(Q.flags|=67108866,G):Z):(Q.flags|=67108866,G)):(Q.flags|=1048576,G)}function S(Q){return r&&Q.alternate===null&&(Q.flags|=67108866),Q}function D(Q,G,Z,ce){return G===null||G.tag!==6?(G=um(Z,Q.mode,ce),G.return=Q,G):(G=m(G,Z),G.return=Q,G)}function q(Q,G,Z,ce){var be=Z.type;return be===I?le(Q,G,Z.props.children,ce,Z.key):G!==null&&(G.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===x&&y_(be)===G.type)?(G=m(G,Z.props),mc(G,Z),G.return=Q,G):(G=od(Z.type,Z.key,Z.props,null,Q.mode,ce),mc(G,Z),G.return=Q,G)}function J(Q,G,Z,ce){return G===null||G.tag!==4||G.stateNode.containerInfo!==Z.containerInfo||G.stateNode.implementation!==Z.implementation?(G=dm(Z,Q.mode,ce),G.return=Q,G):(G=m(G,Z.children||[]),G.return=Q,G)}function le(Q,G,Z,ce,be){return G===null||G.tag!==7?(G=fa(Z,Q.mode,ce,be),G.return=Q,G):(G=m(G,Z),G.return=Q,G)}function de(Q,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=um(""+G,Q.mode,Z),G.return=Q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return Z=od(G.type,G.key,G.props,null,Q.mode,Z),mc(Z,G),Z.return=Q,Z;case R:return G=dm(G,Q.mode,Z),G.return=Q,G;case x:var ce=G._init;return G=ce(G._payload),de(Q,G,Z)}if(oe(G)||F(G))return G=fa(G,Q.mode,Z,null),G.return=Q,G;if(typeof G.then=="function")return de(Q,Td(G),Z);if(G.$$typeof===N)return de(Q,dd(Q,G),Z);Sd(Q,G)}return null}function ee(Q,G,Z,ce){var be=G!==null?G.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return be!==null?null:D(Q,G,""+Z,ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return Z.key===be?q(Q,G,Z,ce):null;case R:return Z.key===be?J(Q,G,Z,ce):null;case x:return be=Z._init,Z=be(Z._payload),ee(Q,G,Z,ce)}if(oe(Z)||F(Z))return be!==null?null:le(Q,G,Z,ce,null);if(typeof Z.then=="function")return ee(Q,G,Td(Z),ce);if(Z.$$typeof===N)return ee(Q,G,dd(Q,Z),ce);Sd(Q,Z)}return null}function ne(Q,G,Z,ce,be){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Q=Q.get(Z)||null,D(G,Q,""+ce,be);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case w:return Q=Q.get(ce.key===null?Z:ce.key)||null,q(G,Q,ce,be);case R:return Q=Q.get(ce.key===null?Z:ce.key)||null,J(G,Q,ce,be);case x:var qe=ce._init;return ce=qe(ce._payload),ne(Q,G,Z,ce,be)}if(oe(ce)||F(ce))return Q=Q.get(Z)||null,le(G,Q,ce,be,null);if(typeof ce.then=="function")return ne(Q,G,Z,Td(ce),be);if(ce.$$typeof===N)return ne(Q,G,Z,dd(G,ce),be);Sd(G,ce)}return null}function Oe(Q,G,Z,ce){for(var be=null,qe=null,Te=G,Ie=G=0,en=null;Te!==null&&Ie<Z.length;Ie++){Te.index>Ie?(en=Te,Te=null):en=Te.sibling;var et=ee(Q,Te,Z[Ie],ce);if(et===null){Te===null&&(Te=en);break}r&&Te&&et.alternate===null&&s(Q,Te),G=g(et,G,Ie),qe===null?be=et:qe.sibling=et,qe=et,Te=en}if(Ie===Z.length)return o(Q,Te),tt&&ma(Q,Ie),be;if(Te===null){for(;Ie<Z.length;Ie++)Te=de(Q,Z[Ie],ce),Te!==null&&(G=g(Te,G,Ie),qe===null?be=Te:qe.sibling=Te,qe=Te);return tt&&ma(Q,Ie),be}for(Te=c(Te);Ie<Z.length;Ie++)en=ne(Te,Q,Ie,Z[Ie],ce),en!==null&&(r&&en.alternate!==null&&Te.delete(en.key===null?Ie:en.key),G=g(en,G,Ie),qe===null?be=en:qe.sibling=en,qe=en);return r&&Te.forEach(function(vs){return s(Q,vs)}),tt&&ma(Q,Ie),be}function Ce(Q,G,Z,ce){if(Z==null)throw Error(i(151));for(var be=null,qe=null,Te=G,Ie=G=0,en=null,et=Z.next();Te!==null&&!et.done;Ie++,et=Z.next()){Te.index>Ie?(en=Te,Te=null):en=Te.sibling;var vs=ee(Q,Te,et.value,ce);if(vs===null){Te===null&&(Te=en);break}r&&Te&&vs.alternate===null&&s(Q,Te),G=g(vs,G,Ie),qe===null?be=vs:qe.sibling=vs,qe=vs,Te=en}if(et.done)return o(Q,Te),tt&&ma(Q,Ie),be;if(Te===null){for(;!et.done;Ie++,et=Z.next())et=de(Q,et.value,ce),et!==null&&(G=g(et,G,Ie),qe===null?be=et:qe.sibling=et,qe=et);return tt&&ma(Q,Ie),be}for(Te=c(Te);!et.done;Ie++,et=Z.next())et=ne(Te,Q,Ie,et.value,ce),et!==null&&(r&&et.alternate!==null&&Te.delete(et.key===null?Ie:et.key),G=g(et,G,Ie),qe===null?be=et:qe.sibling=et,qe=et);return r&&Te.forEach(function(gI){return s(Q,gI)}),tt&&ma(Q,Ie),be}function dt(Q,G,Z,ce){if(typeof Z=="object"&&Z!==null&&Z.type===I&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:e:{for(var be=Z.key;G!==null;){if(G.key===be){if(be=Z.type,be===I){if(G.tag===7){o(Q,G.sibling),ce=m(G,Z.props.children),ce.return=Q,Q=ce;break e}}else if(G.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===x&&y_(be)===G.type){o(Q,G.sibling),ce=m(G,Z.props),mc(ce,Z),ce.return=Q,Q=ce;break e}o(Q,G);break}else s(Q,G);G=G.sibling}Z.type===I?(ce=fa(Z.props.children,Q.mode,ce,Z.key),ce.return=Q,Q=ce):(ce=od(Z.type,Z.key,Z.props,null,Q.mode,ce),mc(ce,Z),ce.return=Q,Q=ce)}return S(Q);case R:e:{for(be=Z.key;G!==null;){if(G.key===be)if(G.tag===4&&G.stateNode.containerInfo===Z.containerInfo&&G.stateNode.implementation===Z.implementation){o(Q,G.sibling),ce=m(G,Z.children||[]),ce.return=Q,Q=ce;break e}else{o(Q,G);break}else s(Q,G);G=G.sibling}ce=dm(Z,Q.mode,ce),ce.return=Q,Q=ce}return S(Q);case x:return be=Z._init,Z=be(Z._payload),dt(Q,G,Z,ce)}if(oe(Z))return Oe(Q,G,Z,ce);if(F(Z)){if(be=F(Z),typeof be!="function")throw Error(i(150));return Z=be.call(Z),Ce(Q,G,Z,ce)}if(typeof Z.then=="function")return dt(Q,G,Td(Z),ce);if(Z.$$typeof===N)return dt(Q,G,dd(Q,Z),ce);Sd(Q,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,G!==null&&G.tag===6?(o(Q,G.sibling),ce=m(G,Z),ce.return=Q,Q=ce):(o(Q,G),ce=um(Z,Q.mode,ce),ce.return=Q,Q=ce),S(Q)):o(Q,G)}return function(Q,G,Z,ce){try{hc=0;var be=dt(Q,G,Z,ce);return Ao=null,be}catch(Te){if(Te===ic||Te===hd)throw Te;var qe=Dn(29,Te,null,Q.mode);return qe.lanes=ce,qe.return=Q,qe}finally{}}}var Ro=v_(!0),__=v_(!1),Zn=te(null),Mr=null;function rs(r){var s=r.alternate;ae(qt,qt.current&1),ae(Zn,r),Mr===null&&(s===null||Eo.current!==null||s.memoizedState!==null)&&(Mr=r)}function b_(r){if(r.tag===22){if(ae(qt,qt.current),ae(Zn,r),Mr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Mr=r)}}else is()}function is(){ae(qt,qt.current),ae(Zn,Zn.current)}function bi(r){ue(Zn),Mr===r&&(Mr=null),ue(qt)}var qt=te(0);function Ad(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||kp(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function qm(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:v({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var $m={enqueueSetState:function(r,s,o){r=r._reactInternals;var c=Ln(),m=es(c);m.payload=s,o!=null&&(m.callback=o),s=ts(r,m,c),s!==null&&(Un(s,r,c),ac(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=Ln(),m=es(c);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=ts(r,m,c),s!==null&&(Un(s,r,c),ac(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Ln(),c=es(o);c.tag=2,s!=null&&(c.callback=s),s=ts(r,c,o),s!==null&&(Un(s,r,o),ac(s,r,o))}};function w_(r,s,o,c,m,g,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,S):s.prototype&&s.prototype.isPureReactComponent?!Xl(o,c)||!Xl(m,g):!0}function E_(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&$m.enqueueReplaceState(s,s.state,null)}function wa(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=v({},o));for(var m in r)o[m]===void 0&&(o[m]=r[m])}return o}var Rd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function x_(r){Rd(r)}function T_(r){console.error(r)}function S_(r){Rd(r)}function Cd(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function A_(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Gm(r,s,o){return o=es(o),o.tag=3,o.payload={element:null},o.callback=function(){Cd(r,s)},o}function R_(r){return r=es(r),r.tag=3,r}function C_(r,s,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;r.payload=function(){return m(g)},r.callback=function(){A_(s,o,c)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){A_(s,o,c),typeof m!="function"&&(us===null?us=new Set([this]):us.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})})}function gC(r,s,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&tc(s,o,m,!0),o=Zn.current,o!==null){switch(o.tag){case 13:return Mr===null?gp():o.alternate===null&&At===0&&(At=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===wm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),vp(r,c,m)),!1;case 22:return o.flags|=65536,c===wm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),vp(r,c,m)),!1}throw Error(i(435,o.tag))}return vp(r,c,m),gp(),!1}if(tt)return s=Zn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,c!==mm&&(r=Error(i(422),{cause:c}),ec(Yn(r,o)))):(c!==mm&&(s=Error(i(423),{cause:c}),ec(Yn(s,o))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,c=Yn(c,o),m=Gm(r.stateNode,c,m),Tm(r,m),At!==4&&(At=2)),!1;var g=Error(i(520),{cause:c});if(g=Yn(g,o),wc===null?wc=[g]:wc.push(g),At!==4&&(At=2),s===null)return!0;c=Yn(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=m&-m,o.lanes|=r,r=Gm(o.stateNode,c,r),Tm(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(us===null||!us.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=R_(m),C_(m,r,o,c),Tm(o,m),!1}o=o.return}while(o!==null);return!1}var I_=Error(i(461)),Zt=!1;function sn(r,s,o,c){s.child=r===null?__(s,null,o,c):Ro(s,r.child,o,c)}function N_(r,s,o,c,m){o=o.render;var g=s.ref;if("ref"in c){var S={};for(var D in c)D!=="ref"&&(S[D]=c[D])}else S=c;return va(s),c=Im(r,s,o,S,g,m),D=Nm(),r!==null&&!Zt?(Pm(r,s,m),wi(r,s,m)):(tt&&D&&fm(s),s.flags|=1,sn(r,s,c,m),s.child)}function P_(r,s,o,c,m){if(r===null){var g=o.type;return typeof g=="function"&&!cm(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,O_(r,s,g,c,m)):(r=od(o.type,null,c,s,s.mode,m),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!ep(r,m)){var S=g.memoizedProps;if(o=o.compare,o=o!==null?o:Xl,o(S,c)&&r.ref===s.ref)return wi(r,s,m)}return s.flags|=1,r=mi(g,c),r.ref=s.ref,r.return=s,s.child=r}function O_(r,s,o,c,m){if(r!==null){var g=r.memoizedProps;if(Xl(g,c)&&r.ref===s.ref)if(Zt=!1,s.pendingProps=c=g,ep(r,m))(r.flags&131072)!==0&&(Zt=!0);else return s.lanes=r.lanes,wi(r,s,m)}return Km(r,s,o,c,m)}function k_(r,s,o){var c=s.pendingProps,m=c.children,g=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=g!==null?g.baseLanes|o:o,r!==null){for(m=s.child=r.child,g=0;m!==null;)g=g|m.lanes|m.childLanes,m=m.sibling;s.childLanes=g&~c}else s.childLanes=0,s.child=null;return D_(r,s,c,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&fd(s,g!==null?g.cachePool:null),g!==null?O0(s,g):Am(),b_(s);else return s.lanes=s.childLanes=536870912,D_(r,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(fd(s,g.cachePool),O0(s,g),is(),s.memoizedState=null):(r!==null&&fd(s,null),Am(),is());return sn(r,s,m,o),s.child}function D_(r,s,o,c){var m=bm();return m=m===null?null:{parent:Ht._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},r!==null&&fd(s,null),Am(),b_(s),r!==null&&tc(r,s,c,!0),null}function Id(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Km(r,s,o,c,m){return va(s),o=Im(r,s,o,c,void 0,m),c=Nm(),r!==null&&!Zt?(Pm(r,s,m),wi(r,s,m)):(tt&&c&&fm(s),s.flags|=1,sn(r,s,o,m),s.child)}function M_(r,s,o,c,m,g){return va(s),s.updateQueue=null,o=D0(s,c,o,m),k0(r),c=Nm(),r!==null&&!Zt?(Pm(r,s,g),wi(r,s,g)):(tt&&c&&fm(s),s.flags|=1,sn(r,s,o,g),s.child)}function j_(r,s,o,c,m){if(va(s),s.stateNode===null){var g=yo,S=o.contextType;typeof S=="object"&&S!==null&&(g=mn(S)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=$m,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},Em(s),S=o.contextType,g.context=typeof S=="object"&&S!==null?mn(S):yo,g.state=s.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(qm(s,o,S,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&$m.enqueueReplaceState(g,g.state,null),lc(s,c,g,m),oc(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){g=s.stateNode;var D=s.memoizedProps,q=wa(o,D);g.props=q;var J=g.context,le=o.contextType;S=yo,typeof le=="object"&&le!==null&&(S=mn(le));var de=o.getDerivedStateFromProps;le=typeof de=="function"||typeof g.getSnapshotBeforeUpdate=="function",D=s.pendingProps!==D,le||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(D||J!==S)&&E_(s,g,c,S),Ji=!1;var ee=s.memoizedState;g.state=ee,lc(s,c,g,m),oc(),J=s.memoizedState,D||ee!==J||Ji?(typeof de=="function"&&(qm(s,o,de,c),J=s.memoizedState),(q=Ji||w_(s,o,q,c,ee,J,S))?(le||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=J),g.props=c,g.state=J,g.context=S,c=q):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,xm(r,s),S=s.memoizedProps,le=wa(o,S),g.props=le,de=s.pendingProps,ee=g.context,J=o.contextType,q=yo,typeof J=="object"&&J!==null&&(q=mn(J)),D=o.getDerivedStateFromProps,(J=typeof D=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==de||ee!==q)&&E_(s,g,c,q),Ji=!1,ee=s.memoizedState,g.state=ee,lc(s,c,g,m),oc();var ne=s.memoizedState;S!==de||ee!==ne||Ji||r!==null&&r.dependencies!==null&&ud(r.dependencies)?(typeof D=="function"&&(qm(s,o,D,c),ne=s.memoizedState),(le=Ji||w_(s,o,le,c,ee,ne,q)||r!==null&&r.dependencies!==null&&ud(r.dependencies))?(J||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,ne,q),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,ne,q)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ne),g.props=c,g.state=ne,g.context=q,c=le):(typeof g.componentDidUpdate!="function"||S===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),c=!1)}return g=c,Id(r,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&c?(s.child=Ro(s,r.child,null,m),s.child=Ro(s,null,o,m)):sn(r,s,o,m),s.memoizedState=g.state,r=s.child):r=wi(r,s,m),r}function V_(r,s,o,c){return Jl(),s.flags|=256,sn(r,s,o,c),s.child}var Ym={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qm(r){return{baseLanes:r,cachePool:T0()}}function Xm(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=Jn),r}function L_(r,s,o){var c=s.pendingProps,m=!1,g=(s.flags&128)!==0,S;if((S=g)||(S=r!==null&&r.memoizedState===null?!1:(qt.current&2)!==0),S&&(m=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,r===null){if(tt){if(m?rs(s):is(),tt){var D=St,q;if(q=D){e:{for(q=D,D=Dr;q.nodeType!==8;){if(!D){D=null;break e}if(q=cr(q.nextSibling),q===null){D=null;break e}}D=q}D!==null?(s.memoizedState={dehydrated:D,treeContext:ha!==null?{id:pi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},q=Dn(18,null,null,0),q.stateNode=D,q.return=s,s.child=q,Tn=s,St=null,q=!0):q=!1}q||ga(s)}if(D=s.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return kp(D)?s.lanes=32:s.lanes=536870912,null;bi(s)}return D=c.children,c=c.fallback,m?(is(),m=s.mode,D=Nd({mode:"hidden",children:D},m),c=fa(c,m,o,null),D.return=s,c.return=s,D.sibling=c,s.child=D,m=s.child,m.memoizedState=Qm(o),m.childLanes=Xm(r,S,o),s.memoizedState=Ym,c):(rs(s),Wm(s,D))}if(q=r.memoizedState,q!==null&&(D=q.dehydrated,D!==null)){if(g)s.flags&256?(rs(s),s.flags&=-257,s=Zm(r,s,o)):s.memoizedState!==null?(is(),s.child=r.child,s.flags|=128,s=null):(is(),m=c.fallback,D=s.mode,c=Nd({mode:"visible",children:c.children},D),m=fa(m,D,o,null),m.flags|=2,c.return=s,m.return=s,c.sibling=m,s.child=c,Ro(s,r.child,null,o),c=s.child,c.memoizedState=Qm(o),c.childLanes=Xm(r,S,o),s.memoizedState=Ym,s=m);else if(rs(s),kp(D)){if(S=D.nextSibling&&D.nextSibling.dataset,S)var J=S.dgst;S=J,c=Error(i(419)),c.stack="",c.digest=S,ec({value:c,source:null,stack:null}),s=Zm(r,s,o)}else if(Zt||tc(r,s,o,!1),S=(o&r.childLanes)!==0,Zt||S){if(S=mt,S!==null&&(c=o&-o,c=(c&42)!==0?1:$i(c),c=(c&(S.suspendedLanes|o))!==0?0:c,c!==0&&c!==q.retryLane))throw q.retryLane=c,go(r,c),Un(S,r,c),I_;D.data==="$?"||gp(),s=Zm(r,s,o)}else D.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=q.treeContext,St=cr(D.nextSibling),Tn=s,tt=!0,pa=null,Dr=!1,r!==null&&(Xn[Wn++]=pi,Xn[Wn++]=gi,Xn[Wn++]=ha,pi=r.id,gi=r.overflow,ha=s),s=Wm(s,c.children),s.flags|=4096);return s}return m?(is(),m=c.fallback,D=s.mode,q=r.child,J=q.sibling,c=mi(q,{mode:"hidden",children:c.children}),c.subtreeFlags=q.subtreeFlags&65011712,J!==null?m=mi(J,m):(m=fa(m,D,o,null),m.flags|=2),m.return=s,c.return=s,c.sibling=m,s.child=c,c=m,m=s.child,D=r.child.memoizedState,D===null?D=Qm(o):(q=D.cachePool,q!==null?(J=Ht._currentValue,q=q.parent!==J?{parent:J,pool:J}:q):q=T0(),D={baseLanes:D.baseLanes|o,cachePool:q}),m.memoizedState=D,m.childLanes=Xm(r,S,o),s.memoizedState=Ym,c):(rs(s),o=r.child,r=o.sibling,o=mi(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(S=s.deletions,S===null?(s.deletions=[r],s.flags|=16):S.push(r)),s.child=o,s.memoizedState=null,o)}function Wm(r,s){return s=Nd({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Nd(r,s){return r=Dn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Zm(r,s,o){return Ro(s,r.child,null,o),r=Wm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function U_(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),gm(r.return,s,o)}function Jm(r,s,o,c,m){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=m)}function z_(r,s,o){var c=s.pendingProps,m=c.revealOrder,g=c.tail;if(sn(r,s,c.children,o),c=qt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&U_(r,o,s);else if(r.tag===19)U_(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(ae(qt,c),m){case"forwards":for(o=s.child,m=null;o!==null;)r=o.alternate,r!==null&&Ad(r)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),Jm(s,!1,m,o,g);break;case"backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(r=m.alternate,r!==null&&Ad(r)===null){s.child=m;break}r=m.sibling,m.sibling=o,o=m,m=r}Jm(s,!0,o,null,g);break;case"together":Jm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function wi(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),cs|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(tc(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=mi(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=mi(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function ep(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&ud(r)))}function yC(r,s,o){switch(s.tag){case 3:ve(s,s.stateNode.containerInfo),Zi(s,Ht,r.memoizedState.cache),Jl();break;case 27:case 5:ke(s);break;case 4:ve(s,s.stateNode.containerInfo);break;case 10:Zi(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(rs(s),s.flags|=128,null):(o&s.child.childLanes)!==0?L_(r,s,o):(rs(s),r=wi(r,s,o),r!==null?r.sibling:null);rs(s);break;case 19:var m=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(tc(r,s,o,!1),c=(o&s.childLanes)!==0),m){if(c)return z_(r,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ae(qt,qt.current),c)break;return null;case 22:case 23:return s.lanes=0,k_(r,s,o);case 24:Zi(s,Ht,r.memoizedState.cache)}return wi(r,s,o)}function B_(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Zt=!0;else{if(!ep(r,o)&&(s.flags&128)===0)return Zt=!1,yC(r,s,o);Zt=(r.flags&131072)!==0}else Zt=!1,tt&&(s.flags&1048576)!==0&&y0(s,cd,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,m=c._init;if(c=m(c._payload),s.type=c,typeof c=="function")cm(c)?(r=wa(c,r),s.tag=1,s=j_(null,s,c,r,o)):(s.tag=0,s=Km(null,s,c,r,o));else{if(c!=null){if(m=c.$$typeof,m===U){s.tag=11,s=N_(null,s,c,r,o);break e}else if(m===O){s.tag=14,s=P_(null,s,c,r,o);break e}}throw s=K(c)||c,Error(i(306,s,""))}}return s;case 0:return Km(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,m=wa(c,s.pendingProps),j_(r,s,c,m,o);case 3:e:{if(ve(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var g=s.memoizedState;m=g.element,xm(r,s),lc(s,c,null,o);var S=s.memoizedState;if(c=S.cache,Zi(s,Ht,c),c!==g.cache&&ym(s,[Ht],o,!0),oc(),c=S.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=V_(r,s,c,o);break e}else if(c!==m){m=Yn(Error(i(424)),s),ec(m),s=V_(r,s,c,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(St=cr(r.firstChild),Tn=s,tt=!0,pa=null,Dr=!0,o=__(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Jl(),c===m){s=wi(r,s,o);break e}sn(r,s,c,o)}s=s.child}return s;case 26:return Id(r,s),r===null?(o=$b(s.type,null,s.pendingProps,null))?s.memoizedState=o:tt||(o=s.type,r=s.pendingProps,c=qd(xe.current).createElement(o),c[zt]=s,c[kt]=r,on(c,o,r),Ct(c),s.stateNode=c):s.memoizedState=$b(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return ke(s),r===null&&tt&&(c=s.stateNode=Fb(s.type,s.pendingProps,xe.current),Tn=s,Dr=!0,m=St,hs(s.type)?(Dp=m,St=cr(c.firstChild)):St=m),sn(r,s,s.pendingProps.children,o),Id(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&tt&&((m=c=St)&&(c=$C(c,s.type,s.pendingProps,Dr),c!==null?(s.stateNode=c,Tn=s,St=cr(c.firstChild),Dr=!1,m=!0):m=!1),m||ga(s)),ke(s),m=s.type,g=s.pendingProps,S=r!==null?r.memoizedProps:null,c=g.children,Np(m,g)?c=null:S!==null&&Np(m,S)&&(s.flags|=32),s.memoizedState!==null&&(m=Im(r,s,cC,null,null,o),Nc._currentValue=m),Id(r,s),sn(r,s,c,o),s.child;case 6:return r===null&&tt&&((r=o=St)&&(o=GC(o,s.pendingProps,Dr),o!==null?(s.stateNode=o,Tn=s,St=null,r=!0):r=!1),r||ga(s)),null;case 13:return L_(r,s,o);case 4:return ve(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Ro(s,null,c,o):sn(r,s,c,o),s.child;case 11:return N_(r,s,s.type,s.pendingProps,o);case 7:return sn(r,s,s.pendingProps,o),s.child;case 8:return sn(r,s,s.pendingProps.children,o),s.child;case 12:return sn(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,Zi(s,s.type,c.value),sn(r,s,c.children,o),s.child;case 9:return m=s.type._context,c=s.pendingProps.children,va(s),m=mn(m),c=c(m),s.flags|=1,sn(r,s,c,o),s.child;case 14:return P_(r,s,s.type,s.pendingProps,o);case 15:return O_(r,s,s.type,s.pendingProps,o);case 19:return z_(r,s,o);case 31:return c=s.pendingProps,o=s.mode,c={mode:c.mode,children:c.children},r===null?(o=Nd(c,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=mi(r.child,c),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return k_(r,s,o);case 24:return va(s),c=mn(Ht),r===null?(m=bm(),m===null&&(m=mt,g=vm(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),s.memoizedState={parent:c,cache:m},Em(s),Zi(s,Ht,m)):((r.lanes&o)!==0&&(xm(r,s),lc(s,null,null,o),oc()),m=r.memoizedState,g=s.memoizedState,m.parent!==c?(m={parent:c,cache:c},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),Zi(s,Ht,c)):(c=g.cache,Zi(s,Ht,c),c!==m.cache&&ym(s,[Ht],o,!0))),sn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Ei(r){r.flags|=4}function F_(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Xb(s)){if(s=Zn.current,s!==null&&((We&4194048)===We?Mr!==null:(We&62914560)!==We&&(We&536870912)===0||s!==Mr))throw sc=wm,S0;r.flags|=8192}}function Pd(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Ol():536870912,r.lanes|=s,Po|=s)}function pc(r,s){if(!tt)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Et(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var m=r.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function vC(r,s,o){var c=s.pendingProps;switch(hm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(s),null;case 1:return Et(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),vi(Ht),Le(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Zl(s)?Ei(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,b0())),Et(s),null;case 26:return o=s.memoizedState,r===null?(Ei(s),o!==null?(Et(s),F_(s,o)):(Et(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Ei(s),Et(s),F_(s,o)):(Et(s),s.flags&=-16777217):(r.memoizedProps!==c&&Ei(s),Et(s),s.flags&=-16777217),null;case 27:De(s),o=xe.current;var m=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Ei(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Et(s),null}r=pe.current,Zl(s)?v0(s):(r=Fb(m,c,o),s.stateNode=r,Ei(s))}return Et(s),null;case 5:if(De(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Ei(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Et(s),null}if(r=pe.current,Zl(s))v0(s);else{switch(m=qd(xe.current),r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?m.createElement(o,{is:c.is}):m.createElement(o)}}r[zt]=s,r[kt]=c;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=r;e:switch(on(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ei(s)}}return Et(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&Ei(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=xe.current,Zl(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,m=Tn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}r[zt]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Mb(r.nodeValue,o)),r||ga(s)}else r=qd(r).createTextNode(c),r[zt]=s,s.stateNode=r}return Et(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=Zl(s),c!==null&&c.dehydrated!==null){if(r===null){if(!m)throw Error(i(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[zt]=s}else Jl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Et(s),m=!1}else m=b0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(bi(s),s):(bi(s),null)}if(bi(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=s.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Pd(s,s.updateQueue),Et(s),null;case 4:return Le(),r===null&&Sp(s.stateNode.containerInfo),Et(s),null;case 10:return vi(s.type),Et(s),null;case 19:if(ue(qt),m=s.memoizedState,m===null)return Et(s),null;if(c=(s.flags&128)!==0,g=m.rendering,g===null)if(c)pc(m,!1);else{if(At!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=Ad(r),g!==null){for(s.flags|=128,pc(m,!1),r=g.updateQueue,s.updateQueue=r,Pd(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)g0(o,r),o=o.sibling;return ae(qt,qt.current&1|2),s.child}r=r.sibling}m.tail!==null&&wt()>Dd&&(s.flags|=128,c=!0,pc(m,!1),s.lanes=4194304)}else{if(!c)if(r=Ad(g),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,Pd(s,r),pc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!g.alternate&&!tt)return Et(s),null}else 2*wt()-m.renderingStartTime>Dd&&o!==536870912&&(s.flags|=128,c=!0,pc(m,!1),s.lanes=4194304);m.isBackwards?(g.sibling=s.child,s.child=g):(r=m.last,r!==null?r.sibling=g:s.child=g,m.last=g)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=wt(),s.sibling=null,r=qt.current,ae(qt,c?r&1|2:r&1),s):(Et(s),null);case 22:case 23:return bi(s),Rm(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(Et(s),s.subtreeFlags&6&&(s.flags|=8192)):Et(s),o=s.updateQueue,o!==null&&Pd(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&ue(_a),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),vi(Ht),Et(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function _C(r,s){switch(hm(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return vi(Ht),Le(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return De(s),null;case 13:if(bi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Jl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ue(qt),null;case 4:return Le(),null;case 10:return vi(s.type),null;case 22:case 23:return bi(s),Rm(),r!==null&&ue(_a),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return vi(Ht),null;case 25:return null;default:return null}}function H_(r,s){switch(hm(s),s.tag){case 3:vi(Ht),Le();break;case 26:case 27:case 5:De(s);break;case 4:Le();break;case 13:bi(s);break;case 19:ue(qt);break;case 10:vi(s.type);break;case 22:case 23:bi(s),Rm(),r!==null&&ue(_a);break;case 24:vi(Ht)}}function gc(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&r)===r){c=void 0;var g=o.create,S=o.inst;c=g(),S.destroy=c}o=o.next}while(o!==m)}}catch(D){ht(s,s.return,D)}}function ss(r,s,o){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&r)===r){var S=c.inst,D=S.destroy;if(D!==void 0){S.destroy=void 0,m=s;var q=o,J=D;try{J()}catch(le){ht(m,q,le)}}}c=c.next}while(c!==g)}}catch(le){ht(s,s.return,le)}}function q_(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{P0(s,o)}catch(c){ht(r,r.return,c)}}}function $_(r,s,o){o.props=wa(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){ht(r,s,c)}}function yc(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(m){ht(r,s,m)}}function jr(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){ht(r,s,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){ht(r,s,m)}else o.current=null}function G_(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){ht(r,r.return,m)}}function tp(r,s,o){try{var c=r.stateNode;zC(c,r.type,o,s),c[kt]=s}catch(m){ht(r,r.return,m)}}function K_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&hs(r.type)||r.tag===4}function np(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||K_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&hs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function rp(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Hd));else if(c!==4&&(c===27&&hs(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(rp(r,s,o),r=r.sibling;r!==null;)rp(r,s,o),r=r.sibling}function Od(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(c===27&&hs(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Od(r,s,o),r=r.sibling;r!==null;)Od(r,s,o),r=r.sibling}function Y_(r){var s=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);on(s,c,o),s[zt]=r,s[kt]=o}catch(g){ht(r,r.return,g)}}var xi=!1,Nt=!1,ip=!1,Q_=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function bC(r,s){if(r=r.containerInfo,Cp=Xd,r=a0(r),nm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var S=0,D=-1,q=-1,J=0,le=0,de=r,ee=null;t:for(;;){for(var ne;de!==o||m!==0&&de.nodeType!==3||(D=S+m),de!==g||c!==0&&de.nodeType!==3||(q=S+c),de.nodeType===3&&(S+=de.nodeValue.length),(ne=de.firstChild)!==null;)ee=de,de=ne;for(;;){if(de===r)break t;if(ee===o&&++J===m&&(D=S),ee===g&&++le===c&&(q=S),(ne=de.nextSibling)!==null)break;de=ee,ee=de.parentNode}de=ne}o=D===-1||q===-1?null:{start:D,end:q}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ip={focusedElem:r,selectionRange:o},Xd=!1,Jt=s;Jt!==null;)if(s=Jt,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Jt=r;else for(;Jt!==null;){switch(s=Jt,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Oe=wa(o.type,m,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(Oe,g),c.__reactInternalSnapshotBeforeUpdate=r}catch(Ce){ht(o,o.return,Ce)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Op(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Op(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Jt=r;break}Jt=s.return}}function X_(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:as(r,o),c&4&&gc(5,o);break;case 1:if(as(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(S){ht(o,o.return,S)}else{var m=wa(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(m,s,r.__reactInternalSnapshotBeforeUpdate)}catch(S){ht(o,o.return,S)}}c&64&&q_(o),c&512&&yc(o,o.return);break;case 3:if(as(r,o),c&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{P0(r,s)}catch(S){ht(o,o.return,S)}}break;case 27:s===null&&c&4&&Y_(o);case 26:case 5:as(r,o),s===null&&c&4&&G_(o),c&512&&yc(o,o.return);break;case 12:as(r,o);break;case 13:as(r,o),c&4&&J_(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=IC.bind(null,o),KC(r,o))));break;case 22:if(c=o.memoizedState!==null||xi,!c){s=s!==null&&s.memoizedState!==null||Nt,m=xi;var g=Nt;xi=c,(Nt=s)&&!g?os(r,o,(o.subtreeFlags&8772)!==0):as(r,o),xi=m,Nt=g}break;case 30:break;default:as(r,o)}}function W_(r){var s=r.alternate;s!==null&&(r.alternate=null,W_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Yi(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var vt=null,An=!1;function Ti(r,s,o){for(o=o.child;o!==null;)Z_(r,s,o),o=o.sibling}function Z_(r,s,o){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(Tt,o)}catch{}switch(o.tag){case 26:Nt||jr(o,s),Ti(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Nt||jr(o,s);var c=vt,m=An;hs(o.type)&&(vt=o.stateNode,An=!1),Ti(r,s,o),Ac(o.stateNode),vt=c,An=m;break;case 5:Nt||jr(o,s);case 6:if(c=vt,m=An,vt=null,Ti(r,s,o),vt=c,An=m,vt!==null)if(An)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(o.stateNode)}catch(g){ht(o,s,g)}else try{vt.removeChild(o.stateNode)}catch(g){ht(o,s,g)}break;case 18:vt!==null&&(An?(r=vt,zb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Dc(r)):zb(vt,o.stateNode));break;case 4:c=vt,m=An,vt=o.stateNode.containerInfo,An=!0,Ti(r,s,o),vt=c,An=m;break;case 0:case 11:case 14:case 15:Nt||ss(2,o,s),Nt||ss(4,o,s),Ti(r,s,o);break;case 1:Nt||(jr(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&$_(o,s,c)),Ti(r,s,o);break;case 21:Ti(r,s,o);break;case 22:Nt=(c=Nt)||o.memoizedState!==null,Ti(r,s,o),Nt=c;break;default:Ti(r,s,o)}}function J_(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Dc(r)}catch(o){ht(s,s.return,o)}}function wC(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new Q_),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new Q_),s;default:throw Error(i(435,r.tag))}}function sp(r,s){var o=wC(r);s.forEach(function(c){var m=NC.bind(null,r,c);o.has(c)||(o.add(c),c.then(m,m))})}function Mn(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=r,S=s,D=S;e:for(;D!==null;){switch(D.tag){case 27:if(hs(D.type)){vt=D.stateNode,An=!1;break e}break;case 5:vt=D.stateNode,An=!1;break e;case 3:case 4:vt=D.stateNode.containerInfo,An=!0;break e}D=D.return}if(vt===null)throw Error(i(160));Z_(g,S,m),vt=null,An=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)eb(s,r),s=s.sibling}var lr=null;function eb(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Mn(s,r),jn(r),c&4&&(ss(3,r,r.return),gc(3,r),ss(5,r,r.return));break;case 1:Mn(s,r),jn(r),c&512&&(Nt||o===null||jr(o,o.return)),c&64&&xi&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=lr;if(Mn(s,r),jn(r),c&512&&(Nt||o===null||jr(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Xs]||g[zt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),on(g,c,o),g[zt]=r,Ct(g),c=g;break e;case"link":var S=Yb("link","href",m).get(c+(o.href||""));if(S){for(var D=0;D<S.length;D++)if(g=S[D],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(D,1);break t}}g=m.createElement(c),on(g,c,o),m.head.appendChild(g);break;case"meta":if(S=Yb("meta","content",m).get(c+(o.content||""))){for(D=0;D<S.length;D++)if(g=S[D],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(D,1);break t}}g=m.createElement(c),on(g,c,o),m.head.appendChild(g);break;default:throw Error(i(468,c))}g[zt]=r,Ct(g),c=g}r.stateNode=c}else Qb(m,r.type,r.stateNode);else r.stateNode=Kb(m,c,r.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?Qb(m,r.type,r.stateNode):Kb(m,c,r.memoizedProps)):c===null&&r.stateNode!==null&&tp(r,r.memoizedProps,o.memoizedProps)}break;case 27:Mn(s,r),jn(r),c&512&&(Nt||o===null||jr(o,o.return)),o!==null&&c&4&&tp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Mn(s,r),jn(r),c&512&&(Nt||o===null||jr(o,o.return)),r.flags&32){m=r.stateNode;try{qn(m,"")}catch(ne){ht(r,r.return,ne)}}c&4&&r.stateNode!=null&&(m=r.memoizedProps,tp(r,m,o!==null?o.memoizedProps:m)),c&1024&&(ip=!0);break;case 6:if(Mn(s,r),jn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(ne){ht(r,r.return,ne)}}break;case 3:if(Kd=null,m=lr,lr=$d(s.containerInfo),Mn(s,r),lr=m,jn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Dc(s.containerInfo)}catch(ne){ht(r,r.return,ne)}ip&&(ip=!1,tb(r));break;case 4:c=lr,lr=$d(r.stateNode.containerInfo),Mn(s,r),jn(r),lr=c;break;case 12:Mn(s,r),jn(r);break;case 13:Mn(s,r),jn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(dp=wt()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,sp(r,c)));break;case 22:m=r.memoizedState!==null;var q=o!==null&&o.memoizedState!==null,J=xi,le=Nt;if(xi=J||m,Nt=le||q,Mn(s,r),Nt=le,xi=J,jn(r),c&8192)e:for(s=r.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||q||xi||Nt||Ea(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){q=o=s;try{if(g=q.stateNode,m)S=g.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{D=q.stateNode;var de=q.memoizedProps.style,ee=de!=null&&de.hasOwnProperty("display")?de.display:null;D.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(ne){ht(q,q.return,ne)}}}else if(s.tag===6){if(o===null){q=s;try{q.stateNode.nodeValue=m?"":q.memoizedProps}catch(ne){ht(q,q.return,ne)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,sp(r,o))));break;case 19:Mn(s,r),jn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,sp(r,c)));break;case 30:break;case 21:break;default:Mn(s,r),jn(r)}}function jn(r){var s=r.flags;if(s&2){try{for(var o,c=r.return;c!==null;){if(K_(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var m=o.stateNode,g=np(r);Od(r,g,m);break;case 5:var S=o.stateNode;o.flags&32&&(qn(S,""),o.flags&=-33);var D=np(r);Od(r,D,S);break;case 3:case 4:var q=o.stateNode.containerInfo,J=np(r);rp(r,J,q);break;default:throw Error(i(161))}}catch(le){ht(r,r.return,le)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function tb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;tb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function as(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)X_(r,s.alternate,s),s=s.sibling}function Ea(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:ss(4,s,s.return),Ea(s);break;case 1:jr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&$_(s,s.return,o),Ea(s);break;case 27:Ac(s.stateNode);case 26:case 5:jr(s,s.return),Ea(s);break;case 22:s.memoizedState===null&&Ea(s);break;case 30:Ea(s);break;default:Ea(s)}r=r.sibling}}function os(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,m=r,g=s,S=g.flags;switch(g.tag){case 0:case 11:case 15:os(m,g,o),gc(4,g);break;case 1:if(os(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(J){ht(c,c.return,J)}if(c=g,m=c.updateQueue,m!==null){var D=c.stateNode;try{var q=m.shared.hiddenCallbacks;if(q!==null)for(m.shared.hiddenCallbacks=null,m=0;m<q.length;m++)N0(q[m],D)}catch(J){ht(c,c.return,J)}}o&&S&64&&q_(g),yc(g,g.return);break;case 27:Y_(g);case 26:case 5:os(m,g,o),o&&c===null&&S&4&&G_(g),yc(g,g.return);break;case 12:os(m,g,o);break;case 13:os(m,g,o),o&&S&4&&J_(m,g);break;case 22:g.memoizedState===null&&os(m,g,o),yc(g,g.return);break;case 30:break;default:os(m,g,o)}s=s.sibling}}function ap(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&nc(o))}function op(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&nc(r))}function Vr(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)nb(r,s,o,c),s=s.sibling}function nb(r,s,o,c){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Vr(r,s,o,c),m&2048&&gc(9,s);break;case 1:Vr(r,s,o,c);break;case 3:Vr(r,s,o,c),m&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&nc(r)));break;case 12:if(m&2048){Vr(r,s,o,c),r=s.stateNode;try{var g=s.memoizedProps,S=g.id,D=g.onPostCommit;typeof D=="function"&&D(S,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(q){ht(s,s.return,q)}}else Vr(r,s,o,c);break;case 13:Vr(r,s,o,c);break;case 23:break;case 22:g=s.stateNode,S=s.alternate,s.memoizedState!==null?g._visibility&2?Vr(r,s,o,c):vc(r,s):g._visibility&2?Vr(r,s,o,c):(g._visibility|=2,Co(r,s,o,c,(s.subtreeFlags&10256)!==0)),m&2048&&ap(S,s);break;case 24:Vr(r,s,o,c),m&2048&&op(s.alternate,s);break;default:Vr(r,s,o,c)}}function Co(r,s,o,c,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,S=s,D=o,q=c,J=S.flags;switch(S.tag){case 0:case 11:case 15:Co(g,S,D,q,m),gc(8,S);break;case 23:break;case 22:var le=S.stateNode;S.memoizedState!==null?le._visibility&2?Co(g,S,D,q,m):vc(g,S):(le._visibility|=2,Co(g,S,D,q,m)),m&&J&2048&&ap(S.alternate,S);break;case 24:Co(g,S,D,q,m),m&&J&2048&&op(S.alternate,S);break;default:Co(g,S,D,q,m)}s=s.sibling}}function vc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,m=c.flags;switch(c.tag){case 22:vc(o,c),m&2048&&ap(c.alternate,c);break;case 24:vc(o,c),m&2048&&op(c.alternate,c);break;default:vc(o,c)}s=s.sibling}}var _c=8192;function Io(r){if(r.subtreeFlags&_c)for(r=r.child;r!==null;)rb(r),r=r.sibling}function rb(r){switch(r.tag){case 26:Io(r),r.flags&_c&&r.memoizedState!==null&&aI(lr,r.memoizedState,r.memoizedProps);break;case 5:Io(r);break;case 3:case 4:var s=lr;lr=$d(r.stateNode.containerInfo),Io(r),lr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=_c,_c=16777216,Io(r),_c=s):Io(r));break;default:Io(r)}}function ib(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function bc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Jt=c,ab(c,r)}ib(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)sb(r),r=r.sibling}function sb(r){switch(r.tag){case 0:case 11:case 15:bc(r),r.flags&2048&&ss(9,r,r.return);break;case 3:bc(r);break;case 12:bc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,kd(r)):bc(r);break;default:bc(r)}}function kd(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Jt=c,ab(c,r)}ib(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:ss(8,s,s.return),kd(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,kd(s));break;default:kd(s)}r=r.sibling}}function ab(r,s){for(;Jt!==null;){var o=Jt;switch(o.tag){case 0:case 11:case 15:ss(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:nc(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Jt=c;else e:for(o=r;Jt!==null;){c=Jt;var m=c.sibling,g=c.return;if(W_(c),c===o){Jt=null;break e}if(m!==null){m.return=g,Jt=m;break e}Jt=g}}}var EC={getCacheForType:function(r){var s=mn(Ht),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},xC=typeof WeakMap=="function"?WeakMap:Map,st=0,mt=null,$e=null,We=0,at=0,Vn=null,ls=!1,No=!1,lp=!1,Si=0,At=0,cs=0,xa=0,cp=0,Jn=0,Po=0,wc=null,Rn=null,up=!1,dp=0,Dd=1/0,Md=null,us=null,an=0,ds=null,Oo=null,ko=0,fp=0,hp=null,ob=null,Ec=0,mp=null;function Ln(){if((st&2)!==0&&We!==0)return We&-We;if($.T!==null){var r=bo;return r!==0?r:wp()}return Gi()}function lb(){Jn===0&&(Jn=(We&536870912)===0||tt?Pl():536870912);var r=Zn.current;return r!==null&&(r.flags|=32),Jn}function Un(r,s,o){(r===mt&&(at===2||at===9)||r.cancelPendingCommit!==null)&&(Do(r,0),fs(r,We,Jn,!1)),ri(r,o),((st&2)===0||r!==mt)&&(r===mt&&((st&2)===0&&(xa|=o),At===4&&fs(r,We,Jn,!1)),Lr(r))}function cb(r,s,o){if((st&6)!==0)throw Error(i(327));var c=!o&&(s&124)===0&&(s&r.expiredLanes)===0||Qs(r,s),m=c?AC(r,s):yp(r,s,!0),g=c;do{if(m===0){No&&!c&&fs(r,s,0,!1);break}else{if(o=r.current.alternate,g&&!TC(o)){m=yp(r,s,!1),g=!1;continue}if(m===2){if(g=s,r.errorRecoveryDisabledLanes&g)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var D=r;m=wc;var q=D.current.memoizedState.isDehydrated;if(q&&(Do(D,S).flags|=256),S=yp(D,S,!1),S!==2){if(lp&&!q){D.errorRecoveryDisabledLanes|=g,xa|=g,m=4;break e}g=Rn,Rn=m,g!==null&&(Rn===null?Rn=g:Rn.push.apply(Rn,g))}m=S}if(g=!1,m!==2)continue}}if(m===1){Do(r,0),fs(r,s,0,!0);break}e:{switch(c=r,g=m,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:fs(c,s,Jn,!ls);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(m=dp+300-wt(),10<m)){if(fs(c,s,Jn,!ls),Xa(c,0,!0)!==0)break e;c.timeoutHandle=Lb(ub.bind(null,c,o,Rn,Md,up,s,Jn,xa,Po,ls,g,2,-0,0),m);break e}ub(c,o,Rn,Md,up,s,Jn,xa,Po,ls,g,0,-0,0)}}break}while(!0);Lr(r)}function ub(r,s,o,c,m,g,S,D,q,J,le,de,ee,ne){if(r.timeoutHandle=-1,de=s.subtreeFlags,(de&8192||(de&16785408)===16785408)&&(Ic={stylesheets:null,count:0,unsuspend:sI},rb(s),de=oI(),de!==null)){r.cancelPendingCommit=de(yb.bind(null,r,s,g,o,c,m,S,D,q,le,1,ee,ne)),fs(r,g,S,!J);return}yb(r,s,g,o,c,m,S,D,q)}function TC(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!kn(g(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function fs(r,s,o,c){s&=~cp,s&=~xa,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var m=s;0<m;){var g=31-hn(m),S=1<<g;c[g]=-1,m&=~S}o!==0&&xr(r,o,s)}function jd(){return(st&6)===0?(xc(0),!1):!0}function pp(){if($e!==null){if(at===0)var r=$e.return;else r=$e,yi=ya=null,Om(r),Ao=null,hc=0,r=$e;for(;r!==null;)H_(r.alternate,r),r=r.return;$e=null}}function Do(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,FC(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),pp(),mt=r,$e=o=mi(r.current,null),We=s,at=0,Vn=null,ls=!1,No=Qs(r,s),lp=!1,Po=Jn=cp=xa=cs=At=0,Rn=wc=null,up=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var m=31-hn(c),g=1<<m;s|=r[m],c&=~g}return Si=s,id(),o}function db(r,s){ze=null,$.H=xd,s===ic||s===hd?(s=C0(),at=3):s===S0?(s=C0(),at=4):at=s===I_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Vn=s,$e===null&&(At=1,Cd(r,Yn(s,r.current)))}function fb(){var r=$.H;return $.H=xd,r===null?xd:r}function hb(){var r=$.A;return $.A=EC,r}function gp(){At=4,ls||(We&4194048)!==We&&Zn.current!==null||(No=!0),(cs&134217727)===0&&(xa&134217727)===0||mt===null||fs(mt,We,Jn,!1)}function yp(r,s,o){var c=st;st|=2;var m=fb(),g=hb();(mt!==r||We!==s)&&(Md=null,Do(r,s)),s=!1;var S=At;e:do try{if(at!==0&&$e!==null){var D=$e,q=Vn;switch(at){case 8:pp(),S=6;break e;case 3:case 2:case 9:case 6:Zn.current===null&&(s=!0);var J=at;if(at=0,Vn=null,Mo(r,D,q,J),o&&No){S=0;break e}break;default:J=at,at=0,Vn=null,Mo(r,D,q,J)}}SC(),S=At;break}catch(le){db(r,le)}while(!0);return s&&r.shellSuspendCounter++,yi=ya=null,st=c,$.H=m,$.A=g,$e===null&&(mt=null,We=0,id()),S}function SC(){for(;$e!==null;)mb($e)}function AC(r,s){var o=st;st|=2;var c=fb(),m=hb();mt!==r||We!==s?(Md=null,Dd=wt()+500,Do(r,s)):No=Qs(r,s);e:do try{if(at!==0&&$e!==null){s=$e;var g=Vn;t:switch(at){case 1:at=0,Vn=null,Mo(r,s,g,1);break;case 2:case 9:if(A0(g)){at=0,Vn=null,pb(s);break}s=function(){at!==2&&at!==9||mt!==r||(at=7),Lr(r)},g.then(s,s);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:A0(g)?(at=0,Vn=null,pb(s)):(at=0,Vn=null,Mo(r,s,g,7));break;case 5:var S=null;switch($e.tag){case 26:S=$e.memoizedState;case 5:case 27:var D=$e;if(!S||Xb(S)){at=0,Vn=null;var q=D.sibling;if(q!==null)$e=q;else{var J=D.return;J!==null?($e=J,Vd(J)):$e=null}break t}}at=0,Vn=null,Mo(r,s,g,5);break;case 6:at=0,Vn=null,Mo(r,s,g,6);break;case 8:pp(),At=6;break e;default:throw Error(i(462))}}RC();break}catch(le){db(r,le)}while(!0);return yi=ya=null,$.H=c,$.A=m,st=o,$e!==null?0:(mt=null,We=0,id(),At)}function RC(){for(;$e!==null&&!Ae();)mb($e)}function mb(r){var s=B_(r.alternate,r,Si);r.memoizedProps=r.pendingProps,s===null?Vd(r):$e=s}function pb(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=M_(o,s,s.pendingProps,s.type,void 0,We);break;case 11:s=M_(o,s,s.pendingProps,s.type.render,s.ref,We);break;case 5:Om(s);default:H_(o,s),s=$e=g0(s,Si),s=B_(o,s,Si)}r.memoizedProps=r.pendingProps,s===null?Vd(r):$e=s}function Mo(r,s,o,c){yi=ya=null,Om(s),Ao=null,hc=0;var m=s.return;try{if(gC(r,m,s,o,We)){At=1,Cd(r,Yn(o,r.current)),$e=null;return}}catch(g){if(m!==null)throw $e=m,g;At=1,Cd(r,Yn(o,r.current)),$e=null;return}s.flags&32768?(tt||c===1?r=!0:No||(We&536870912)!==0?r=!1:(ls=r=!0,(c===2||c===9||c===3||c===6)&&(c=Zn.current,c!==null&&c.tag===13&&(c.flags|=16384))),gb(s,r)):Vd(s)}function Vd(r){var s=r;do{if((s.flags&32768)!==0){gb(s,ls);return}r=s.return;var o=vC(s.alternate,s,Si);if(o!==null){$e=o;return}if(s=s.sibling,s!==null){$e=s;return}$e=s=r}while(s!==null);At===0&&(At=5)}function gb(r,s){do{var o=_C(r.alternate,r);if(o!==null){o.flags&=32767,$e=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){$e=r;return}$e=r=o}while(r!==null);At=6,$e=null}function yb(r,s,o,c,m,g,S,D,q){r.cancelPendingCommit=null;do Ld();while(an!==0);if((st&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=om,kl(r,o,g,S,D,q),r===mt&&($e=mt=null,We=0),Oo=s,ds=r,ko=o,fp=g,hp=m,ob=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,PC($s,function(){return Eb(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,m=re.p,re.p=2,S=st,st|=4;try{bC(r,s,o)}finally{st=S,re.p=m,$.T=c}}an=1,vb(),_b(),bb()}}function vb(){if(an===1){an=0;var r=ds,s=Oo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var c=re.p;re.p=2;var m=st;st|=4;try{eb(s,r);var g=Ip,S=a0(r.containerInfo),D=g.focusedElem,q=g.selectionRange;if(S!==D&&D&&D.ownerDocument&&s0(D.ownerDocument.documentElement,D)){if(q!==null&&nm(D)){var J=q.start,le=q.end;if(le===void 0&&(le=J),"selectionStart"in D)D.selectionStart=J,D.selectionEnd=Math.min(le,D.value.length);else{var de=D.ownerDocument||document,ee=de&&de.defaultView||window;if(ee.getSelection){var ne=ee.getSelection(),Oe=D.textContent.length,Ce=Math.min(q.start,Oe),dt=q.end===void 0?Ce:Math.min(q.end,Oe);!ne.extend&&Ce>dt&&(S=dt,dt=Ce,Ce=S);var Q=i0(D,Ce),G=i0(D,dt);if(Q&&G&&(ne.rangeCount!==1||ne.anchorNode!==Q.node||ne.anchorOffset!==Q.offset||ne.focusNode!==G.node||ne.focusOffset!==G.offset)){var Z=de.createRange();Z.setStart(Q.node,Q.offset),ne.removeAllRanges(),Ce>dt?(ne.addRange(Z),ne.extend(G.node,G.offset)):(Z.setEnd(G.node,G.offset),ne.addRange(Z))}}}}for(de=[],ne=D;ne=ne.parentNode;)ne.nodeType===1&&de.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<de.length;D++){var ce=de[D];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Xd=!!Cp,Ip=Cp=null}finally{st=m,re.p=c,$.T=o}}r.current=s,an=2}}function _b(){if(an===2){an=0;var r=ds,s=Oo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var c=re.p;re.p=2;var m=st;st|=4;try{X_(r,s.alternate,s)}finally{st=m,re.p=c,$.T=o}}an=3}}function bb(){if(an===4||an===3){an=0,bt();var r=ds,s=Oo,o=ko,c=ob;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?an=5:(an=0,Oo=ds=null,wb(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(us=null),Wa(o),s=s.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(Tt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=$.T,m=re.p,re.p=2,$.T=null;try{for(var g=r.onRecoverableError,S=0;S<c.length;S++){var D=c[S];g(D.value,{componentStack:D.stack})}}finally{$.T=s,re.p=m}}(ko&3)!==0&&Ld(),Lr(r),m=r.pendingLanes,(o&4194090)!==0&&(m&42)!==0?r===mp?Ec++:(Ec=0,mp=r):Ec=0,xc(0)}}function wb(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,nc(s)))}function Ld(r){return vb(),_b(),bb(),Eb()}function Eb(){if(an!==5)return!1;var r=ds,s=fp;fp=0;var o=Wa(ko),c=$.T,m=re.p;try{re.p=32>o?32:o,$.T=null,o=hp,hp=null;var g=ds,S=ko;if(an=0,Oo=ds=null,ko=0,(st&6)!==0)throw Error(i(331));var D=st;if(st|=4,sb(g.current),nb(g,g.current,S,o),st=D,xc(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(Tt,g)}catch{}return!0}finally{re.p=m,$.T=c,wb(r,s)}}function xb(r,s,o){s=Yn(o,s),s=Gm(r.stateNode,s,2),r=ts(r,s,2),r!==null&&(ri(r,2),Lr(r))}function ht(r,s,o){if(r.tag===3)xb(r,r,o);else for(;s!==null;){if(s.tag===3){xb(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(us===null||!us.has(c))){r=Yn(o,r),o=R_(2),c=ts(s,o,2),c!==null&&(C_(o,c,s,r),ri(c,2),Lr(c));break}}s=s.return}}function vp(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new xC;var m=new Set;c.set(s,m)}else m=c.get(s),m===void 0&&(m=new Set,c.set(s,m));m.has(o)||(lp=!0,m.add(o),r=CC.bind(null,r,s,o),s.then(r,r))}function CC(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,mt===r&&(We&o)===o&&(At===4||At===3&&(We&62914560)===We&&300>wt()-dp?(st&2)===0&&Do(r,0):cp|=o,Po===We&&(Po=0)),Lr(r)}function Tb(r,s){s===0&&(s=Ol()),r=go(r,s),r!==null&&(ri(r,s),Lr(r))}function IC(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),Tb(r,o)}function NC(r,s){var o=0;switch(r.tag){case 13:var c=r.stateNode,m=r.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),Tb(r,o)}function PC(r,s){return pt(r,s)}var Ud=null,jo=null,_p=!1,zd=!1,bp=!1,Ta=0;function Lr(r){r!==jo&&r.next===null&&(jo===null?Ud=jo=r:jo=jo.next=r),zd=!0,_p||(_p=!0,kC())}function xc(r,s){if(!bp&&zd){bp=!0;do for(var o=!1,c=Ud;c!==null;){if(r!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var S=c.suspendedLanes,D=c.pingedLanes;g=(1<<31-hn(42|r)+1)-1,g&=m&~(S&~D),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Cb(c,g))}else g=We,g=Xa(c,c===mt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Qs(c,g)||(o=!0,Cb(c,g));c=c.next}while(o);bp=!1}}function OC(){Sb()}function Sb(){zd=_p=!1;var r=0;Ta!==0&&(BC()&&(r=Ta),Ta=0);for(var s=wt(),o=null,c=Ud;c!==null;){var m=c.next,g=Ab(c,s);g===0?(c.next=null,o===null?Ud=m:o.next=m,m===null&&(jo=o)):(o=c,(r!==0||(g&3)!==0)&&(zd=!0)),c=m}xc(r)}function Ab(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,m=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var S=31-hn(g),D=1<<S,q=m[S];q===-1?((D&o)===0||(D&c)!==0)&&(m[S]=Nl(D,s)):q<=s&&(r.expiredLanes|=D),g&=~D}if(s=mt,o=We,o=Xa(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===s&&(at===2||at===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Rt(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Qs(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&Rt(c),Wa(o)){case 2:case 8:o=Ya;break;case 32:o=$s;break;case 268435456:o=Qa;break;default:o=$s}return c=Rb.bind(null,r),o=pt(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&Rt(c),r.callbackPriority=2,r.callbackNode=null,2}function Rb(r,s){if(an!==0&&an!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Ld()&&r.callbackNode!==o)return null;var c=We;return c=Xa(r,r===mt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(cb(r,c,s),Ab(r,wt()),r.callbackNode!=null&&r.callbackNode===o?Rb.bind(null,r):null)}function Cb(r,s){if(Ld())return null;cb(r,s,!0)}function kC(){HC(function(){(st&6)!==0?pt(Er,OC):Sb()})}function wp(){return Ta===0&&(Ta=Pl()),Ta}function Ib(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:ro(""+r)}function Nb(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function DC(r,s,o,c,m){if(s==="submit"&&o&&o.stateNode===m){var g=Ib((m[kt]||null).action),S=c.submitter;S&&(s=(s=S[kt]||null)?Ib(s.formAction):S.getAttribute("formAction"),s!==null&&(g=s,S=null));var D=new io("action","action",null,c,m);r.push({event:D,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ta!==0){var q=S?Nb(m,S):new FormData(m);Bm(o,{pending:!0,data:q,method:m.method,action:g},null,q)}}else typeof g=="function"&&(D.preventDefault(),q=S?Nb(m,S):new FormData(m),Bm(o,{pending:!0,data:q,method:m.method,action:g},g,q))},currentTarget:m}]})}}for(var Ep=0;Ep<am.length;Ep++){var xp=am[Ep],MC=xp.toLowerCase(),jC=xp[0].toUpperCase()+xp.slice(1);or(MC,"on"+jC)}or(c0,"onAnimationEnd"),or(u0,"onAnimationIteration"),or(d0,"onAnimationStart"),or("dblclick","onDoubleClick"),or("focusin","onFocus"),or("focusout","onBlur"),or(JR,"onTransitionRun"),or(eC,"onTransitionStart"),or(tC,"onTransitionCancel"),or(f0,"onTransitionEnd"),si("onMouseEnter",["mouseout","mouseover"]),si("onMouseLeave",["mouseout","mouseover"]),si("onPointerEnter",["pointerout","pointerover"]),si("onPointerLeave",["pointerout","pointerover"]),sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tc));function Pb(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],m=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var S=c.length-1;0<=S;S--){var D=c[S],q=D.instance,J=D.currentTarget;if(D=D.listener,q!==g&&m.isPropagationStopped())break e;g=D,m.currentTarget=J;try{g(m)}catch(le){Rd(le)}m.currentTarget=null,g=q}else for(S=0;S<c.length;S++){if(D=c[S],q=D.instance,J=D.currentTarget,D=D.listener,q!==g&&m.isPropagationStopped())break e;g=D,m.currentTarget=J;try{g(m)}catch(le){Rd(le)}m.currentTarget=null,g=q}}}}function Ge(r,s){var o=s[Ml];o===void 0&&(o=s[Ml]=new Set);var c=r+"__bubble";o.has(c)||(Ob(s,r,2,!1),o.add(c))}function Tp(r,s,o){var c=0;s&&(c|=4),Ob(o,r,c,s)}var Bd="_reactListening"+Math.random().toString(36).slice(2);function Sp(r){if(!r[Bd]){r[Bd]=!0,jl.forEach(function(o){o!=="selectionchange"&&(VC.has(o)||Tp(o,!1,r),Tp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Bd]||(s[Bd]=!0,Tp("selectionchange",!1,s))}}function Ob(r,s,o,c){switch(nw(s)){case 2:var m=uI;break;case 8:m=dI;break;default:m=Up}o=m.bind(null,s,o,r),m=void 0,!Gn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),c?m!==void 0?r.addEventListener(s,o,{capture:!0,passive:m}):r.addEventListener(s,o,!0):m!==void 0?r.addEventListener(s,o,{passive:m}):r.addEventListener(s,o,!1)}function Ap(r,s,o,c,m){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var D=c.stateNode.containerInfo;if(D===m)break;if(S===4)for(S=c.return;S!==null;){var q=S.tag;if((q===3||q===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;D!==null;){if(S=ii(D),S===null)return;if(q=S.tag,q===5||q===6||q===26||q===27){c=g=S;continue e}D=D.parentNode}}c=c.return}Hu(function(){var J=g,le=$n(o),de=[];e:{var ee=h0.get(r);if(ee!==void 0){var ne=io,Oe=r;switch(r){case"keypress":if(Ir(o)===0)break e;case"keydown":case"keyup":ne=uo;break;case"focusin":Oe="focus",ne=oo;break;case"focusout":Oe="blur",ne=oo;break;case"beforeblur":case"afterblur":ne=oo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Zh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=Wu;break;case c0:case u0:case d0:ne=lo;break;case f0:ne=Ju;break;case"scroll":case"scrollend":ne=qu;break;case"wheel":ne=fo;break;case"copy":case"cut":case"paste":ne=co;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Yl;break;case"toggle":case"beforetoggle":ne=td}var Ce=(s&4)!==0,dt=!Ce&&(r==="scroll"||r==="scrollend"),Q=Ce?ee!==null?ee+"Capture":null:ee;Ce=[];for(var G=J,Z;G!==null;){var ce=G;if(Z=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||Z===null||Q===null||(ce=ra(G,Q),ce!=null&&Ce.push(Sc(G,ce,Z))),dt)break;G=G.return}0<Ce.length&&(ee=new ne(ee,Oe,null,o,le),de.push({event:ee,listeners:Ce}))}}if((s&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",ne=r==="mouseout"||r==="pointerout",ee&&o!==li&&(Oe=o.relatedTarget||o.fromElement)&&(ii(Oe)||Oe[Hn]))break e;if((ne||ee)&&(ee=le.window===le?le:(ee=le.ownerDocument)?ee.defaultView||ee.parentWindow:window,ne?(Oe=o.relatedTarget||o.toElement,ne=J,Oe=Oe?ii(Oe):null,Oe!==null&&(dt=l(Oe),Ce=Oe.tag,Oe!==dt||Ce!==5&&Ce!==27&&Ce!==6)&&(Oe=null)):(ne=null,Oe=J),ne!==Oe)){if(Ce=Kn,ce="onMouseLeave",Q="onMouseEnter",G="mouse",(r==="pointerout"||r==="pointerover")&&(Ce=Yl,ce="onPointerLeave",Q="onPointerEnter",G="pointer"),dt=ne==null?ee:Sr(ne),Z=Oe==null?ee:Sr(Oe),ee=new Ce(ce,G+"leave",ne,o,le),ee.target=dt,ee.relatedTarget=Z,ce=null,ii(le)===J&&(Ce=new Ce(Q,G+"enter",Oe,o,le),Ce.target=Z,Ce.relatedTarget=dt,ce=Ce),dt=ce,ne&&Oe)t:{for(Ce=ne,Q=Oe,G=0,Z=Ce;Z;Z=Vo(Z))G++;for(Z=0,ce=Q;ce;ce=Vo(ce))Z++;for(;0<G-Z;)Ce=Vo(Ce),G--;for(;0<Z-G;)Q=Vo(Q),Z--;for(;G--;){if(Ce===Q||Q!==null&&Ce===Q.alternate)break t;Ce=Vo(Ce),Q=Vo(Q)}Ce=null}else Ce=null;ne!==null&&kb(de,ee,ne,Ce,!1),Oe!==null&&dt!==null&&kb(de,dt,Oe,Ce,!0)}}e:{if(ee=J?Sr(J):window,ne=ee.nodeName&&ee.nodeName.toLowerCase(),ne==="select"||ne==="input"&&ee.type==="file")var be=Zv;else if(Ft(ee))if(Jv)be=XR;else{be=YR;var qe=KR}else ne=ee.nodeName,!ne||ne.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?J&&Bl(J.elementType)&&(be=Zv):be=QR;if(be&&(be=be(r,J))){hi(de,be,o,le);break e}qe&&qe(r,ee,J),r==="focusout"&&J&&ee.type==="number"&&J.memoizedProps.value!=null&&Xi(ee,"number",ee.value)}switch(qe=J?Sr(J):window,r){case"focusin":(Ft(qe)||qe.contentEditable==="true")&&(ho=qe,rm=J,Wl=null);break;case"focusout":Wl=rm=ho=null;break;case"mousedown":im=!0;break;case"contextmenu":case"mouseup":case"dragend":im=!1,o0(de,o,le);break;case"selectionchange":if(ZR)break;case"keydown":case"keyup":o0(de,o,le)}var Te;if(Or)e:{switch(r){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Qe?ie(r,o)&&(Ie="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ie="onCompositionStart");Ie&&(E&&o.locale!=="ko"&&(Qe||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Qe&&(Te=Hl()):(Cr=le,Wi="value"in Cr?Cr.value:Cr.textContent,Qe=!0)),qe=Fd(J,Ie),0<qe.length&&(Ie=new Gl(Ie,r,null,o,le),de.push({event:Ie,listeners:qe}),Te?Ie.data=Te:(Te=ge(o),Te!==null&&(Ie.data=Te)))),(Te=b?Bt(r,o):Xe(r,o))&&(Ie=Fd(J,"onBeforeInput"),0<Ie.length&&(qe=new Gl("onBeforeInput","beforeinput",null,o,le),de.push({event:qe,listeners:Ie}),qe.data=Te)),DC(de,r,J,o,le)}Pb(de,s)})}function Sc(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Fd(r,s){for(var o=s+"Capture",c=[];r!==null;){var m=r,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=ra(r,o),m!=null&&c.unshift(Sc(r,m,g)),m=ra(r,s),m!=null&&c.push(Sc(r,m,g))),r.tag===3)return c;r=r.return}return[]}function Vo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function kb(r,s,o,c,m){for(var g=s._reactName,S=[];o!==null&&o!==c;){var D=o,q=D.alternate,J=D.stateNode;if(D=D.tag,q!==null&&q===c)break;D!==5&&D!==26&&D!==27||J===null||(q=J,m?(J=ra(o,g),J!=null&&S.unshift(Sc(o,J,q))):m||(J=ra(o,g),J!=null&&S.push(Sc(o,J,q)))),o=o.return}S.length!==0&&r.push({event:s,listeners:S})}var LC=/\r\n?/g,UC=/\u0000|\uFFFD/g;function Db(r){return(typeof r=="string"?r:""+r).replace(LC,`
`).replace(UC,"")}function Mb(r,s){return s=Db(s),Db(r)===s}function Hd(){}function ut(r,s,o,c,m,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||qn(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&qn(r,""+c);break;case"className":Ar(r,"class",c);break;case"tabIndex":Ar(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ar(r,o,c);break;case"style":zl(r,c,g);break;case"data":if(s!=="object"){Ar(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=ro(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&ut(r,s,"name",m.name,m,null),ut(r,s,"formEncType",m.formEncType,m,null),ut(r,s,"formMethod",m.formMethod,m,null),ut(r,s,"formTarget",m.formTarget,m,null)):(ut(r,s,"encType",m.encType,m,null),ut(r,s,"method",m.method,m,null),ut(r,s,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=ro(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=Hd);break;case"onScroll":c!=null&&Ge("scroll",r);break;case"onScrollEnd":c!=null&&Ge("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=ro(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Ge("beforetoggle",r),Ge("toggle",r),Qi(r,"popover",c);break;case"xlinkActuate":nn(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":nn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":nn(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":nn(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":nn(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":nn(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":nn(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":nn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":nn(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Qi(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Xh.get(o)||o,Qi(r,o,c))}}function Rp(r,s,o,c,m,g){switch(o){case"style":zl(r,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof c=="string"?qn(r,c):(typeof c=="number"||typeof c=="bigint")&&qn(r,""+c);break;case"onScroll":c!=null&&Ge("scroll",r);break;case"onScrollEnd":c!=null&&Ge("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Hd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Za.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),g=r[kt]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,m);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):Qi(r,o,c)}}}function on(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",r),Ge("load",r);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var S=o[g];if(S!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ut(r,s,g,S,o,null)}}m&&ut(r,s,"srcSet",o.srcSet,o,null),c&&ut(r,s,"src",o.src,o,null);return;case"input":Ge("invalid",r);var D=g=S=m=null,q=null,J=null;for(c in o)if(o.hasOwnProperty(c)){var le=o[c];if(le!=null)switch(c){case"name":m=le;break;case"type":S=le;break;case"checked":q=le;break;case"defaultChecked":J=le;break;case"value":g=le;break;case"defaultValue":D=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,s));break;default:ut(r,s,c,le,o,null)}}ea(r,g,D,q,J,S,m,!1),no(r);return;case"select":Ge("invalid",r),c=S=g=null;for(m in o)if(o.hasOwnProperty(m)&&(D=o[m],D!=null))switch(m){case"value":g=D;break;case"defaultValue":S=D;break;case"multiple":c=D;default:ut(r,s,m,D,o,null)}s=g,o=S,r.multiple=!!c,s!=null?oi(r,!!c,s,!1):o!=null&&oi(r,!!c,o,!0);return;case"textarea":Ge("invalid",r),g=m=c=null;for(S in o)if(o.hasOwnProperty(S)&&(D=o[S],D!=null))switch(S){case"value":c=D;break;case"defaultValue":m=D;break;case"children":g=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(91));break;default:ut(r,s,S,D,o,null)}ta(r,c,m,g),no(r);return;case"option":for(q in o)if(o.hasOwnProperty(q)&&(c=o[q],c!=null))switch(q){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ut(r,s,q,c,o,null)}return;case"dialog":Ge("beforetoggle",r),Ge("toggle",r),Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":Ge("load",r);break;case"video":case"audio":for(c=0;c<Tc.length;c++)Ge(Tc[c],r);break;case"image":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"embed":case"source":case"link":Ge("error",r),Ge("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in o)if(o.hasOwnProperty(J)&&(c=o[J],c!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ut(r,s,J,c,o,null)}return;default:if(Bl(s)){for(le in o)o.hasOwnProperty(le)&&(c=o[le],c!==void 0&&Rp(r,s,le,c,o,void 0));return}}for(D in o)o.hasOwnProperty(D)&&(c=o[D],c!=null&&ut(r,s,D,c,o,null))}function zC(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,S=null,D=null,q=null,J=null,le=null;for(ne in o){var de=o[ne];if(o.hasOwnProperty(ne)&&de!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":q=de;default:c.hasOwnProperty(ne)||ut(r,s,ne,null,c,de)}}for(var ee in c){var ne=c[ee];if(de=o[ee],c.hasOwnProperty(ee)&&(ne!=null||de!=null))switch(ee){case"type":g=ne;break;case"name":m=ne;break;case"checked":J=ne;break;case"defaultChecked":le=ne;break;case"value":S=ne;break;case"defaultValue":D=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:ne!==de&&ut(r,s,ee,ne,c,de)}}On(r,S,D,q,J,le,g,m);return;case"select":ne=S=D=ee=null;for(g in o)if(q=o[g],o.hasOwnProperty(g)&&q!=null)switch(g){case"value":break;case"multiple":ne=q;default:c.hasOwnProperty(g)||ut(r,s,g,null,c,q)}for(m in c)if(g=c[m],q=o[m],c.hasOwnProperty(m)&&(g!=null||q!=null))switch(m){case"value":ee=g;break;case"defaultValue":D=g;break;case"multiple":S=g;default:g!==q&&ut(r,s,m,g,c,q)}s=D,o=S,c=ne,ee!=null?oi(r,!!o,ee,!1):!!c!=!!o&&(s!=null?oi(r,!!o,s,!0):oi(r,!!o,o?[]:"",!1));return;case"textarea":ne=ee=null;for(D in o)if(m=o[D],o.hasOwnProperty(D)&&m!=null&&!c.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:ut(r,s,D,null,c,m)}for(S in c)if(m=c[S],g=o[S],c.hasOwnProperty(S)&&(m!=null||g!=null))switch(S){case"value":ee=m;break;case"defaultValue":ne=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==g&&ut(r,s,S,m,c,g)}lt(r,ee,ne);return;case"option":for(var Oe in o)if(ee=o[Oe],o.hasOwnProperty(Oe)&&ee!=null&&!c.hasOwnProperty(Oe))switch(Oe){case"selected":r.selected=!1;break;default:ut(r,s,Oe,null,c,ee)}for(q in c)if(ee=c[q],ne=o[q],c.hasOwnProperty(q)&&ee!==ne&&(ee!=null||ne!=null))switch(q){case"selected":r.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:ut(r,s,q,ee,c,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in o)ee=o[Ce],o.hasOwnProperty(Ce)&&ee!=null&&!c.hasOwnProperty(Ce)&&ut(r,s,Ce,null,c,ee);for(J in c)if(ee=c[J],ne=o[J],c.hasOwnProperty(J)&&ee!==ne&&(ee!=null||ne!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:ut(r,s,J,ee,c,ne)}return;default:if(Bl(s)){for(var dt in o)ee=o[dt],o.hasOwnProperty(dt)&&ee!==void 0&&!c.hasOwnProperty(dt)&&Rp(r,s,dt,void 0,c,ee);for(le in c)ee=c[le],ne=o[le],!c.hasOwnProperty(le)||ee===ne||ee===void 0&&ne===void 0||Rp(r,s,le,ee,c,ne);return}}for(var Q in o)ee=o[Q],o.hasOwnProperty(Q)&&ee!=null&&!c.hasOwnProperty(Q)&&ut(r,s,Q,null,c,ee);for(de in c)ee=c[de],ne=o[de],!c.hasOwnProperty(de)||ee===ne||ee==null&&ne==null||ut(r,s,de,ee,c,ne)}var Cp=null,Ip=null;function qd(r){return r.nodeType===9?r:r.ownerDocument}function jb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vb(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Np(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Pp=null;function BC(){var r=window.event;return r&&r.type==="popstate"?r===Pp?!1:(Pp=r,!0):(Pp=null,!1)}var Lb=typeof setTimeout=="function"?setTimeout:void 0,FC=typeof clearTimeout=="function"?clearTimeout:void 0,Ub=typeof Promise=="function"?Promise:void 0,HC=typeof queueMicrotask=="function"?queueMicrotask:typeof Ub<"u"?function(r){return Ub.resolve(null).then(r).catch(qC)}:Lb;function qC(r){setTimeout(function(){throw r})}function hs(r){return r==="head"}function zb(r,s){var o=s,c=0,m=0;do{var g=o.nextSibling;if(r.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<c&&8>c){o=c;var S=r.ownerDocument;if(o&1&&Ac(S.documentElement),o&2&&Ac(S.body),o&4)for(o=S.head,Ac(o),S=o.firstChild;S;){var D=S.nextSibling,q=S.nodeName;S[Xs]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&S.rel.toLowerCase()==="stylesheet"||o.removeChild(S),S=D}}if(m===0){r.removeChild(g),Dc(s);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:c=o.charCodeAt(0)-48;else c=0;o=g}while(o);Dc(s)}function Op(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Op(o),Yi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function $C(r,s,o,c){for(;r.nodeType===1;){var m=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Xs])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=cr(r.nextSibling),r===null)break}return null}function GC(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=cr(r.nextSibling),r===null))return null;return r}function kp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function KC(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function cr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var Dp=null;function Bb(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function Fb(r,s,o){switch(s=qd(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Ac(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Yi(r)}var er=new Map,Hb=new Set;function $d(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ai=re.d;re.d={f:YC,r:QC,D:XC,C:WC,L:ZC,m:JC,X:tI,S:eI,M:nI};function YC(){var r=Ai.f(),s=jd();return r||s}function QC(r){var s=Tr(r);s!==null&&s.tag===5&&s.type==="form"?c_(s):Ai.r(r)}var Lo=typeof document>"u"?null:document;function qb(r,s,o){var c=Lo;if(c&&typeof s=="string"&&s){var m=Dt(s);m='link[rel="'+r+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),Hb.has(m)||(Hb.add(m),r={rel:r,crossOrigin:o,href:s},c.querySelector(m)===null&&(s=c.createElement("link"),on(s,"link",r),Ct(s),c.head.appendChild(s)))}}function XC(r){Ai.D(r),qb("dns-prefetch",r,null)}function WC(r,s){Ai.C(r,s),qb("preconnect",r,s)}function ZC(r,s,o){Ai.L(r,s,o);var c=Lo;if(c&&r&&s){var m='link[rel="preload"][as="'+Dt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Dt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Dt(o.imageSizes)+'"]')):m+='[href="'+Dt(r)+'"]';var g=m;switch(s){case"style":g=Uo(r);break;case"script":g=zo(r)}er.has(g)||(r=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),er.set(g,r),c.querySelector(m)!==null||s==="style"&&c.querySelector(Rc(g))||s==="script"&&c.querySelector(Cc(g))||(s=c.createElement("link"),on(s,"link",r),Ct(s),c.head.appendChild(s)))}}function JC(r,s){Ai.m(r,s);var o=Lo;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Dt(c)+'"][href="'+Dt(r)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=zo(r)}if(!er.has(g)&&(r=v({rel:"modulepreload",href:r},s),er.set(g,r),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Cc(g)))return}c=o.createElement("link"),on(c,"link",r),Ct(c),o.head.appendChild(c)}}}function eI(r,s,o){Ai.S(r,s,o);var c=Lo;if(c&&r){var m=wn(c).hoistableStyles,g=Uo(r);s=s||"default";var S=m.get(g);if(!S){var D={loading:0,preload:null};if(S=c.querySelector(Rc(g)))D.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},o),(o=er.get(g))&&Mp(r,o);var q=S=c.createElement("link");Ct(q),on(q,"link",r),q._p=new Promise(function(J,le){q.onload=J,q.onerror=le}),q.addEventListener("load",function(){D.loading|=1}),q.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Gd(S,s,c)}S={type:"stylesheet",instance:S,count:1,state:D},m.set(g,S)}}}function tI(r,s){Ai.X(r,s);var o=Lo;if(o&&r){var c=wn(o).hoistableScripts,m=zo(r),g=c.get(m);g||(g=o.querySelector(Cc(m)),g||(r=v({src:r,async:!0},s),(s=er.get(m))&&jp(r,s),g=o.createElement("script"),Ct(g),on(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function nI(r,s){Ai.M(r,s);var o=Lo;if(o&&r){var c=wn(o).hoistableScripts,m=zo(r),g=c.get(m);g||(g=o.querySelector(Cc(m)),g||(r=v({src:r,async:!0,type:"module"},s),(s=er.get(m))&&jp(r,s),g=o.createElement("script"),Ct(g),on(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function $b(r,s,o,c){var m=(m=xe.current)?$d(m):null;if(!m)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Uo(o.href),o=wn(m).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Uo(o.href);var g=wn(m).hoistableStyles,S=g.get(r);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,S),(g=m.querySelector(Rc(r)))&&!g._p&&(S.instance=g,S.state.loading=5),er.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},er.set(r,o),g||rI(m,r,o,S.state))),s&&c===null)throw Error(i(528,""));return S}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=zo(o),o=wn(m).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Uo(r){return'href="'+Dt(r)+'"'}function Rc(r){return'link[rel="stylesheet"]['+r+"]"}function Gb(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function rI(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),on(s,"link",o),Ct(s),r.head.appendChild(s))}function zo(r){return'[src="'+Dt(r)+'"]'}function Cc(r){return"script[async]"+r}function Kb(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+Dt(o.href)+'"]');if(c)return s.instance=c,Ct(c),c;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Ct(c),on(c,"style",m),Gd(c,o.precedence,r),s.instance=c;case"stylesheet":m=Uo(o.href);var g=r.querySelector(Rc(m));if(g)return s.state.loading|=4,s.instance=g,Ct(g),g;c=Gb(o),(m=er.get(m))&&Mp(c,m),g=(r.ownerDocument||r).createElement("link"),Ct(g);var S=g;return S._p=new Promise(function(D,q){S.onload=D,S.onerror=q}),on(g,"link",c),s.state.loading|=4,Gd(g,o.precedence,r),s.instance=g;case"script":return g=zo(o.src),(m=r.querySelector(Cc(g)))?(s.instance=m,Ct(m),m):(c=o,(m=er.get(g))&&(c=v({},o),jp(c,m)),r=r.ownerDocument||r,m=r.createElement("script"),Ct(m),on(m,"link",c),r.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Gd(c,o.precedence,r));return s.instance}function Gd(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,S=0;S<c.length;S++){var D=c[S];if(D.dataset.precedence===s)g=D;else if(g!==m)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Mp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function jp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Kd=null;function Yb(r,s,o){if(Kd===null){var c=new Map,m=Kd=new Map;m.set(o,c)}else m=Kd,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),m=0;m<o.length;m++){var g=o[m];if(!(g[Xs]||g[zt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(s)||"";S=r+S;var D=c.get(S);D?D.push(g):c.set(S,[g])}}return c}function Qb(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function iI(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Xb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Ic=null;function sI(){}function aI(r,s,o){if(Ic===null)throw Error(i(475));var c=Ic;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=Uo(o.href),g=r.querySelector(Rc(m));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=Yd.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=g,Ct(g);return}g=r.ownerDocument||r,o=Gb(o),(m=er.get(m))&&Mp(o,m),g=g.createElement("link"),Ct(g);var S=g;S._p=new Promise(function(D,q){S.onload=D,S.onerror=q}),on(g,"link",o),s.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=Yd.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function oI(){if(Ic===null)throw Error(i(475));var r=Ic;return r.stylesheets&&r.count===0&&Vp(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Vp(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Yd(){if(this.count--,this.count===0){if(this.stylesheets)Vp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Qd=null;function Vp(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Qd=new Map,s.forEach(lI,r),Qd=null,Yd.call(r))}function lI(r,s){if(!(s.state.loading&4)){var o=Qd.get(r);if(o)var c=o.get(null);else{o=new Map,Qd.set(r,o);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var S=m[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),c=S)}c&&o.set(null,c)}m=s.instance,S=m.getAttribute("data-precedence"),g=o.get(S)||c,g===c&&o.set(null,m),o.set(S,m),this.count++,c=Yd.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),s.state.loading|=4}}var Nc={$$typeof:N,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function cI(r,s,o,c,m,g,S,D){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Wb(r,s,o,c,m,g,S,D,q,J,le,de){return r=new cI(r,s,o,S,D,q,J,de),s=1,g===!0&&(s|=24),g=Dn(3,null,null,s),r.current=g,g.stateNode=r,s=vm(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},Em(g),r}function Zb(r){return r?(r=yo,r):yo}function Jb(r,s,o,c,m,g){m=Zb(m),c.context===null?c.context=m:c.pendingContext=m,c=es(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=ts(r,c,s),o!==null&&(Un(o,r,s),ac(o,r,s))}function ew(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Lp(r,s){ew(r,s),(r=r.alternate)&&ew(r,s)}function tw(r){if(r.tag===13){var s=go(r,67108864);s!==null&&Un(s,r,67108864),Lp(r,67108864)}}var Xd=!0;function uI(r,s,o,c){var m=$.T;$.T=null;var g=re.p;try{re.p=2,Up(r,s,o,c)}finally{re.p=g,$.T=m}}function dI(r,s,o,c){var m=$.T;$.T=null;var g=re.p;try{re.p=8,Up(r,s,o,c)}finally{re.p=g,$.T=m}}function Up(r,s,o,c){if(Xd){var m=zp(c);if(m===null)Ap(r,s,c,Wd,o),rw(r,c);else if(hI(m,r,s,o,c))c.stopPropagation();else if(rw(r,c),s&4&&-1<fI.indexOf(r)){for(;m!==null;){var g=Tr(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=ir(g.pendingLanes);if(S!==0){var D=g;for(D.pendingLanes|=2,D.entangledLanes|=2;S;){var q=1<<31-hn(S);D.entanglements[1]|=q,S&=~q}Lr(g),(st&6)===0&&(Dd=wt()+500,xc(0))}}break;case 13:D=go(g,2),D!==null&&Un(D,g,2),jd(),Lp(g,2)}if(g=zp(c),g===null&&Ap(r,s,c,Wd,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else Ap(r,s,c,null,o)}}function zp(r){return r=$n(r),Bp(r)}var Wd=null;function Bp(r){if(Wd=null,r=ii(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=u(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Wd=r,null}function nw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qi()){case Er:return 2;case Ya:return 8;case $s:case $h:return 32;case Qa:return 268435456;default:return 32}default:return 32}}var Fp=!1,ms=null,ps=null,gs=null,Pc=new Map,Oc=new Map,ys=[],fI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rw(r,s){switch(r){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":Pc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oc.delete(s.pointerId)}}function kc(r,s,o,c,m,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},s!==null&&(s=Tr(s),s!==null&&tw(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),r)}function hI(r,s,o,c,m){switch(s){case"focusin":return ms=kc(ms,r,s,o,c,m),!0;case"dragenter":return ps=kc(ps,r,s,o,c,m),!0;case"mouseover":return gs=kc(gs,r,s,o,c,m),!0;case"pointerover":var g=m.pointerId;return Pc.set(g,kc(Pc.get(g)||null,r,s,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,Oc.set(g,kc(Oc.get(g)||null,r,s,o,c,m)),!0}return!1}function iw(r){var s=ii(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){r.blockedOn=s,ju(r.priority,function(){if(o.tag===13){var c=Ln();c=$i(c);var m=go(o,c);m!==null&&Un(m,o,c),Lp(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Zd(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=zp(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);li=c,o.target.dispatchEvent(c),li=null}else return s=Tr(o),s!==null&&tw(s),r.blockedOn=o,!1;s.shift()}return!0}function sw(r,s,o){Zd(r)&&o.delete(s)}function mI(){Fp=!1,ms!==null&&Zd(ms)&&(ms=null),ps!==null&&Zd(ps)&&(ps=null),gs!==null&&Zd(gs)&&(gs=null),Pc.forEach(sw),Oc.forEach(sw)}function Jd(r,s){r.blockedOn===s&&(r.blockedOn=null,Fp||(Fp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,mI)))}var ef=null;function aw(r){ef!==r&&(ef=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ef===r&&(ef=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],m=r[s+2];if(typeof c!="function"){if(Bp(c||o)===null)continue;break}var g=Tr(o);g!==null&&(r.splice(s,3),s-=3,Bm(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Dc(r){function s(q){return Jd(q,r)}ms!==null&&Jd(ms,r),ps!==null&&Jd(ps,r),gs!==null&&Jd(gs,r),Pc.forEach(s),Oc.forEach(s);for(var o=0;o<ys.length;o++){var c=ys[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<ys.length&&(o=ys[0],o.blockedOn===null);)iw(o),o.blockedOn===null&&ys.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],S=m[kt]||null;if(typeof g=="function")S||aw(o);else if(S){var D=null;if(g&&g.hasAttribute("formAction")){if(m=g,S=g[kt]||null)D=S.formAction;else if(Bp(m)!==null)continue}else D=S.action;typeof D=="function"?o[c+1]=D:(o.splice(c,3),c-=3),aw(o)}}}function Hp(r){this._internalRoot=r}tf.prototype.render=Hp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,c=Ln();Jb(o,c,r,s,null,null)},tf.prototype.unmount=Hp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Jb(r.current,2,null,r,null,null),jd(),s[Hn]=null}};function tf(r){this._internalRoot=r}tf.prototype.unstable_scheduleHydration=function(r){if(r){var s=Gi();r={blockedOn:null,target:r,priority:s};for(var o=0;o<ys.length&&s!==0&&s<ys[o].priority;o++);ys.splice(o,0,r),o===0&&iw(r)}};var ow=e.version;if(ow!=="19.1.0")throw Error(i(527,ow,"19.1.0"));re.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(s),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var pI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nf.isDisabled&&nf.supportsFiber)try{Tt=nf.inject(pI),it=nf}catch{}}return jc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,c="",m=x_,g=T_,S=S_,D=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(D=s.unstable_transitionCallbacks)),s=Wb(r,1,!1,null,null,o,c,m,g,S,D,null),r[Hn]=s.current,Sp(r),new Hp(s)},jc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var c=!1,m="",g=x_,S=T_,D=S_,q=null,J=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(D=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(q=o.unstable_transitionCallbacks),o.formState!==void 0&&(J=o.formState)),s=Wb(r,1,!0,s,o??null,c,m,g,S,D,q,J),s.context=Zb(null),o=s.current,c=Ln(),c=$i(c),m=es(c),m.callback=null,ts(o,m,c),o=c,s.current.lanes=o,ri(s,o),Lr(s),r[Hn]=s.current,Sp(r),new tf(s)},jc.version="19.1.0",jc}var yw;function AI(){if(yw)return Kp.exports;yw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Kp.exports=SI(),Kp.exports}var RI=AI(),Vc={},vw;function CI(){if(vw)return Vc;vw=1,Object.defineProperty(Vc,"__esModule",{value:!0}),Vc.parse=u,Vc.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function u(w,R){const I=new l,A=w.length;if(A<2)return I;const P=(R==null?void 0:R.decode)||v;let C=0;do{const M=w.indexOf("=",C);if(M===-1)break;const N=w.indexOf(";",C),U=N===-1?A:N;if(M>U){C=w.lastIndexOf(";",M-1)+1;continue}const H=d(w,C,M),Y=h(w,M,H),O=w.slice(H,Y);if(I[O]===void 0){let x=d(w,M+1,U),k=h(w,U,x);const L=P(w.slice(x,k));I[O]=L}C=U+1}while(C<A);return I}function d(w,R,I){do{const A=w.charCodeAt(R);if(A!==32&&A!==9)return R}while(++R<I);return I}function h(w,R,I){for(;R>I;){const A=w.charCodeAt(--R);if(A!==32&&A!==9)return R+1}return I}function p(w,R,I){const A=(I==null?void 0:I.encode)||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const P=A(R);if(!e.test(P))throw new TypeError(`argument val is invalid: ${R}`);let C=w+"="+P;if(!I)return C;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);C+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);C+="; Domain="+I.domain}if(I.path){if(!i.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);C+="; Path="+I.path}if(I.expires){if(!_(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);C+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(C+="; HttpOnly"),I.secure&&(C+="; Secure"),I.partitioned&&(C+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return C}function v(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function _(w){return a.call(w)==="[object Date]"}return Vc}CI();var _w="popstate";function II(n={}){function e(i,a){let{pathname:l,search:u,hash:d}=i.location;return Ug("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:nu(a)}return PI(e,t,null,n)}function _t(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function mr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function NI(){return Math.random().toString(36).substring(2,10)}function bw(n,e){return{usr:n.state,key:n.key,idx:e}}function Ug(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?pl(e):e,state:t,key:e&&e.key||i||NI()}}function nu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function pl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function PI(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,d="POP",h=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function _(){d="POP";let P=v(),C=P==null?null:P-p;p=P,h&&h({action:d,location:A.location,delta:C})}function w(P,C){d="PUSH";let M=Ug(A.location,P,C);p=v()+1;let N=bw(M,p),U=A.createHref(M);try{u.pushState(N,"",U)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;a.location.assign(U)}l&&h&&h({action:d,location:A.location,delta:1})}function R(P,C){d="REPLACE";let M=Ug(A.location,P,C);p=v();let N=bw(M,p),U=A.createHref(M);u.replaceState(N,"",U),l&&h&&h({action:d,location:A.location,delta:0})}function I(P){return OI(P)}let A={get action(){return d},get location(){return n(a,u)},listen(P){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(_w,_),h=P,()=>{a.removeEventListener(_w,_),h=null}},createHref(P){return e(a,P)},createURL:I,encodeLocation(P){let C=I(P);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:w,replace:R,go(P){return u.go(P)}};return A}function OI(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),_t(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:nu(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function rT(n,e,t="/"){return kI(n,e,t,!1)}function kI(n,e,t,i){let a=typeof e=="string"?pl(e):e,l=Mi(a.pathname||"/",t);if(l==null)return null;let u=iT(n);DI(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let p=$I(l);d=HI(u[h],p,i)}return d}function iT(n,e=[],t=[],i=""){let a=(l,u,d)=>{let h={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};h.relativePath.startsWith("/")&&(_t(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let p=Ni([i,h.relativePath]),v=t.concat(h);l.children&&l.children.length>0&&(_t(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),iT(l.children,e,v,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:BI(p,l.index),routesMeta:v})};return n.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,u);else for(let h of sT(l.path))a(l,u,h)}),e}function sT(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=sT(i.join("/")),d=[];return d.push(...u.map(h=>h===""?l:[l,h].join("/"))),a&&d.push(...u),d.map(h=>n.startsWith("/")&&h===""?"/":h)}function DI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:FI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var MI=/^:[\w-]+$/,jI=3,VI=2,LI=1,UI=10,zI=-2,ww=n=>n==="*";function BI(n,e){let t=n.split("/"),i=t.length;return t.some(ww)&&(i+=zI),e&&(i+=VI),t.filter(a=>!ww(a)).reduce((a,l)=>a+(MI.test(l)?jI:l===""?LI:UI),i)}function FI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function HI(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",u=[];for(let d=0;d<i.length;++d){let h=i[d],p=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=Lf({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},v),w=h.route;if(!_&&p&&t&&!i[i.length-1].route.index&&(_=Lf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!_)return null;Object.assign(a,_.params),u.push({params:a,pathname:Ni([l,_.pathname]),pathnameBase:QI(Ni([l,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(l=Ni([l,_.pathnameBase]))}return u}function Lf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=qI(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:_},w)=>{if(v==="*"){let I=d[w]||"";u=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const R=d[w];return _&&!R?p[v]=void 0:p[v]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:n}}function qI(n,e=!1,t=!0){mr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(i.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function $I(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Mi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function GI(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?pl(n):n;return{pathname:t?t.startsWith("/")?t:KI(t,e):e,search:XI(i),hash:WI(a)}}function KI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Wp(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Py(n){let e=YI(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Oy(n,e,t,i=!1){let a;typeof n=="string"?a=pl(n):(a={...n},_t(!a.pathname||!a.pathname.includes("?"),Wp("?","pathname","search",a)),_t(!a.pathname||!a.pathname.includes("#"),Wp("#","pathname","hash",a)),_t(!a.search||!a.search.includes("#"),Wp("#","search","hash",a)));let l=n===""||a.pathname==="",u=l?"/":a.pathname,d;if(u==null)d=t;else{let _=e.length-1;if(!i&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),_-=1;a.pathname=w.join("/")}d=_>=0?e[_]:"/"}let h=GI(a,d),p=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||v)&&(h.pathname+="/"),h}var Ni=n=>n.join("/").replace(/\/\/+/g,"/"),QI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),XI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,WI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function ZI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var aT=["POST","PUT","PATCH","DELETE"];new Set(aT);var JI=["GET",...aT];new Set(JI);var gl=T.createContext(null);gl.displayName="DataRouter";var mh=T.createContext(null);mh.displayName="DataRouterState";var oT=T.createContext({isTransitioning:!1});oT.displayName="ViewTransition";var eN=T.createContext(new Map);eN.displayName="Fetchers";var tN=T.createContext(null);tN.displayName="Await";var _r=T.createContext(null);_r.displayName="Navigation";var pu=T.createContext(null);pu.displayName="Location";var br=T.createContext({outlet:null,matches:[],isDataRoute:!1});br.displayName="Route";var ky=T.createContext(null);ky.displayName="RouteError";function nN(n,{relative:e}={}){_t(yl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=T.useContext(_r),{hash:a,pathname:l,search:u}=gu(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Ni([t,l])),i.createHref({pathname:d,search:u,hash:a})}function yl(){return T.useContext(pu)!=null}function wr(){return _t(yl(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(pu).location}var lT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cT(n){T.useContext(_r).static||T.useLayoutEffect(n)}function Wr(){let{isDataRoute:n}=T.useContext(br);return n?pN():rN()}function rN(){_t(yl(),"useNavigate() may be used only in the context of a <Router> component.");let n=T.useContext(gl),{basename:e,navigator:t}=T.useContext(_r),{matches:i}=T.useContext(br),{pathname:a}=wr(),l=JSON.stringify(Py(i)),u=T.useRef(!1);return cT(()=>{u.current=!0}),T.useCallback((h,p={})=>{if(mr(u.current,lT),!u.current)return;if(typeof h=="number"){t.go(h);return}let v=Oy(h,JSON.parse(l),a,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ni([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,l,a,n])}T.createContext(null);function uT(){let{matches:n}=T.useContext(br),e=n[n.length-1];return e?e.params:{}}function gu(n,{relative:e}={}){let{matches:t}=T.useContext(br),{pathname:i}=wr(),a=JSON.stringify(Py(t));return T.useMemo(()=>Oy(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function iN(n,e){return dT(n,e)}function dT(n,e,t,i){var C;_t(yl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=T.useContext(_r),{matches:l}=T.useContext(br),u=l[l.length-1],d=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",v=u&&u.route;{let M=v&&v.path||"";fT(h,!v||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let _=wr(),w;if(e){let M=typeof e=="string"?pl(e):e;_t(p==="/"||((C=M.pathname)==null?void 0:C.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${M.pathname}" was given in the \`location\` prop.`),w=M}else w=_;let R=w.pathname||"/",I=R;if(p!=="/"){let M=p.replace(/^\//,"").split("/");I="/"+R.replace(/^\//,"").split("/").slice(M.length).join("/")}let A=rT(n,{pathname:I});mr(v||A!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),mr(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=cN(A&&A.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:Ni([p,a.encodeLocation?a.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?p:Ni([p,a.encodeLocation?a.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),l,t,i);return e&&P?T.createElement(pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},P):P}function sN(){let n=mN(),e=ZI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:l},"ErrorBoundary")," or"," ",T.createElement("code",{style:l},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:a},t):null,u)}var aN=T.createElement(sN,null),oN=class extends T.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?T.createElement(br.Provider,{value:this.props.routeContext},T.createElement(ky.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lN({routeContext:n,match:e,children:t}){let i=T.useContext(gl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(br.Provider,{value:n},t)}function cN(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let h=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);_t(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,d=-1;if(t)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:v,errors:_}=t,w=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||w){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,p,v)=>{let _,w=!1,R=null,I=null;t&&(_=l&&p.route.id?l[p.route.id]:void 0,R=p.route.errorElement||aN,u&&(d<0&&v===0?(fT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,I=null):d===v&&(w=!0,I=p.route.hydrateFallbackElement||null)));let A=e.concat(a.slice(0,v+1)),P=()=>{let C;return _?C=R:w?C=I:p.route.Component?C=T.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=h,T.createElement(lN,{match:p,routeContext:{outlet:h,matches:A,isDataRoute:t!=null},children:C})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?T.createElement(oN,{location:t.location,revalidation:t.revalidation,component:R,error:_,children:P(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):P()},null)}function Dy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uN(n){let e=T.useContext(gl);return _t(e,Dy(n)),e}function dN(n){let e=T.useContext(mh);return _t(e,Dy(n)),e}function fN(n){let e=T.useContext(br);return _t(e,Dy(n)),e}function My(n){let e=fN(n),t=e.matches[e.matches.length-1];return _t(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function hN(){return My("useRouteId")}function mN(){var i;let n=T.useContext(ky),e=dN("useRouteError"),t=My("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function pN(){let{router:n}=uN("useNavigate"),e=My("useNavigate"),t=T.useRef(!1);return cT(()=>{t.current=!0}),T.useCallback(async(a,l={})=>{mr(t.current,lT),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var Ew={};function fT(n,e,t){!e&&!Ew[n]&&(Ew[n]=!0,mr(!1,t))}T.memo(gN);function gN({routes:n,future:e,state:t}){return dT(n,void 0,t,e)}function Xo({to:n,replace:e,state:t,relative:i}){_t(yl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=T.useContext(_r);mr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=T.useContext(br),{pathname:u}=wr(),d=Wr(),h=Oy(n,Py(l),u,i==="path"),p=JSON.stringify(h);return T.useEffect(()=>{d(JSON.parse(p),{replace:e,state:t,relative:i})},[d,p,i,e,t]),null}function ln(n){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yN({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){_t(!yl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=T.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof t=="string"&&(t=pl(t));let{pathname:h="/",search:p="",hash:v="",state:_=null,key:w="default"}=t,R=T.useMemo(()=>{let I=Mi(h,u);return I==null?null:{location:{pathname:I,search:p,hash:v,state:_,key:w},navigationType:i}},[u,h,p,v,_,w,i]);return mr(R!=null,`<Router basename="${u}"> is not able to match the URL "${h}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:T.createElement(_r.Provider,{value:d},T.createElement(pu.Provider,{children:e,value:R}))}function vN({children:n,location:e}){return iN(zg(n),e)}function zg(n,e=[]){let t=[];return T.Children.forEach(n,(i,a)=>{if(!T.isValidElement(i))return;let l=[...e,a];if(i.type===T.Fragment){t.push.apply(t,zg(i.props.children,l));return}_t(i.type===ln,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=zg(i.props.children,l)),t.push(u)}),t}var xf="get",Tf="application/x-www-form-urlencoded";function ph(n){return n!=null&&typeof n.tagName=="string"}function _N(n){return ph(n)&&n.tagName.toLowerCase()==="button"}function bN(n){return ph(n)&&n.tagName.toLowerCase()==="form"}function wN(n){return ph(n)&&n.tagName.toLowerCase()==="input"}function EN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function xN(n,e){return n.button===0&&(!e||e==="_self")&&!EN(n)}var rf=null;function TN(){if(rf===null)try{new FormData(document.createElement("form"),0),rf=!1}catch{rf=!0}return rf}var SN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zp(n){return n!=null&&!SN.has(n)?(mr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tf}"`),null):n}function AN(n,e){let t,i,a,l,u;if(bN(n)){let d=n.getAttribute("action");i=d?Mi(d,e):null,t=n.getAttribute("method")||xf,a=Zp(n.getAttribute("enctype"))||Tf,l=new FormData(n)}else if(_N(n)||wN(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||d.getAttribute("action");if(i=h?Mi(h,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||xf,a=Zp(n.getAttribute("formenctype"))||Zp(d.getAttribute("enctype"))||Tf,l=new FormData(d,n),!TN()){let{name:p,type:v,value:_}=n;if(v==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,_)}}else{if(ph(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=xf,i=null,a=Tf,u=n}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:u}}function jy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function RN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function IN(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await RN(l,t);return u.links?u.links():[]}return[]}));return kN(i.flat(1).filter(CN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function xw(n,e,t,i,a,l){let u=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,d=(h,p)=>{var v;return t[p].pathname!==h.pathname||((v=t[p].route.path)==null?void 0:v.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return l==="assets"?e.filter((h,p)=>u(h,p)||d(h,p)):l==="data"?e.filter((h,p)=>{var _;let v=i.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(u(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function NN(n,e,{includeHydrateFallback:t}={}){return PN(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function PN(n){return[...new Set(n)]}function ON(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function kN(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(ON(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var DN=new Set([100,101,204,205]);function MN(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Mi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function hT(){let n=T.useContext(gl);return jy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function jN(){let n=T.useContext(mh);return jy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Vy=T.createContext(void 0);Vy.displayName="FrameworkContext";function mT(){let n=T.useContext(Vy);return jy(n,"You must render this element inside a <HydratedRouter> element"),n}function VN(n,e){let t=T.useContext(Vy),[i,a]=T.useState(!1),[l,u]=T.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:v,onTouchStart:_}=e,w=T.useRef(null);T.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let A=C=>{C.forEach(M=>{u(M.isIntersecting)})},P=new IntersectionObserver(A,{threshold:.5});return w.current&&P.observe(w.current),()=>{P.disconnect()}}},[n]),T.useEffect(()=>{if(i){let A=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(A)}}},[i]);let R=()=>{a(!0)},I=()=>{a(!1),u(!1)};return t?n!=="intent"?[l,w,{}]:[l,w,{onFocus:Lc(d,R),onBlur:Lc(h,I),onMouseEnter:Lc(p,R),onMouseLeave:Lc(v,I),onTouchStart:Lc(_,R)}]:[!1,w,{}]}function Lc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function LN({page:n,...e}){let{router:t}=hT(),i=T.useMemo(()=>rT(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?T.createElement(zN,{page:n,matches:i,...e}):null}function UN(n){let{manifest:e,routeModules:t}=mT(),[i,a]=T.useState([]);return T.useEffect(()=>{let l=!1;return IN(n,e,t).then(u=>{l||a(u)}),()=>{l=!0}},[n,e,t]),i}function zN({page:n,matches:e,...t}){let i=wr(),{manifest:a,routeModules:l}=mT(),{basename:u}=hT(),{loaderData:d,matches:h}=jN(),p=T.useMemo(()=>xw(n,e,h,a,i,"data"),[n,e,h,a,i]),v=T.useMemo(()=>xw(n,e,h,a,i,"assets"),[n,e,h,a,i]),_=T.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let I=new Set,A=!1;if(e.forEach(C=>{var N;let M=a.routes[C.route.id];!M||!M.hasLoader||(!p.some(U=>U.route.id===C.route.id)&&C.route.id in d&&((N=l[C.route.id])!=null&&N.shouldRevalidate)||M.hasClientLoader?A=!0:I.add(C.route.id))}),I.size===0)return[];let P=MN(n,u);return A&&I.size>0&&P.searchParams.set("_routes",e.filter(C=>I.has(C.route.id)).map(C=>C.route.id).join(",")),[P.pathname+P.search]},[u,d,i,a,p,e,n,l]),w=T.useMemo(()=>NN(v,a),[v,a]),R=UN(v);return T.createElement(T.Fragment,null,_.map(I=>T.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),w.map(I=>T.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),R.map(({key:I,link:A})=>T.createElement("link",{key:I,...A})))}function BN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var pT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pT&&(window.__reactRouterVersion="7.6.2")}catch{}function FN({basename:n,children:e,window:t}){let i=T.useRef();i.current==null&&(i.current=II({window:t,v5Compat:!0}));let a=i.current,[l,u]=T.useState({action:a.action,location:a.location}),d=T.useCallback(h=>{T.startTransition(()=>u(h))},[u]);return T.useLayoutEffect(()=>a.listen(d),[a,d]),T.createElement(yN,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var gT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Na=T.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:d,target:h,to:p,preventScrollReset:v,viewTransition:_,...w},R){let{basename:I}=T.useContext(_r),A=typeof p=="string"&&gT.test(p),P,C=!1;if(typeof p=="string"&&A&&(P=p,pT))try{let k=new URL(window.location.href),L=p.startsWith("//")?new URL(k.protocol+p):new URL(p),z=Mi(L.pathname,I);L.origin===k.origin&&z!=null?p=z+L.search+L.hash:C=!0}catch{mr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=nN(p,{relative:a}),[N,U,H]=VN(i,w),Y=GN(p,{replace:u,state:d,target:h,preventScrollReset:v,relative:a,viewTransition:_});function O(k){e&&e(k),k.defaultPrevented||Y(k)}let x=T.createElement("a",{...w,...H,href:P||M,onClick:C||l?e:O,ref:BN(R,U),target:h,"data-discover":!A&&t==="render"?"true":void 0});return N&&!A?T.createElement(T.Fragment,null,x,T.createElement(LN,{page:M})):x});Na.displayName="Link";var HN=T.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:d,children:h,...p},v){let _=gu(u,{relative:p.relative}),w=wr(),R=T.useContext(mh),{navigator:I,basename:A}=T.useContext(_r),P=R!=null&&WN(_)&&d===!0,C=I.encodeLocation?I.encodeLocation(_).pathname:_.pathname,M=w.pathname,N=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(M=M.toLowerCase(),N=N?N.toLowerCase():null,C=C.toLowerCase()),N&&A&&(N=Mi(N,A)||N);const U=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let H=M===C||!a&&M.startsWith(C)&&M.charAt(U)==="/",Y=N!=null&&(N===C||!a&&N.startsWith(C)&&N.charAt(C.length)==="/"),O={isActive:H,isPending:Y,isTransitioning:P},x=H?e:void 0,k;typeof i=="function"?k=i(O):k=[i,H?"active":null,Y?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(O):l;return T.createElement(Na,{...p,"aria-current":x,className:k,ref:v,style:L,to:u,viewTransition:d},typeof h=="function"?h(O):h)});HN.displayName="NavLink";var qN=T.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:u=xf,action:d,onSubmit:h,relative:p,preventScrollReset:v,viewTransition:_,...w},R)=>{let I=QN(),A=XN(d,{relative:p}),P=u.toLowerCase()==="get"?"get":"post",C=typeof d=="string"&&gT.test(d),M=N=>{if(h&&h(N),N.defaultPrevented)return;N.preventDefault();let U=N.nativeEvent.submitter,H=(U==null?void 0:U.getAttribute("formmethod"))||u;I(U||N.currentTarget,{fetcherKey:e,method:H,navigate:t,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:_})};return T.createElement("form",{ref:R,method:P,action:A,onSubmit:i?h:M,...w,"data-discover":!C&&n==="render"?"true":void 0})});qN.displayName="Form";function $N(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yT(n){let e=T.useContext(gl);return _t(e,$N(n)),e}function GN(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:u}={}){let d=Wr(),h=wr(),p=gu(n,{relative:l});return T.useCallback(v=>{if(xN(v,e)){v.preventDefault();let _=t!==void 0?t:nu(h)===nu(p);d(n,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[h,d,p,t,i,e,n,a,l,u])}var KN=0,YN=()=>`__${String(++KN)}__`;function QN(){let{router:n}=yT("useSubmit"),{basename:e}=T.useContext(_r),t=hN();return T.useCallback(async(i,a={})=>{let{action:l,method:u,encType:d,formData:h,body:p}=AN(i,e);if(a.navigate===!1){let v=a.fetcherKey||YN();await n.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||u,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||u,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function XN(n,{relative:e}={}){let{basename:t}=T.useContext(_r),i=T.useContext(br);_t(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...gu(n||".",{relative:e})},u=wr();if(n==null){l.search=u.search;let d=new URLSearchParams(l.search),h=d.getAll("index");if(h.some(v=>v==="")){d.delete("index"),h.filter(_=>_).forEach(_=>d.append("index",_));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Ni([t,l.pathname])),nu(l)}function WN(n,e={}){let t=T.useContext(oT);_t(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=yT("useViewTransitionState"),a=gu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Mi(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=Mi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Lf(a.pathname,u)!=null||Lf(a.pathname,l)!=null}[...DN];var yu=nT();const ZN=Ny(yu);/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=()=>{};var Tw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},e2=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],u=n[t++],d=n[t++],h=((a&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const l=n[t++],u=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},_T={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,d=u?n[a+1]:0,h=a+2<n.length,p=h?n[a+2]:0,v=l>>2,_=(l&3)<<4|d>>4;let w=(d&15)<<2|p>>6,R=p&63;h||(R=64,u||(w=64)),i.push(t[v],t[_],t[w],t[R])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(vT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):e2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const _=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||d==null||p==null||_==null)throw new t2;const w=l<<2|d>>4;if(i.push(w),p!==64){const R=d<<4&240|p>>2;if(i.push(R),_!==64){const I=p<<6&192|_;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class t2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n2=function(n){const e=vT(n);return _T.encodeByteArray(e,!0)},Uf=function(n){return n2(n).replace(/\./g,"")},bT=function(n){try{return _T.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=()=>r2().__FIREBASE_DEFAULTS__,s2=()=>{if(typeof process>"u"||typeof Tw>"u")return;const n=Tw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},a2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&bT(n[1]);return e&&JSON.parse(e)},gh=()=>{try{return JN()||i2()||s2()||a2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},wT=n=>{var e,t;return(t=(e=gh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},ET=n=>{const e=wT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},xT=()=>{var n;return(n=gh())===null||n===void 0?void 0:n.config},TT=n=>{var e;return(e=gh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(n){return n.endsWith(".cloudworkstations.dev")}async function Ly(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Uf(JSON.stringify(t)),Uf(JSON.stringify(u)),""].join(".")}const Qc={};function l2(){const n={prod:[],emulator:[]};for(const e of Object.keys(Qc))Qc[e]?n.emulator.push(e):n.prod.push(e);return n}function c2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Sw=!1;function Uy(n,e){if(typeof window>"u"||typeof document>"u"||!Ba(window.location.host)||Qc[n]===e||Qc[n]||Sw)return;Qc[n]=e;function t(w){return`__firebase__banner__${w}`}const i="__firebase__banner",l=l2().prod.length>0;function u(){const w=document.getElementById(i);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function h(w,R){w.setAttribute("width","24"),w.setAttribute("id",R),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Sw=!0,u()},w}function v(w,R){w.setAttribute("id",R),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function _(){const w=c2(i),R=t("text"),I=document.getElementById(R)||document.createElement("span"),A=t("learnmore"),P=document.getElementById(A)||document.createElement("a"),C=t("preprendIcon"),M=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const N=w.element;d(N),v(P,A);const U=p();h(M,C),N.append(M,I,P,U),document.body.appendChild(N)}l?(I.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function d2(){var n;const e=(n=gh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function f2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function h2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function m2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function p2(){const n=_n();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function g2(){return!d2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function y2(){try{return typeof indexedDB=="object"}catch{return!1}}function v2(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="FirebaseError";class Zr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=_2,Object.setPrototypeOf(this,Zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vu.prototype.create)}}class vu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?b2(l,i):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new Zr(a,d,i)}}function b2(n,e){return n.replace(w2,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const w2=/\{\$([^}]+)}/g;function E2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Pa(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],u=e[a];if(Aw(l)&&Aw(u)){if(!Pa(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function Aw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Fc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Hc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function x2(n,e){const t=new T2(n,e);return t.subscribe.bind(t)}class T2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");S2(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Jp),a.error===void 0&&(a.error=Jp),a.complete===void 0&&(a.complete=Jp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function S2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Jp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(n){return n&&n._delegate?n._delegate:n}class Os{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new o2;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(C2(e))try{this.getOrInitializeService({instanceIdentifier:Ra})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ra){return this.instances.has(e)}getOptions(e=Ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&u.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:R2(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ra){return this.component?this.component.multipleInstances?e:Ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function R2(n){return n===Ra?void 0:n}function C2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new A2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ke||(Ke={}));const N2={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},P2=Ke.INFO,O2={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},k2=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=O2[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zy{constructor(e){this.name=e,this._logLevel=P2,this._logHandler=k2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?N2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const D2=(n,e)=>e.some(t=>n instanceof t);let Rw,Cw;function M2(){return Rw||(Rw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j2(){return Cw||(Cw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AT=new WeakMap,Bg=new WeakMap,RT=new WeakMap,eg=new WeakMap,By=new WeakMap;function V2(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(Cs(n.result)),a()},u=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&AT.set(t,n)}).catch(()=>{}),By.set(e,n),e}function L2(n){if(Bg.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});Bg.set(n,e)}let Fg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Bg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||RT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Cs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function U2(n){Fg=n(Fg)}function z2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(tg(this),e,...t);return RT.set(i,e.sort?e.sort():[e]),Cs(i)}:j2().includes(n)?function(...e){return n.apply(tg(this),e),Cs(AT.get(this))}:function(...e){return Cs(n.apply(tg(this),e))}}function B2(n){return typeof n=="function"?z2(n):(n instanceof IDBTransaction&&L2(n),D2(n,M2())?new Proxy(n,Fg):n)}function Cs(n){if(n instanceof IDBRequest)return V2(n);if(eg.has(n))return eg.get(n);const e=B2(n);return e!==n&&(eg.set(n,e),By.set(e,n)),e}const tg=n=>By.get(n);function F2(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(n,e),d=Cs(u);return i&&u.addEventListener("upgradeneeded",h=>{i(Cs(u.result),h.oldVersion,h.newVersion,Cs(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),d.then(h=>{l&&h.addEventListener("close",()=>l()),a&&h.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const H2=["get","getKey","getAll","getAllKeys","count"],q2=["put","add","delete","clear"],ng=new Map;function Iw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ng.get(e))return ng.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=q2.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||H2.includes(t)))return;const l=async function(u,...d){const h=this.transaction(u,a?"readwrite":"readonly");let p=h.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),a&&h.done]))[0]};return ng.set(e,l),l}U2(n=>({...n,get:(e,t,i)=>Iw(e,t)||n.get(e,t,i),has:(e,t)=>!!Iw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(G2(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function G2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hg="@firebase/app",Nw="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new zy("@firebase/app"),K2="@firebase/app-compat",Y2="@firebase/analytics-compat",Q2="@firebase/analytics",X2="@firebase/app-check-compat",W2="@firebase/app-check",Z2="@firebase/auth",J2="@firebase/auth-compat",eP="@firebase/database",tP="@firebase/data-connect",nP="@firebase/database-compat",rP="@firebase/functions",iP="@firebase/functions-compat",sP="@firebase/installations",aP="@firebase/installations-compat",oP="@firebase/messaging",lP="@firebase/messaging-compat",cP="@firebase/performance",uP="@firebase/performance-compat",dP="@firebase/remote-config",fP="@firebase/remote-config-compat",hP="@firebase/storage",mP="@firebase/storage-compat",pP="@firebase/firestore",gP="@firebase/ai",yP="@firebase/firestore-compat",vP="firebase",_P="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="[DEFAULT]",bP={[Hg]:"fire-core",[K2]:"fire-core-compat",[Q2]:"fire-analytics",[Y2]:"fire-analytics-compat",[W2]:"fire-app-check",[X2]:"fire-app-check-compat",[Z2]:"fire-auth",[J2]:"fire-auth-compat",[eP]:"fire-rtdb",[tP]:"fire-data-connect",[nP]:"fire-rtdb-compat",[rP]:"fire-fn",[iP]:"fire-fn-compat",[sP]:"fire-iid",[aP]:"fire-iid-compat",[oP]:"fire-fcm",[lP]:"fire-fcm-compat",[cP]:"fire-perf",[uP]:"fire-perf-compat",[dP]:"fire-rc",[fP]:"fire-rc-compat",[hP]:"fire-gcs",[mP]:"fire-gcs-compat",[pP]:"fire-fst",[yP]:"fire-fst-compat",[gP]:"fire-vertex","fire-js":"fire-js",[vP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf=new Map,wP=new Map,$g=new Map;function Pw(n,e){try{n.container.addComponent(e)}catch(t){ji.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Oa(n){const e=n.name;if($g.has(e))return ji.debug(`There were multiple attempts to register component ${e}.`),!1;$g.set(e,n);for(const t of zf.values())Pw(t,n);for(const t of wP.values())Pw(t,n);return!0}function yh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Bn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Is=new vu("app","Firebase",EP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=_P;function CT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:qg,automaticDataCollectionEnabled:!0},e),a=i.name;if(typeof a!="string"||!a)throw Is.create("bad-app-name",{appName:String(a)});if(t||(t=xT()),!t)throw Is.create("no-options");const l=zf.get(a);if(l){if(Pa(t,l.options)&&Pa(i,l.config))return l;throw Is.create("duplicate-app",{appName:a})}const u=new I2(a);for(const h of $g.values())u.addComponent(h);const d=new xP(t,i,u);return zf.set(a,d),d}function Fy(n=qg){const e=zf.get(n);if(!e&&n===qg&&xT())return CT();if(!e)throw Is.create("no-app",{appName:n});return e}function Fr(n,e,t){var i;let a=(i=bP[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ji.warn(d.join(" "));return}Oa(new Os(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="firebase-heartbeat-database",SP=1,ru="firebase-heartbeat-store";let rg=null;function IT(){return rg||(rg=F2(TP,SP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ru)}catch(t){console.warn(t)}}}}).catch(n=>{throw Is.create("idb-open",{originalErrorMessage:n.message})})),rg}async function AP(n){try{const t=(await IT()).transaction(ru),i=await t.objectStore(ru).get(NT(n));return await t.done,i}catch(e){if(e instanceof Zr)ji.warn(e.message);else{const t=Is.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ji.warn(t.message)}}}async function Ow(n,e){try{const i=(await IT()).transaction(ru,"readwrite");await i.objectStore(ru).put(e,NT(n)),await i.done}catch(t){if(t instanceof Zr)ji.warn(t.message);else{const i=Is.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ji.warn(i.message)}}}function NT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=1024,CP=30;class IP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new PP(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=kw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>CP){const u=OP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ji.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=kw(),{heartbeatsToSend:i,unsentEntries:a}=NP(this._heartbeatsCache.heartbeats),l=Uf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ji.warn(t),""}}}function kw(){return new Date().toISOString().substring(0,10)}function NP(n,e=RP){const t=[];let i=n.slice();for(const a of n){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Dw(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Dw(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class PP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return y2()?v2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await AP(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ow(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ow(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Dw(n){return Uf(JSON.stringify({version:2,heartbeats:n})).length}function OP(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(n){Oa(new Os("platform-logger",e=>new $2(e),"PRIVATE")),Oa(new Os("heartbeat",e=>new IP(e),"PRIVATE")),Fr(Hg,Nw,n),Fr(Hg,Nw,"esm2017"),Fr("fire-js","")}kP("");var zr=function(){return zr=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},zr.apply(this,arguments)};function bu(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function DP(n,e,t){if(t||arguments.length===2)for(var i=0,a=e.length,l;i<a;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return n.concat(l||Array.prototype.slice.call(e))}function PT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MP=PT,OT=new vu("auth","Firebase",PT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf=new zy("@firebase/auth");function jP(n,...e){Bf.logLevel<=Ke.WARN&&Bf.warn(`Auth (${Fa}): ${n}`,...e)}function Sf(n,...e){Bf.logLevel<=Ke.ERROR&&Bf.error(`Auth (${Fa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(n,...e){throw Hy(n,...e)}function Hr(n,...e){return Hy(n,...e)}function kT(n,e,t){const i=Object.assign(Object.assign({},MP()),{[e]:t});return new vu("auth","Firebase",i).create(e,{appName:n.name})}function Pi(n){return kT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hy(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return OT.create(n,...e)}function Ne(n,e,...t){if(!n)throw Hy(e,...t)}function Ci(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Sf(e),new Error(e)}function Vi(n,e){n||Ci(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function VP(){return Mw()==="http:"||Mw()==="https:"}function Mw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VP()||h2()||"connection"in navigator)?navigator.onLine:!0}function UP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vi(t>e,"Short delay should be less than long delay!"),this.isMobile=u2()||m2()}get(){return LP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(n,e){Vi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FP=new wu(3e4,6e4);function Fs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Hi(n,e,t,i,a={}){return MT(n,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const d=_u(Object.assign({key:n.config.apiKey},u)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:h},l);return f2()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Ba(n.emulatorConfig.host)&&(p.credentials="include"),DT.fetch()(await jT(n,n.config.apiHost,t,d),p)})}async function MT(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},zP),e);try{const a=new qP(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw sf(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[h,p]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw sf(n,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw sf(n,"email-already-in-use",u);if(h==="USER_DISABLED")throw sf(n,"user-disabled",u);const v=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw kT(n,v,p);pr(n,v)}}catch(a){if(a instanceof Zr)throw a;pr(n,"network-request-failed",{message:String(a)})}}async function Eu(n,e,t,i,a={}){const l=await Hi(n,e,t,i,a);return"mfaPendingCredential"in l&&pr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function jT(n,e,t,i){const a=`${e}${t}?${i}`,l=n,u=l.config.emulator?qy(n.config,a):`${n.config.apiScheme}://${a}`;return BP.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function HP(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Hr(this.auth,"network-request-failed")),FP.get())})}}function sf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=Hr(n,e,i);return a.customData._tokenResponse=t,a}function jw(n){return n!==void 0&&n.enterprise!==void 0}class $P{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return HP(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GP(n,e){return Hi(n,"GET","/v2/recaptchaConfig",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KP(n,e){return Hi(n,"POST","/v1/accounts:delete",e)}async function Ff(n,e){return Hi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YP(n,e=!1){const t=dn(n),i=await t.getIdToken(e),a=$y(i);Ne(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:Xc(ig(a.auth_time)),issuedAtTime:Xc(ig(a.iat)),expirationTime:Xc(ig(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function ig(n){return Number(n)*1e3}function $y(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Sf("JWT malformed, contained fewer than 3 sections"),null;try{const a=bT(t);return a?JSON.parse(a):(Sf("Failed to decode base64 JWT payload"),null)}catch(a){return Sf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Vw(n){const e=$y(n);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Zr&&QP(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function QP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xc(this.lastLoginAt),this.creationTime=Xc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hf(n){var e;const t=n.auth,i=await n.getIdToken(),a=await il(n,Ff(t,{idToken:i}));Ne(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?VT(l.providerUserInfo):[],d=ZP(n.providerData,u),h=n.isAnonymous,p=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),v=h?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Kg(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,_)}async function WP(n){const e=dn(n);await Hf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZP(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function VT(n){return n.map(e=>{var{providerId:t}=e,i=bu(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JP(n,e){const t=await MT(n,{},async()=>{const i=_u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=await jT(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:d,body:i};return n.emulatorConfig&&Ba(n.emulatorConfig.host)&&(h.credentials="include"),DT.fetch()(u,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function eO(n,e){return Hi(n,"POST","/v2/accounts:revokeToken",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Vw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=Vw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await JP(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,u=new Wo;return i&&(Ne(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Ne(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ne(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wo,this.toJSON())}_performRefresh(){return Ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(n,e){Ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class dr{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=bu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Kg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await il(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return YP(this,e)}reload(){return WP(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Hf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(Pi(this.auth));const e=await this.getIdToken();return await il(this,KP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,u,d,h,p,v;const _=(i=t.displayName)!==null&&i!==void 0?i:void 0,w=(a=t.email)!==null&&a!==void 0?a:void 0,R=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,I=(u=t.photoURL)!==null&&u!==void 0?u:void 0,A=(d=t.tenantId)!==null&&d!==void 0?d:void 0,P=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,C=(p=t.createdAt)!==null&&p!==void 0?p:void 0,M=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:N,emailVerified:U,isAnonymous:H,providerData:Y,stsTokenManager:O}=t;Ne(N&&O,e,"internal-error");const x=Wo.fromJSON(this.name,O);Ne(typeof N=="string",e,"internal-error"),_s(_,e.name),_s(w,e.name),Ne(typeof U=="boolean",e,"internal-error"),Ne(typeof H=="boolean",e,"internal-error"),_s(R,e.name),_s(I,e.name),_s(A,e.name),_s(P,e.name),_s(C,e.name),_s(M,e.name);const k=new dr({uid:N,auth:e,email:w,emailVerified:U,displayName:_,isAnonymous:H,photoURL:I,phoneNumber:R,tenantId:A,stsTokenManager:x,createdAt:C,lastLoginAt:M});return Y&&Array.isArray(Y)&&(k.providerData=Y.map(L=>Object.assign({},L))),P&&(k._redirectEventId=P),k}static async _fromIdTokenResponse(e,t,i=!1){const a=new Wo;a.updateFromServerResponse(t);const l=new dr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Hf(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Ne(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?VT(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Wo;d.updateFromIdToken(i);const h=new dr({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Kg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=new Map;function Ii(n){Vi(n instanceof Function,"Expected a class definition");let e=Lw.get(n);return e?(Vi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Lw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}LT.type="NONE";const Uw=LT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(n,e,t){return`firebase:${n}:${e}:${t}`}class Zo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Af(this.userKey,a.apiKey,l),this.fullPersistenceKey=Af("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ff(this.auth,{idToken:e}).catch(()=>{});return t?dr._fromGetAccountInfoResponse(this.auth,t,e):null}return dr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Zo(Ii(Uw),e,i);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Ii(Uw);const u=Af(i,e.config.apiKey,e.name);let d=null;for(const p of t)try{const v=await p._get(u);if(v){let _;if(typeof v=="string"){const w=await Ff(e,{idToken:v}).catch(()=>{});if(!w)break;_=await dr._fromGetAccountInfoResponse(e,w,v)}else _=dr._fromJSON(e,v);p!==l&&(d=_),l=p;break}}catch{}const h=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!h.length?new Zo(l,e,i):(l=h[0],d&&await l._set(u,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new Zo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qT(e))return"Blackberry";if($T(e))return"Webos";if(zT(e))return"Safari";if((e.includes("chrome/")||BT(e))&&!e.includes("edge/"))return"Chrome";if(HT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function UT(n=_n()){return/firefox\//i.test(n)}function zT(n=_n()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BT(n=_n()){return/crios\//i.test(n)}function FT(n=_n()){return/iemobile/i.test(n)}function HT(n=_n()){return/android/i.test(n)}function qT(n=_n()){return/blackberry/i.test(n)}function $T(n=_n()){return/webos/i.test(n)}function Gy(n=_n()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function tO(n=_n()){var e;return Gy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nO(){return p2()&&document.documentMode===10}function GT(n=_n()){return Gy(n)||HT(n)||$T(n)||qT(n)||/windows phone/i.test(n)||FT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(n,e=[]){let t;switch(n){case"Browser":t=zw(_n());break;case"Worker":t=`${zw(_n())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Fa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((u,d)=>{try{const h=e(l);u(h)}catch(h){d(h)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iO(n,e={}){return Hi(n,"GET","/v2/passwordPolicy",Fs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=6;class aO{constructor(e){var t,i,a,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:sO,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,u,d;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(a=h.containsLowercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsUppercaseLetter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(d=h.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),h}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bw(this),this.idTokenSubscription=new Bw(this),this.beforeStateQueue=new rO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ii(t)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await Zo.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ff(this,{idToken:e}),i=await dr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Bn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===d)&&(h!=null&&h.user)&&(a=h.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bn(this.app))return Promise.reject(Pi(this));const t=e?dn(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(Pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bn(this.app)?Promise.reject(Pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iO(this),t=new aO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await eO(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ii(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await Zo.create(this,[Ii(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,a);return()=>{u=!0,h()}}else{const h=e.addObserver(t);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&jP(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ha(n){return dn(n)}class Bw{constructor(e){this.auth=e,this.observer=null,this.addObserver=x2(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lO(n){vh=n}function YT(n){return vh.loadJS(n)}function cO(){return vh.recaptchaEnterpriseScript}function uO(){return vh.gapiScript}function dO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class fO{constructor(){this.enterprise=new hO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class hO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const mO="recaptcha-enterprise",QT="NO_RECAPTCHA";class pO{constructor(e){this.type=mO,this.auth=Ha(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,d)=>{GP(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new $P(h);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(h=>{d(h)})})}function a(l,u,d){const h=window.grecaptcha;jw(h)?h.enterprise.ready(()=>{h.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(QT)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fO().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(d=>{if(!t&&jw(window.grecaptcha))a(d,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=cO();h.length!==0&&(h+=d),YT(h).then(()=>{a(d,l,u)}).catch(p=>{u(p)})}}).catch(d=>{u(d)})})}}async function Fw(n,e,t,i=!1,a=!1){const l=new pO(n);let u;if(a)u=QT;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Yg(n,e,t,i,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Fw(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Fw(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(n,e){const t=yh(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Pa(l,e??{}))return a;pr(a,"already-initialized")}return t.initialize({options:e})}function yO(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Ii);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function vO(n,e,t){const i=Ha(n);Ne(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=XT(e),{host:u,port:d}=_O(e),h=d===null?"":`:${d}`,p={url:`${l}//${u}${h}/`},v=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ne(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ne(Pa(p,i.config.emulator)&&Pa(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,Ba(u)?(Ly(`${l}//${u}${h}`),Uy("Auth",!0)):bO()}function XT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function _O(n){const e=XT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:Hw(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:Hw(u)}}}function Hw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function bO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ci("not implemented")}_getIdTokenResponse(e){return Ci("not implemented")}_linkToIdToken(e,t){return Ci("not implemented")}_getReauthenticationResolver(e){return Ci("not implemented")}}async function wO(n,e){return Hi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO(n,e){return Eu(n,"POST","/v1/accounts:signInWithPassword",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(n,e){return Eu(n,"POST","/v1/accounts:signInWithEmailLink",Fs(n,e))}async function TO(n,e){return Eu(n,"POST","/v1/accounts:signInWithEmailLink",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends Ky{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new iu(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new iu(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yg(e,t,"signInWithPassword",EO);case"emailLink":return xO(e,{email:this._email,oobCode:this._password});default:pr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yg(e,i,"signUpPassword",wO);case"emailLink":return TO(e,{idToken:t,email:this._email,oobCode:this._password});default:pr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(n,e){return Eu(n,"POST","/v1/accounts:signInWithIdp",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO="http://localhost";class ka extends Ky{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ka(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):pr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=bu(t,["providerId","signInMethod"]);if(!i||!a)return null;const u=new ka(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Jo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Jo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Jo(e,t)}buildRequest(){const e={requestUri:SO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_u(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RO(n){const e=Fc(Hc(n)).link,t=e?Fc(Hc(e)).deep_link_id:null,i=Fc(Hc(n)).deep_link_id;return(i?Fc(Hc(i)).link:null)||i||t||e||n}class Yy{constructor(e){var t,i,a,l,u,d;const h=Fc(Hc(e)),p=(t=h.apiKey)!==null&&t!==void 0?t:null,v=(i=h.oobCode)!==null&&i!==void 0?i:null,_=AO((a=h.mode)!==null&&a!==void 0?a:null);Ne(p&&v&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=v,this.continueUrl=(l=h.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=h.lang)!==null&&u!==void 0?u:null,this.tenantId=(d=h.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=RO(e);try{return new Yy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.providerId=vl.PROVIDER_ID}static credential(e,t){return iu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Yy.parseLink(t);return Ne(i,"argument-error"),iu._fromEmailAndCode(e,i.code,i.tenantId)}}vl.PROVIDER_ID="password";vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends WT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends xu{constructor(){super("facebook.com")}static credential(e){return ka._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";xs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends xu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ka._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ts.credential(t,i)}catch{return null}}}Ts.GOOGLE_SIGN_IN_METHOD="google.com";Ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends xu{constructor(){super("github.com")}static credential(e){return ka._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.GITHUB_SIGN_IN_METHOD="github.com";Ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends xu{constructor(){super("twitter.com")}static credential(e,t){return ka._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return As.credential(t,i)}catch{return null}}}As.TWITTER_SIGN_IN_METHOD="twitter.com";As.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CO(n,e){return Eu(n,"POST","/v1/accounts:signUp",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await dr._fromIdTokenResponse(e,i,a),u=qw(i);return new Da({user:l,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=qw(i);return new Da({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function qw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf extends Zr{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,qf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new qf(e,t,i,a)}}function ZT(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?qf._fromErrorAndOperation(n,l,e,i):l})}async function IO(n,e,t=!1){const i=await il(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Da._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(n,e,t=!1){const{auth:i}=n;if(Bn(i.app))return Promise.reject(Pi(i));const a="reauthenticate";try{const l=await il(n,ZT(i,a,e,n),t);Ne(l.idToken,i,"internal-error");const u=$y(l.idToken);Ne(u,i,"internal-error");const{sub:d}=u;return Ne(n.uid===d,i,"user-mismatch"),Da._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&pr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JT(n,e,t=!1){if(Bn(n.app))return Promise.reject(Pi(n));const i="signIn",a=await ZT(n,i,e),l=await Da._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function PO(n,e){return JT(Ha(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e1(n){const e=Ha(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function OO(n,e,t){if(Bn(n.app))return Promise.reject(Pi(n));const i=Ha(n),u=await Yg(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CO).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&e1(n),h}),d=await Da._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(d.user),d}function kO(n,e,t){return Bn(n.app)?Promise.reject(Pi(n)):PO(dn(n),vl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&e1(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(n,e){return Hi(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MO(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=dn(n),l={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await il(i,DO(i.auth,l));i.displayName=u.displayName||null,i.photoURL=u.photoUrl||null;const d=i.providerData.find(({providerId:h})=>h==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(u)}function jO(n,e,t,i){return dn(n).onIdTokenChanged(e,t,i)}function VO(n,e,t){return dn(n).beforeAuthStateChanged(e,t)}function LO(n,e,t,i){return dn(n).onAuthStateChanged(e,t,i)}function UO(n){return dn(n).signOut()}const $f="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem($f,"1"),this.storage.removeItem($f),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=1e3,BO=10;class n1 extends t1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,h)=>{this.notifyListeners(u,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);nO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,BO):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},zO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}n1.type="LOCAL";const FO=n1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1 extends t1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}r1.type="SESSION";const i1=r1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new _h(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(u).map(async p=>p(t.origin,l)),h=await HO(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((d,h)=>{const p=Qy("",20);a.port1.start();const v=setTimeout(()=>{h(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(_){const w=_;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(v),clearTimeout(l),h(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(){return window}function $O(n){qr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(){return typeof qr().WorkerGlobalScope<"u"&&typeof qr().importScripts=="function"}async function GO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KO(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function YO(){return s1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="firebaseLocalStorageDb",QO=1,Gf="firebaseLocalStorage",o1="fbase_key";class Tu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function bh(n,e){return n.transaction([Gf],e?"readwrite":"readonly").objectStore(Gf)}function XO(){const n=indexedDB.deleteDatabase(a1);return new Tu(n).toPromise()}function Qg(){const n=indexedDB.open(a1,QO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Gf,{keyPath:o1})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Gf)?e(i):(i.close(),await XO(),e(await Qg()))})})}async function $w(n,e,t){const i=bh(n,!0).put({[o1]:e,value:t});return new Tu(i).toPromise()}async function WO(n,e){const t=bh(n,!1).get(e),i=await new Tu(t).toPromise();return i===void 0?null:i.value}function Gw(n,e){const t=bh(n,!0).delete(e);return new Tu(t).toPromise()}const ZO=800,JO=3;class l1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>JO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return s1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(YO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await GO(),!this.activeServiceWorker)return;this.sender=new qO(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qg();return await $w(e,$f,"1"),await Gw(e,$f),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>$w(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>WO(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Gw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=bh(a,!1).getAll();return new Tu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}l1.type="LOCAL";const ek=l1;new wu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(n,e){return e?Ii(e):(Ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy extends Ky{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Jo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function nk(n){return JT(n.auth,new Xy(n),n.bypassAuthState)}function rk(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),NO(t,new Xy(n),n.bypassAuthState)}async function ik(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),IO(t,new Xy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nk;case"linkViaPopup":case"linkViaRedirect":return ik;case"reauthViaPopup":case"reauthViaRedirect":return rk;default:pr(this.auth,"internal-error")}}resolve(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=new wu(2e3,1e4);class Qo extends c1{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Qo.currentPopupAction&&Qo.currentPopupAction.cancel(),Qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Vi(this.filter.length===1,"Popup operations only handle one event");const e=Qy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sk.get())};e()}}Qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak="pendingRedirect",Rf=new Map;class ok extends c1{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Rf.get(this.auth._key());if(!e){try{const i=await lk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Rf.set(this.auth._key(),e)}return this.bypassAuthState||Rf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lk(n,e){const t=dk(e),i=uk(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function ck(n,e){Rf.set(n._key(),e)}function uk(n){return Ii(n._redirectPersistence)}function dk(n){return Af(ak,n.config.apiKey,n.name)}async function fk(n,e,t=!1){if(Bn(n.app))return Promise.reject(Pi(n));const i=Ha(n),a=tk(i,e),u=await new ok(i,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=10*60*1e3;class mk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!u1(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Hr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hk&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kw(e))}saveEventToCache(e){this.cachedEventUids.add(Kw(e)),this.lastProcessedEventTime=Date.now()}}function Kw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function u1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gk(n,e={}){return Hi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vk=/^https?/;async function _k(n){if(n.config.emulator)return;const{authorizedDomains:e}=await gk(n);for(const t of e)try{if(bk(t))return}catch{}pr(n,"unauthorized-domain")}function bk(n){const e=Gg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!vk.test(t))return!1;if(yk.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=new wu(3e4,6e4);function Yw(){const n=qr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Ek(n){return new Promise((e,t)=>{var i,a,l;function u(){Yw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yw(),t(Hr(n,"network-request-failed"))},timeout:wk.get()})}if(!((a=(i=qr().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=qr().gapi)===null||l===void 0)&&l.load)u();else{const d=dO("iframefcb");return qr()[d]=()=>{gapi.load?u():t(Hr(n,"network-request-failed"))},YT(`${uO()}?onload=${d}`).catch(h=>t(h))}}).catch(e=>{throw Cf=null,e})}let Cf=null;function xk(n){return Cf=Cf||Ek(n),Cf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=new wu(5e3,15e3),Sk="__/auth/iframe",Ak="emulator/auth/iframe",Rk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ck=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ik(n){const e=n.config;Ne(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?qy(e,Ak):`https://${n.config.authDomain}/${Sk}`,i={apiKey:e.apiKey,appName:n.name,v:Fa},a=Ck.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${_u(i).slice(1)}`}async function Nk(n){const e=await xk(n),t=qr().gapi;return Ne(t,n,"internal-error"),e.open({where:document.body,url:Ik(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rk,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=Hr(n,"network-request-failed"),d=qr().setTimeout(()=>{l(u)},Tk.get());function h(){qr().clearTimeout(d),a(i)}i.ping(h).then(h,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ok=500,kk=600,Dk="_blank",Mk="http://localhost";class Qw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jk(n,e,t,i=Ok,a=kk){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const h=Object.assign(Object.assign({},Pk),{width:i.toString(),height:a.toString(),top:l,left:u}),p=_n().toLowerCase();t&&(d=BT(p)?Dk:t),UT(p)&&(e=e||Mk,h.scrollbars="yes");const v=Object.entries(h).reduce((w,[R,I])=>`${w}${R}=${I},`,"");if(tO(p)&&d!=="_self")return Vk(e||"",d),new Qw(null);const _=window.open(e||"",d,v);Ne(_,n,"popup-blocked");try{_.focus()}catch{}return new Qw(_)}function Vk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk="__/auth/handler",Uk="emulator/auth/handler",zk=encodeURIComponent("fac");async function Xw(n,e,t,i,a,l){Ne(n.config.authDomain,n,"auth-domain-config-required"),Ne(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Fa,eventId:a};if(e instanceof WT){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",E2(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))u[v]=_}if(e instanceof xu){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const h=await n._getAppCheckToken(),p=h?`#${zk}=${encodeURIComponent(h)}`:"";return`${Bk(n)}?${_u(d).slice(1)}${p}`}function Bk({config:n}){return n.emulator?qy(n,Uk):`https://${n.authDomain}/${Lk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="webStorageSupport";class Fk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i1,this._completeRedirectFn=fk,this._overrideRedirectResult=ck}async _openPopup(e,t,i,a){var l;Vi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await Xw(e,t,i,Gg(),a);return jk(e,u,Qy())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await Xw(e,t,i,Gg(),a);return $O(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Vi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Nk(e),i=new mk(e);return t.register("authEvent",a=>(Ne(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(sg,{type:sg},a=>{var l;const u=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[sg];u!==void 0&&t(!!u),pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_k(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return GT()||zT()||Gy()}}const Hk=Fk;var Ww="@firebase/auth",Zw="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Gk(n){Oa(new Os("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;Ne(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KT(n)},p=new oO(i,a,l,h);return yO(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Oa(new Os("auth-internal",e=>{const t=Ha(e.getProvider("auth").getImmediate());return(i=>new qk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fr(Ww,Zw,$k(n)),Fr(Ww,Zw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=5*60,Yk=TT("authIdTokenMaxAge")||Kk;let Jw=null;const Qk=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Yk)return;const a=t==null?void 0:t.token;Jw!==a&&(Jw=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Xk(n=Fy()){const e=yh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=gO(n,{popupRedirectResolver:Hk,persistence:[ek,FO,i1]}),i=TT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=Qk(l.toString());VO(t,u,()=>u(t.currentUser)),jO(t,d=>u(d))}}const a=wT("auth");return a&&vO(t,`http://${a}`),t}function Wk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}lO({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=Hr("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",Wk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Gk("Browser");var eE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ns,d1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,x){function k(){}k.prototype=x.prototype,O.D=x.prototype,O.prototype=new k,O.prototype.constructor=O,O.C=function(L,z,F){for(var V=Array(arguments.length-2),K=2;K<arguments.length;K++)V[K-2]=arguments[K];return x.prototype[z].apply(L,V)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,x,k){k||(k=0);var L=Array(16);if(typeof x=="string")for(var z=0;16>z;++z)L[z]=x.charCodeAt(k++)|x.charCodeAt(k++)<<8|x.charCodeAt(k++)<<16|x.charCodeAt(k++)<<24;else for(z=0;16>z;++z)L[z]=x[k++]|x[k++]<<8|x[k++]<<16|x[k++]<<24;x=O.g[0],k=O.g[1],z=O.g[2];var F=O.g[3],V=x+(F^k&(z^F))+L[0]+3614090360&4294967295;x=k+(V<<7&4294967295|V>>>25),V=F+(z^x&(k^z))+L[1]+3905402710&4294967295,F=x+(V<<12&4294967295|V>>>20),V=z+(k^F&(x^k))+L[2]+606105819&4294967295,z=F+(V<<17&4294967295|V>>>15),V=k+(x^z&(F^x))+L[3]+3250441966&4294967295,k=z+(V<<22&4294967295|V>>>10),V=x+(F^k&(z^F))+L[4]+4118548399&4294967295,x=k+(V<<7&4294967295|V>>>25),V=F+(z^x&(k^z))+L[5]+1200080426&4294967295,F=x+(V<<12&4294967295|V>>>20),V=z+(k^F&(x^k))+L[6]+2821735955&4294967295,z=F+(V<<17&4294967295|V>>>15),V=k+(x^z&(F^x))+L[7]+4249261313&4294967295,k=z+(V<<22&4294967295|V>>>10),V=x+(F^k&(z^F))+L[8]+1770035416&4294967295,x=k+(V<<7&4294967295|V>>>25),V=F+(z^x&(k^z))+L[9]+2336552879&4294967295,F=x+(V<<12&4294967295|V>>>20),V=z+(k^F&(x^k))+L[10]+4294925233&4294967295,z=F+(V<<17&4294967295|V>>>15),V=k+(x^z&(F^x))+L[11]+2304563134&4294967295,k=z+(V<<22&4294967295|V>>>10),V=x+(F^k&(z^F))+L[12]+1804603682&4294967295,x=k+(V<<7&4294967295|V>>>25),V=F+(z^x&(k^z))+L[13]+4254626195&4294967295,F=x+(V<<12&4294967295|V>>>20),V=z+(k^F&(x^k))+L[14]+2792965006&4294967295,z=F+(V<<17&4294967295|V>>>15),V=k+(x^z&(F^x))+L[15]+1236535329&4294967295,k=z+(V<<22&4294967295|V>>>10),V=x+(z^F&(k^z))+L[1]+4129170786&4294967295,x=k+(V<<5&4294967295|V>>>27),V=F+(k^z&(x^k))+L[6]+3225465664&4294967295,F=x+(V<<9&4294967295|V>>>23),V=z+(x^k&(F^x))+L[11]+643717713&4294967295,z=F+(V<<14&4294967295|V>>>18),V=k+(F^x&(z^F))+L[0]+3921069994&4294967295,k=z+(V<<20&4294967295|V>>>12),V=x+(z^F&(k^z))+L[5]+3593408605&4294967295,x=k+(V<<5&4294967295|V>>>27),V=F+(k^z&(x^k))+L[10]+38016083&4294967295,F=x+(V<<9&4294967295|V>>>23),V=z+(x^k&(F^x))+L[15]+3634488961&4294967295,z=F+(V<<14&4294967295|V>>>18),V=k+(F^x&(z^F))+L[4]+3889429448&4294967295,k=z+(V<<20&4294967295|V>>>12),V=x+(z^F&(k^z))+L[9]+568446438&4294967295,x=k+(V<<5&4294967295|V>>>27),V=F+(k^z&(x^k))+L[14]+3275163606&4294967295,F=x+(V<<9&4294967295|V>>>23),V=z+(x^k&(F^x))+L[3]+4107603335&4294967295,z=F+(V<<14&4294967295|V>>>18),V=k+(F^x&(z^F))+L[8]+1163531501&4294967295,k=z+(V<<20&4294967295|V>>>12),V=x+(z^F&(k^z))+L[13]+2850285829&4294967295,x=k+(V<<5&4294967295|V>>>27),V=F+(k^z&(x^k))+L[2]+4243563512&4294967295,F=x+(V<<9&4294967295|V>>>23),V=z+(x^k&(F^x))+L[7]+1735328473&4294967295,z=F+(V<<14&4294967295|V>>>18),V=k+(F^x&(z^F))+L[12]+2368359562&4294967295,k=z+(V<<20&4294967295|V>>>12),V=x+(k^z^F)+L[5]+4294588738&4294967295,x=k+(V<<4&4294967295|V>>>28),V=F+(x^k^z)+L[8]+2272392833&4294967295,F=x+(V<<11&4294967295|V>>>21),V=z+(F^x^k)+L[11]+1839030562&4294967295,z=F+(V<<16&4294967295|V>>>16),V=k+(z^F^x)+L[14]+4259657740&4294967295,k=z+(V<<23&4294967295|V>>>9),V=x+(k^z^F)+L[1]+2763975236&4294967295,x=k+(V<<4&4294967295|V>>>28),V=F+(x^k^z)+L[4]+1272893353&4294967295,F=x+(V<<11&4294967295|V>>>21),V=z+(F^x^k)+L[7]+4139469664&4294967295,z=F+(V<<16&4294967295|V>>>16),V=k+(z^F^x)+L[10]+3200236656&4294967295,k=z+(V<<23&4294967295|V>>>9),V=x+(k^z^F)+L[13]+681279174&4294967295,x=k+(V<<4&4294967295|V>>>28),V=F+(x^k^z)+L[0]+3936430074&4294967295,F=x+(V<<11&4294967295|V>>>21),V=z+(F^x^k)+L[3]+3572445317&4294967295,z=F+(V<<16&4294967295|V>>>16),V=k+(z^F^x)+L[6]+76029189&4294967295,k=z+(V<<23&4294967295|V>>>9),V=x+(k^z^F)+L[9]+3654602809&4294967295,x=k+(V<<4&4294967295|V>>>28),V=F+(x^k^z)+L[12]+3873151461&4294967295,F=x+(V<<11&4294967295|V>>>21),V=z+(F^x^k)+L[15]+530742520&4294967295,z=F+(V<<16&4294967295|V>>>16),V=k+(z^F^x)+L[2]+3299628645&4294967295,k=z+(V<<23&4294967295|V>>>9),V=x+(z^(k|~F))+L[0]+4096336452&4294967295,x=k+(V<<6&4294967295|V>>>26),V=F+(k^(x|~z))+L[7]+1126891415&4294967295,F=x+(V<<10&4294967295|V>>>22),V=z+(x^(F|~k))+L[14]+2878612391&4294967295,z=F+(V<<15&4294967295|V>>>17),V=k+(F^(z|~x))+L[5]+4237533241&4294967295,k=z+(V<<21&4294967295|V>>>11),V=x+(z^(k|~F))+L[12]+1700485571&4294967295,x=k+(V<<6&4294967295|V>>>26),V=F+(k^(x|~z))+L[3]+2399980690&4294967295,F=x+(V<<10&4294967295|V>>>22),V=z+(x^(F|~k))+L[10]+4293915773&4294967295,z=F+(V<<15&4294967295|V>>>17),V=k+(F^(z|~x))+L[1]+2240044497&4294967295,k=z+(V<<21&4294967295|V>>>11),V=x+(z^(k|~F))+L[8]+1873313359&4294967295,x=k+(V<<6&4294967295|V>>>26),V=F+(k^(x|~z))+L[15]+4264355552&4294967295,F=x+(V<<10&4294967295|V>>>22),V=z+(x^(F|~k))+L[6]+2734768916&4294967295,z=F+(V<<15&4294967295|V>>>17),V=k+(F^(z|~x))+L[13]+1309151649&4294967295,k=z+(V<<21&4294967295|V>>>11),V=x+(z^(k|~F))+L[4]+4149444226&4294967295,x=k+(V<<6&4294967295|V>>>26),V=F+(k^(x|~z))+L[11]+3174756917&4294967295,F=x+(V<<10&4294967295|V>>>22),V=z+(x^(F|~k))+L[2]+718787259&4294967295,z=F+(V<<15&4294967295|V>>>17),V=k+(F^(z|~x))+L[9]+3951481745&4294967295,O.g[0]=O.g[0]+x&4294967295,O.g[1]=O.g[1]+(z+(V<<21&4294967295|V>>>11))&4294967295,O.g[2]=O.g[2]+z&4294967295,O.g[3]=O.g[3]+F&4294967295}i.prototype.u=function(O,x){x===void 0&&(x=O.length);for(var k=x-this.blockSize,L=this.B,z=this.h,F=0;F<x;){if(z==0)for(;F<=k;)a(this,O,F),F+=this.blockSize;if(typeof O=="string"){for(;F<x;)if(L[z++]=O.charCodeAt(F++),z==this.blockSize){a(this,L),z=0;break}}else for(;F<x;)if(L[z++]=O[F++],z==this.blockSize){a(this,L),z=0;break}}this.h=z,this.o+=x},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var x=1;x<O.length-8;++x)O[x]=0;var k=8*this.o;for(x=O.length-8;x<O.length;++x)O[x]=k&255,k/=256;for(this.u(O),O=Array(16),x=k=0;4>x;++x)for(var L=0;32>L;L+=8)O[k++]=this.g[x]>>>L&255;return O};function l(O,x){var k=d;return Object.prototype.hasOwnProperty.call(k,O)?k[O]:k[O]=x(O)}function u(O,x){this.h=x;for(var k=[],L=!0,z=O.length-1;0<=z;z--){var F=O[z]|0;L&&F==x||(k[z]=F,L=!1)}this.g=k}var d={};function h(O){return-128<=O&&128>O?l(O,function(x){return new u([x|0],0>x?-1:0)}):new u([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return _;if(0>O)return P(p(-O));for(var x=[],k=1,L=0;O>=k;L++)x[L]=O/k|0,k*=4294967296;return new u(x,0)}function v(O,x){if(O.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(O.charAt(0)=="-")return P(v(O.substring(1),x));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=p(Math.pow(x,8)),L=_,z=0;z<O.length;z+=8){var F=Math.min(8,O.length-z),V=parseInt(O.substring(z,z+F),x);8>F?(F=p(Math.pow(x,F)),L=L.j(F).add(p(V))):(L=L.j(k),L=L.add(p(V)))}return L}var _=h(0),w=h(1),R=h(16777216);n=u.prototype,n.m=function(){if(A(this))return-P(this).m();for(var O=0,x=1,k=0;k<this.g.length;k++){var L=this.i(k);O+=(0<=L?L:4294967296+L)*x,x*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(I(this))return"0";if(A(this))return"-"+P(this).toString(O);for(var x=p(Math.pow(O,6)),k=this,L="";;){var z=U(k,x).g;k=C(k,z.j(x));var F=((0<k.g.length?k.g[0]:k.h)>>>0).toString(O);if(k=z,I(k))return F+L;for(;6>F.length;)F="0"+F;L=F+L}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function I(O){if(O.h!=0)return!1;for(var x=0;x<O.g.length;x++)if(O.g[x]!=0)return!1;return!0}function A(O){return O.h==-1}n.l=function(O){return O=C(this,O),A(O)?-1:I(O)?0:1};function P(O){for(var x=O.g.length,k=[],L=0;L<x;L++)k[L]=~O.g[L];return new u(k,~O.h).add(w)}n.abs=function(){return A(this)?P(this):this},n.add=function(O){for(var x=Math.max(this.g.length,O.g.length),k=[],L=0,z=0;z<=x;z++){var F=L+(this.i(z)&65535)+(O.i(z)&65535),V=(F>>>16)+(this.i(z)>>>16)+(O.i(z)>>>16);L=V>>>16,F&=65535,V&=65535,k[z]=V<<16|F}return new u(k,k[k.length-1]&-2147483648?-1:0)};function C(O,x){return O.add(P(x))}n.j=function(O){if(I(this)||I(O))return _;if(A(this))return A(O)?P(this).j(P(O)):P(P(this).j(O));if(A(O))return P(this.j(P(O)));if(0>this.l(R)&&0>O.l(R))return p(this.m()*O.m());for(var x=this.g.length+O.g.length,k=[],L=0;L<2*x;L++)k[L]=0;for(L=0;L<this.g.length;L++)for(var z=0;z<O.g.length;z++){var F=this.i(L)>>>16,V=this.i(L)&65535,K=O.i(z)>>>16,oe=O.i(z)&65535;k[2*L+2*z]+=V*oe,M(k,2*L+2*z),k[2*L+2*z+1]+=F*oe,M(k,2*L+2*z+1),k[2*L+2*z+1]+=V*K,M(k,2*L+2*z+1),k[2*L+2*z+2]+=F*K,M(k,2*L+2*z+2)}for(L=0;L<x;L++)k[L]=k[2*L+1]<<16|k[2*L];for(L=x;L<2*x;L++)k[L]=0;return new u(k,0)};function M(O,x){for(;(O[x]&65535)!=O[x];)O[x+1]+=O[x]>>>16,O[x]&=65535,x++}function N(O,x){this.g=O,this.h=x}function U(O,x){if(I(x))throw Error("division by zero");if(I(O))return new N(_,_);if(A(O))return x=U(P(O),x),new N(P(x.g),P(x.h));if(A(x))return x=U(O,P(x)),new N(P(x.g),x.h);if(30<O.g.length){if(A(O)||A(x))throw Error("slowDivide_ only works with positive integers.");for(var k=w,L=x;0>=L.l(O);)k=H(k),L=H(L);var z=Y(k,1),F=Y(L,1);for(L=Y(L,2),k=Y(k,2);!I(L);){var V=F.add(L);0>=V.l(O)&&(z=z.add(k),F=V),L=Y(L,1),k=Y(k,1)}return x=C(O,z.j(x)),new N(z,x)}for(z=_;0<=O.l(x);){for(k=Math.max(1,Math.floor(O.m()/x.m())),L=Math.ceil(Math.log(k)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),F=p(k),V=F.j(x);A(V)||0<V.l(O);)k-=L,F=p(k),V=F.j(x);I(F)&&(F=w),z=z.add(F),O=C(O,V)}return new N(z,O)}n.A=function(O){return U(this,O).h},n.and=function(O){for(var x=Math.max(this.g.length,O.g.length),k=[],L=0;L<x;L++)k[L]=this.i(L)&O.i(L);return new u(k,this.h&O.h)},n.or=function(O){for(var x=Math.max(this.g.length,O.g.length),k=[],L=0;L<x;L++)k[L]=this.i(L)|O.i(L);return new u(k,this.h|O.h)},n.xor=function(O){for(var x=Math.max(this.g.length,O.g.length),k=[],L=0;L<x;L++)k[L]=this.i(L)^O.i(L);return new u(k,this.h^O.h)};function H(O){for(var x=O.g.length+1,k=[],L=0;L<x;L++)k[L]=O.i(L)<<1|O.i(L-1)>>>31;return new u(k,O.h)}function Y(O,x){var k=x>>5;x%=32;for(var L=O.g.length-k,z=[],F=0;F<L;F++)z[F]=0<x?O.i(F+k)>>>x|O.i(F+k+1)<<32-x:O.i(F+k);return new u(z,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,d1=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,Ns=u}).apply(typeof eE<"u"?eE:typeof self<"u"?self:typeof window<"u"?window:{});var af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var f1,qc,h1,If,Xg,m1,p1,g1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,b,E){return f==Array.prototype||f==Object.prototype||(f[b]=E.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof af=="object"&&af];for(var b=0;b<f.length;++b){var E=f[b];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=t(this);function a(f,b){if(b)e:{var E=i;f=f.split(".");for(var j=0;j<f.length-1;j++){var W=f[j];if(!(W in E))break e;E=E[W]}f=f[f.length-1],j=E[f],b=b(j),b!=j&&b!=null&&e(E,f,{configurable:!0,writable:!0,value:b})}}function l(f,b){f instanceof String&&(f+="");var E=0,j=!1,W={next:function(){if(!j&&E<f.length){var ie=E++;return{value:b(ie,f[ie]),done:!1}}return j=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}a("Array.prototype.values",function(f){return f||function(){return l(this,function(b,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function h(f){var b=typeof f;return b=b!="object"?b:f?Array.isArray(f)?"array":b:"null",b=="array"||b=="object"&&typeof f.length=="number"}function p(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function v(f,b,E){return f.call.apply(f.bind,arguments)}function _(f,b,E){if(!f)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,j),f.apply(b,W)}}return function(){return f.apply(b,arguments)}}function w(f,b,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:_,w.apply(null,arguments)}function R(f,b){var E=Array.prototype.slice.call(arguments,1);return function(){var j=E.slice();return j.push.apply(j,arguments),f.apply(this,j)}}function I(f,b){function E(){}E.prototype=b.prototype,f.aa=b.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(j,W,ie){for(var ge=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)ge[Qe-2]=arguments[Qe];return b.prototype[W].apply(j,ge)}}function A(f){const b=f.length;if(0<b){const E=Array(b);for(let j=0;j<b;j++)E[j]=f[j];return E}return[]}function P(f,b){for(let E=1;E<arguments.length;E++){const j=arguments[E];if(h(j)){const W=f.length||0,ie=j.length||0;f.length=W+ie;for(let ge=0;ge<ie;ge++)f[W+ge]=j[ge]}else f.push(j)}}class C{constructor(b,E){this.i=b,this.j=E,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function M(f){return/^[\s\xa0]*$/.test(f)}function N(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function U(f){return U[" "](f),f}U[" "]=function(){};var H=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function Y(f,b,E){for(const j in f)b.call(E,f[j],j,f)}function O(f,b){for(const E in f)b.call(void 0,f[E],E,f)}function x(f){const b={};for(const E in f)b[E]=f[E];return b}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(f,b){let E,j;for(let W=1;W<arguments.length;W++){j=arguments[W];for(E in j)f[E]=j[E];for(let ie=0;ie<k.length;ie++)E=k[ie],Object.prototype.hasOwnProperty.call(j,E)&&(f[E]=j[E])}}function z(f){var b=1;f=f.split(":");const E=[];for(;0<b&&f.length;)E.push(f.shift()),b--;return f.length&&E.push(f.join(":")),E}function F(f){d.setTimeout(()=>{throw f},0)}function V(){var f=se;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class K{constructor(){this.h=this.g=null}add(b,E){const j=oe.get();j.set(b,E),this.h?this.h.next=j:this.g=j,this.h=j}}var oe=new C(()=>new $,f=>f.reset());class ${constructor(){this.next=this.g=this.h=null}set(b,E){this.h=b,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let re,X=!1,se=new K,B=()=>{const f=d.Promise.resolve(void 0);re=()=>{f.then(te)}};var te=()=>{for(var f;f=V();){try{f.h.call(f.g)}catch(E){F(E)}var b=oe;b.j(f),100>b.h&&(b.h++,f.next=b.g,b.g=f)}X=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};d.addEventListener("test",E,b),d.removeEventListener("test",E,b)}catch{}return f}();function Se(f,b){if(ae.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,j=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget){if(H){e:{try{U(b.nodeName);var W=!0;break e}catch{}W=!1}W||(b=null)}}else E=="mouseover"?b=f.fromElement:E=="mouseout"&&(b=f.toElement);this.relatedTarget=b,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:xe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Se.aa.h.call(this)}}I(Se,ae);var xe={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),ve=0;function Le(f,b,E,j,W){this.listener=f,this.proxy=null,this.src=b,this.type=E,this.capture=!!j,this.ha=W,this.key=++ve,this.da=this.fa=!1}function ke(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function De(f){this.src=f,this.g={},this.h=0}De.prototype.add=function(f,b,E,j,W){var ie=f.toString();f=this.g[ie],f||(f=this.g[ie]=[],this.h++);var ge=pt(f,b,j,W);return-1<ge?(b=f[ge],E||(b.fa=!1)):(b=new Le(b,this.src,ie,!!j,W),b.fa=E,f.push(b)),b};function Ve(f,b){var E=b.type;if(E in f.g){var j=f.g[E],W=Array.prototype.indexOf.call(j,b,void 0),ie;(ie=0<=W)&&Array.prototype.splice.call(j,W,1),ie&&(ke(b),f.g[E].length==0&&(delete f.g[E],f.h--))}}function pt(f,b,E,j){for(var W=0;W<f.length;++W){var ie=f[W];if(!ie.da&&ie.listener==b&&ie.capture==!!E&&ie.ha==j)return W}return-1}var Rt="closure_lm_"+(1e6*Math.random()|0),Ae={};function bt(f,b,E,j,W){if(Array.isArray(b)){for(var ie=0;ie<b.length;ie++)bt(f,b[ie],E,j,W);return null}return E=Du(E),f&&f[me]?f.K(b,E,p(j)?!!j.capture:!1,W):wt(f,b,E,!1,j,W)}function wt(f,b,E,j,W,ie){if(!b)throw Error("Invalid event type");var ge=p(W)?!!W.capture:!!W,Qe=Qa(f);if(Qe||(f[Rt]=Qe=new De(f)),E=Qe.add(b,E,j,ge,ie),E.proxy)return E;if(j=qi(),E.proxy=j,j.src=f,j.listener=E,f.addEventListener)pe||(W=ge),W===void 0&&(W=!1),f.addEventListener(b.toString(),j,W);else if(f.attachEvent)f.attachEvent($s(b.toString()),j);else if(f.addListener&&f.removeListener)f.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return E}function qi(){function f(E){return b.call(f.src,f.listener,E)}const b=$h;return f}function Er(f,b,E,j,W){if(Array.isArray(b))for(var ie=0;ie<b.length;ie++)Er(f,b[ie],E,j,W);else j=p(j)?!!j.capture:!!j,E=Du(E),f&&f[me]?(f=f.i,b=String(b).toString(),b in f.g&&(ie=f.g[b],E=pt(ie,E,j,W),-1<E&&(ke(ie[E]),Array.prototype.splice.call(ie,E,1),ie.length==0&&(delete f.g[b],f.h--)))):f&&(f=Qa(f))&&(b=f.g[b.toString()],f=-1,b&&(f=pt(b,E,j,W)),(E=-1<f?b[f]:null)&&Ya(E))}function Ya(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[me])Ve(b.i,f);else{var E=f.type,j=f.proxy;b.removeEventListener?b.removeEventListener(E,j,f.capture):b.detachEvent?b.detachEvent($s(E),j):b.addListener&&b.removeListener&&b.removeListener(j),(E=Qa(b))?(Ve(E,f),E.h==0&&(E.src=null,b[Rt]=null)):ke(f)}}}function $s(f){return f in Ae?Ae[f]:Ae[f]="on"+f}function $h(f,b){if(f.da)f=!0;else{b=new Se(b,this);var E=f.listener,j=f.ha||f.src;f.fa&&Ya(f),f=E.call(j,b)}return f}function Qa(f){return f=f[Rt],f instanceof De?f:null}var Il="__closure_events_fn_"+(1e9*Math.random()>>>0);function Du(f){return typeof f=="function"?f:(f[Il]||(f[Il]=function(b){return f.handleEvent(b)}),f[Il])}function Tt(){ue.call(this),this.i=new De(this),this.M=this,this.F=null}I(Tt,ue),Tt.prototype[me]=!0,Tt.prototype.removeEventListener=function(f,b,E,j){Er(this,f,b,E,j)};function it(f,b){var E,j=f.F;if(j)for(E=[];j;j=j.F)E.push(j);if(f=f.M,j=b.type||b,typeof b=="string")b=new ae(b,f);else if(b instanceof ae)b.target=b.target||f;else{var W=b;b=new ae(j,f),L(b,W)}if(W=!0,E)for(var ie=E.length-1;0<=ie;ie--){var ge=b.g=E[ie];W=Pn(ge,j,!0,b)&&W}if(ge=b.g=f,W=Pn(ge,j,!0,b)&&W,W=Pn(ge,j,!1,b)&&W,E)for(ie=0;ie<E.length;ie++)ge=b.g=E[ie],W=Pn(ge,j,!1,b)&&W}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var f=this.i,b;for(b in f.g){for(var E=f.g[b],j=0;j<E.length;j++)ke(E[j]);delete f.g[b],f.h--}}this.F=null},Tt.prototype.K=function(f,b,E,j){return this.i.add(String(f),b,!1,E,j)},Tt.prototype.L=function(f,b,E,j){return this.i.add(String(f),b,!0,E,j)};function Pn(f,b,E,j){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();for(var W=!0,ie=0;ie<b.length;++ie){var ge=b[ie];if(ge&&!ge.da&&ge.capture==E){var Qe=ge.listener,Bt=ge.ha||ge.src;ge.fa&&Ve(f.i,ge),W=Qe.call(Bt,j)!==!1&&W}}return W&&!j.defaultPrevented}function hn(f,b,E){if(typeof f=="function")E&&(f=w(f,E));else if(f&&typeof f.handleEvent=="function")f=w(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:d.setTimeout(f,b||0)}function Mu(f){f.g=hn(()=>{f.g=null,f.i&&(f.i=!1,Mu(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class Gh extends ue{constructor(b,E){super(),this.m=b,this.l=E,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Mu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gs(f){ue.call(this),this.h=f,this.g={}}I(Gs,ue);var Ks=[];function Ys(f){Y(f.g,function(b,E){this.g.hasOwnProperty(E)&&Ya(b)},f),f.g={}}Gs.prototype.N=function(){Gs.aa.N.call(this),Ys(this)},Gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ir=d.JSON.stringify,Xa=d.JSON.parse,Qs=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function Nl(){}Nl.prototype.h=null;function Pl(f){return f.h||(f.h=f.i())}function Ol(){}var ni={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ri(){ae.call(this,"d")}I(ri,ae);function kl(){ae.call(this,"c")}I(kl,ae);var xr={},Dl=null;function $i(){return Dl=Dl||new Tt}xr.La="serverreachability";function Wa(f){ae.call(this,xr.La,f)}I(Wa,ae);function Gi(f){const b=$i();it(b,new Wa(b))}xr.STAT_EVENT="statevent";function ju(f,b){ae.call(this,xr.STAT_EVENT,f),this.stat=b}I(ju,ae);function yt(f){const b=$i();it(b,new ju(b,f))}xr.Ma="timingevent";function zt(f,b){ae.call(this,xr.Ma,f),this.size=b}I(zt,ae);function kt(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},b)}function Hn(){this.g=!0}Hn.prototype.xa=function(){this.g=!1};function Ml(f,b,E,j,W,ie){f.info(function(){if(f.g)if(ie)for(var ge="",Qe=ie.split("&"),Bt=0;Bt<Qe.length;Bt++){var Xe=Qe[Bt].split("=");if(1<Xe.length){var Wt=Xe[0];Xe=Xe[1];var Ft=Wt.split("_");ge=2<=Ft.length&&Ft[1]=="type"?ge+(Wt+"="+Xe+"&"):ge+(Wt+"=redacted&")}}else ge=null;else ge=ie;return"XMLHTTP REQ ("+j+") [attempt "+W+"]: "+b+`
`+E+`
`+ge})}function Kh(f,b,E,j,W,ie,ge){f.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+W+"]: "+b+`
`+E+`
`+ie+" "+ge})}function Ki(f,b,E,j){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+Xs(f,E)+(j?" "+j:"")})}function Vu(f,b){f.info(function(){return"TIMEOUT: "+b})}Hn.prototype.info=function(){};function Xs(f,b){if(!f.g)return b;if(!b)return null;try{var E=JSON.parse(b);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var j=E[f];if(!(2>j.length)){var W=j[1];if(Array.isArray(W)&&!(1>W.length)){var ie=W[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var ge=1;ge<W.length;ge++)W[ge]=""}}}}return ir(E)}catch{return b}}var Yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ii={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tr;function Sr(){}I(Sr,Nl),Sr.prototype.g=function(){return new XMLHttpRequest},Sr.prototype.i=function(){return{}},Tr=new Sr;function wn(f,b,E,j){this.j=f,this.i=b,this.l=E,this.R=j||1,this.U=new Gs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ct}function Ct(){this.i=null,this.g="",this.h=!1}var jl={},Za={};function sr(f,b,E){f.L=1,f.v=ta(On(b)),f.m=E,f.P=!0,si(f,null)}function si(f,b){f.F=Date.now(),Ws(f),f.A=On(f.v);var E=f.A,j=f.R;Array.isArray(j)||(j=[String(j)]),Fl(E.i,"t",j),f.C=0,E=f.j.J,f.h=new Ct,f.g=Ju(f.j,E?b:null,!f.m),0<f.O&&(f.M=new Gh(w(f.Y,f,f.g),f.O)),b=f.U,E=f.g,j=f.ca;var W="readystatechange";Array.isArray(W)||(W&&(Ks[0]=W.toString()),W=Ks);for(var ie=0;ie<W.length;ie++){var ge=bt(E,W[ie],j||b.handleEvent,!1,b.h||b);if(!ge)break;b.g[ge.key]=ge}b=f.H?x(f.H):{},f.m?(f.u||(f.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,b)):(f.u="GET",f.g.ea(f.A,f.u,null,b)),Gi(),Ml(f.i,f.u,f.A,f.l,f.R,f.m)}wn.prototype.ca=function(f){f=f.target;const b=this.M;b&&Kn(f)==3?b.j():this.Y(f)},wn.prototype.Y=function(f){try{if(f==this.g)e:{const Ft=Kn(this.g);var b=this.g.Ba();const hi=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||$u(this.g)))){this.J||Ft!=4||b==7||(b==8||0>=hi?Gi(3):Gi(2)),Qi(this);var E=this.g.Z();this.X=E;t:if(Lu(this)){var j=$u(this.g);f="";var W=j.length,ie=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nn(this),Ar(this);var ge="";break t}this.h.i=new d.TextDecoder}for(b=0;b<W;b++)this.h.h=!0,f+=this.h.i.decode(j[b],{stream:!(ie&&b==W-1)});j.length=0,this.h.g+=f,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=E==200,Kh(this.i,this.u,this.A,this.l,this.R,Ft,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,Bt=this.g;if((Qe=Bt.g?Bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(Qe)){var Xe=Qe;break t}}Xe=null}if(E=Xe)Ki(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zs(this,E);else{this.o=!1,this.s=3,yt(12),nn(this),Ar(this);break e}}if(this.P){E=!0;let rn;for(;!this.J&&this.C<ge.length;)if(rn=Uu(this,ge),rn==Za){Ft==4&&(this.s=4,yt(14),E=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==jl){this.s=4,yt(15),Ki(this.i,this.l,ge,"[Invalid Chunk]"),E=!1;break}else Ki(this.i,this.l,rn,null),Zs(this,rn);if(Lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||ge.length!=0||this.h.h||(this.s=1,yt(16),E=!1),this.o=this.o&&E,!E)Ki(this.i,this.l,ge,"[Invalid Chunked Response]"),nn(this),Ar(this);else if(0<ge.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),ca(Wt),Wt.M=!0,yt(11))}}else Ki(this.i,this.l,ge,null),Zs(this,ge);Ft==4&&nn(this),this.o&&!this.J&&(Ft==4?Xu(this.j,this):(this.o=!1,Ws(this)))}else Zh(this.g),E==400&&0<ge.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),nn(this),Ar(this)}}}catch{}finally{}};function Lu(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Uu(f,b){var E=f.C,j=b.indexOf(`
`,E);return j==-1?Za:(E=Number(b.substring(E,j)),isNaN(E)?jl:(j+=1,j+E>b.length?Za:(b=b.slice(j,j+E),f.C=j+E,b)))}wn.prototype.cancel=function(){this.J=!0,nn(this)};function Ws(f){f.S=Date.now()+f.I,zu(f,f.I)}function zu(f,b){if(f.B!=null)throw Error("WatchDog timer not null");f.B=kt(w(f.ba,f),b)}function Qi(f){f.B&&(d.clearTimeout(f.B),f.B=null)}wn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Vu(this.i,this.A),this.L!=2&&(Gi(),yt(17)),nn(this),this.s=2,Ar(this)):zu(this,this.S-f)};function Ar(f){f.j.G==0||f.J||Xu(f.j,f)}function nn(f){Qi(f);var b=f.M;b&&typeof b.ma=="function"&&b.ma(),f.M=null,Ys(f.U),f.g&&(b=f.g,f.g=null,b.abort(),b.ma())}function Zs(f,b){try{var E=f.j;if(E.G!=0&&(E.g==f||Vl(E.h,f))){if(!f.K&&Vl(E.h,f)&&E.G==3){try{var j=E.Da.g.parse(b)}catch{j=null}if(Array.isArray(j)&&j.length==3){var W=j;if(W[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)uo(E),lo(E);else break e;Kl(E),yt(18)}}else E.za=W[1],0<E.za-E.T&&37500>W[2]&&E.F&&E.v==0&&!E.C&&(E.C=kt(w(E.Za,E),6e3));if(1>=eo(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else fi(E,11)}else if((f.K||E.g==f)&&uo(E),!M(b))for(W=E.Da.g.parse(b),b=0;b<W.length;b++){let Xe=W[b];if(E.T=Xe[0],Xe=Xe[1],E.G==2)if(Xe[0]=="c"){E.K=Xe[1],E.ia=Xe[2];const Wt=Xe[3];Wt!=null&&(E.la=Wt,E.j.info("VER="+E.la));const Ft=Xe[4];Ft!=null&&(E.Aa=Ft,E.j.info("SVER="+E.Aa));const hi=Xe[5];hi!=null&&typeof hi=="number"&&0<hi&&(j=1.5*hi,E.L=j,E.j.info("backChannelRequestTimeoutMs_="+j)),j=E;const rn=f.g;if(rn){const kr=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kr){var ie=j.h;ie.g||kr.indexOf("spdy")==-1&&kr.indexOf("quic")==-1&&kr.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(to(ie,ie.h),ie.h=null))}if(j.D){const Ql=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ql&&(j.ya=Ql,lt(j.I,j.D,Ql))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),j=E;var ge=f;if(j.qa=Zu(j,j.J?j.ia:null,j.W),ge.K){En(j.h,ge);var Qe=ge,Bt=j.L;Bt&&(Qe.I=Bt),Qe.B&&(Qi(Qe),Ws(Qe)),j.g=ge}else Yu(j);0<E.i.length&&co(E)}else Xe[0]!="stop"&&Xe[0]!="close"||fi(E,7);else E.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?fi(E,7):$l(E):Xe[0]!="noop"&&E.l&&E.l.ta(Xe),E.v=0)}}Gi(4)}catch{}}var Bu=class{constructor(f,b){this.g=f,this.map=b}};function ai(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ja(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function eo(f){return f.h?1:f.g?f.g.size:0}function Vl(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function to(f,b){f.g?f.g.add(b):f.h=b}function En(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}ai.prototype.cancel=function(){if(this.i=Ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Ll(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const E of f.g.values())b=b.concat(E.D);return b}return A(f.i)}function Yh(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var b=[],E=f.length,j=0;j<E;j++)b.push(f[j]);return b}b=[],E=0;for(j in f)b[E++]=f[j];return b}function no(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(h(f)||typeof f=="string"){var b=[];f=f.length;for(var E=0;E<f;E++)b.push(E);return b}b=[],E=0;for(const j in f)b[E++]=j;return b}}}function Ul(f,b){if(f.forEach&&typeof f.forEach=="function")f.forEach(b,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,b,void 0);else for(var E=no(f),j=Yh(f),W=j.length,ie=0;ie<W;ie++)b.call(void 0,j[ie],E&&E[ie],f)}var Js=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qh(f,b){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var j=f[E].indexOf("="),W=null;if(0<=j){var ie=f[E].substring(0,j);W=f[E].substring(j+1)}else ie=f[E];b(ie,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Dt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Dt){this.h=f.h,ea(this,f.j),this.o=f.o,this.g=f.g,Xi(this,f.s),this.l=f.l;var b=f.i,E=new li;E.i=b.i,b.g&&(E.g=new Map(b.g),E.h=b.h),oi(this,E),this.m=f.m}else f&&(b=String(f).match(Js))?(this.h=!1,ea(this,b[1]||"",!0),this.o=qn(b[2]||""),this.g=qn(b[3]||"",!0),Xi(this,b[4]),this.l=qn(b[5]||"",!0),oi(this,b[6]||"",!0),this.m=qn(b[7]||"")):(this.h=!1,this.i=new li(null,this.h))}Dt.prototype.toString=function(){var f=[],b=this.j;b&&f.push(na(b,zl,!0),":");var E=this.g;return(E||b=="file")&&(f.push("//"),(b=this.o)&&f.push(na(b,zl,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(na(E,E.charAt(0)=="/"?Xh:Bl,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",na(E,ro)),f.join("")};function On(f){return new Dt(f)}function ea(f,b,E){f.j=E?qn(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function Xi(f,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);f.s=b}else f.s=null}function oi(f,b,E){b instanceof li?(f.i=b,Hu(f.i,f.h)):(E||(b=na(b,Wh)),f.i=new li(b,f.h))}function lt(f,b,E){f.i.set(b,E)}function ta(f){return lt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function qn(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function na(f,b,E){return typeof f=="string"?(f=encodeURI(f).replace(b,Fu),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Fu(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var zl=/[#\/\?@]/g,Bl=/[#\?:]/g,Xh=/[#\?]/g,Wh=/[#\?@]/g,ro=/#/g;function li(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function $n(f){f.g||(f.g=new Map,f.h=0,f.i&&Qh(f.i,function(b,E){f.add(decodeURIComponent(b.replace(/\+/g," ")),E)}))}n=li.prototype,n.add=function(f,b){$n(this),this.i=null,f=Rr(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(b),this.h+=1,this};function ci(f,b){$n(f),b=Rr(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function ui(f,b){return $n(f),b=Rr(f,b),f.g.has(b)}n.forEach=function(f,b){$n(this),this.g.forEach(function(E,j){E.forEach(function(W){f.call(b,W,j,this)},this)},this)},n.na=function(){$n(this);const f=Array.from(this.g.values()),b=Array.from(this.g.keys()),E=[];for(let j=0;j<b.length;j++){const W=f[j];for(let ie=0;ie<W.length;ie++)E.push(b[j])}return E},n.V=function(f){$n(this);let b=[];if(typeof f=="string")ui(this,f)&&(b=b.concat(this.g.get(Rr(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)b=b.concat(f[E])}return b},n.set=function(f,b){return $n(this),this.i=null,f=Rr(this,f),ui(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},n.get=function(f,b){return f?(f=this.V(f),0<f.length?String(f[0]):b):b};function Fl(f,b,E){ci(f,b),0<E.length&&(f.i=null,f.g.set(Rr(f,b),A(E)),f.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(var E=0;E<b.length;E++){var j=b[E];const ie=encodeURIComponent(String(j)),ge=this.V(j);for(j=0;j<ge.length;j++){var W=ie;ge[j]!==""&&(W+="="+encodeURIComponent(String(ge[j]))),f.push(W)}}return this.i=f.join("&")};function Rr(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function Hu(f,b){b&&!f.j&&($n(f),f.i=null,f.g.forEach(function(E,j){var W=j.toLowerCase();j!=W&&(ci(this,j),Fl(this,W,E))},f)),f.j=b}function ra(f,b){const E=new Hn;if(d.Image){const j=new Image;j.onload=R(Gn,E,"TestLoadImage: loaded",!0,b,j),j.onerror=R(Gn,E,"TestLoadImage: error",!1,b,j),j.onabort=R(Gn,E,"TestLoadImage: abort",!1,b,j),j.ontimeout=R(Gn,E,"TestLoadImage: timeout",!1,b,j),d.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=f}else b(!1)}function ar(f,b){const E=new Hn,j=new AbortController,W=setTimeout(()=>{j.abort(),Gn(E,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:j.signal}).then(ie=>{clearTimeout(W),ie.ok?Gn(E,"TestPingServer: ok",!0,b):Gn(E,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(W),Gn(E,"TestPingServer: error",!1,b)})}function Gn(f,b,E,j,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),j(E)}catch{}}function ia(){this.g=new Qs}function Cr(f,b,E){const j=E||"";try{Ul(f,function(W,ie){let ge=W;p(W)&&(ge=ir(W)),b.push(j+ie+"="+encodeURIComponent(ge))})}catch(W){throw b.push(j+"type="+encodeURIComponent("_badmap")),W}}function Wi(f){this.l=f.Ub||null,this.j=f.eb||!1}I(Wi,Nl),Wi.prototype.g=function(){return new di(this.l,this.j)},Wi.prototype.i=function(f){return function(){return f}}({});function di(f,b){Tt.call(this),this.D=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(di,Tt),n=di.prototype,n.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=b,this.readyState=1,Nr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(b.body=f),(this.D||d).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ir(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Nr(this)),this.g&&(this.readyState=3,Nr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?Ir(this):Nr(this),this.readyState==3&&Hl(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Ir(this))},n.Qa=function(f){this.g&&(this.response=f,Ir(this))},n.ga=function(){this.g&&Ir(this)};function Ir(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Nr(f)}n.setRequestHeader=function(f,b){this.u.append(f,b)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var E=b.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=b.next();return f.join(`\r
`)};function Nr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ql(f){let b="";return Y(f,function(E,j){b+=j,b+=":",b+=E,b+=`\r
`}),b}function Xt(f,b,E){e:{for(j in E){var j=!1;break e}j=!0}j||(E=ql(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):lt(f,b,E))}function nt(f){Tt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(nt,Tt);var io=/^https?$/i,sa=["POST","PUT"];n=nt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,b,E,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tr.g(),this.v=this.o?Pl(this.o):Pl(Tr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(ie){qu(this,ie);return}if(f=E||"",E=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var W in j)E.set(W,j[W]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const ie of j.keys())E.set(ie,j.get(ie));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(E.keys()).find(ie=>ie.toLowerCase()=="content-type"),W=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(sa,b,void 0))||j||W||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ge]of E)this.g.setRequestHeader(ie,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{aa(this),this.u=!0,this.g.send(f),this.u=!1}catch(ie){qu(this,ie)}};function qu(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.m=5,so(f),Pr(f)}function so(f){f.A||(f.A=!0,it(f,"complete"),it(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,it(this,"complete"),it(this,"abort"),Pr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pr(this,!0)),nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ao(this):this.bb())},n.bb=function(){ao(this)};function ao(f){if(f.h&&typeof u<"u"&&(!f.v[1]||Kn(f)!=4||f.Z()!=2)){if(f.u&&Kn(f)==4)hn(f.Ea,0,f);else if(it(f,"readystatechange"),Kn(f)==4){f.h=!1;try{const ge=f.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var E;if(!(E=b)){var j;if(j=ge===0){var W=String(f.D).match(Js)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),j=!io.test(W?W.toLowerCase():"")}E=j}if(E)it(f,"complete"),it(f,"success");else{f.m=6;try{var ie=2<Kn(f)?f.g.statusText:""}catch{ie=""}f.l=ie+" ["+f.Z()+"]",so(f)}}finally{Pr(f)}}}}function Pr(f,b){if(f.g){aa(f);const E=f.g,j=f.v[0]?()=>{}:null;f.g=null,f.v=null,b||it(f,"ready");try{E.onreadystatechange=j}catch{}}}function aa(f){f.I&&(d.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Kn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),Xa(b)}};function $u(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Zh(f){const b={};f=(f.g&&2<=Kn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<f.length;j++){if(M(f[j]))continue;var E=z(f[j]);const W=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ie=b[W]||[];b[W]=ie,ie.push(E)}O(b,function(j){return j.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oa(f,b,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||b}function oo(f){this.Aa=0,this.i=[],this.j=new Hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oa("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oa("baseRetryDelayMs",5e3,f),this.cb=oa("retryDelaySeedMs",1e4,f),this.Wa=oa("forwardChannelMaxRetries",2,f),this.wa=oa("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ai(f&&f.concurrentRequestLimit),this.Da=new ia,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=oo.prototype,n.la=8,n.G=1,n.connect=function(f,b,E,j){yt(0),this.W=f,this.H=b||{},E&&j!==void 0&&(this.H.OSID=E,this.H.OAID=j),this.F=this.X,this.I=Zu(this,null,this.W),co(this)};function $l(f){if(Gu(f),f.G==3){var b=f.U++,E=On(f.I);if(lt(E,"SID",f.K),lt(E,"RID",b),lt(E,"TYPE","terminate"),la(f,E),b=new wn(f,f.j,b),b.L=2,b.v=ta(On(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(b.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=b.v,E=!0),E||(b.g=Ju(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Ws(b)}Wu(f)}function lo(f){f.g&&(ca(f),f.g.cancel(),f.g=null)}function Gu(f){lo(f),f.u&&(d.clearTimeout(f.u),f.u=null),uo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function co(f){if(!Ja(f.h)&&!f.s){f.s=!0;var b=f.Ga;re||B(),X||(re(),X=!0),se.add(b,f),f.B=0}}function Jh(f,b){return eo(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=b.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=kt(w(f.Ga,f,b),Yl(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const W=new wn(this,this.j,f);let ie=this.o;if(this.S&&(ie?(ie=x(ie),L(ie,this.S)):ie=this.S),this.m!==null||this.O||(W.H=ie,ie=null),this.P)e:{for(var b=0,E=0;E<this.i.length;E++){t:{var j=this.i[E];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(b+=j,4096<b){b=E;break e}if(b===4096||E===this.i.length-1){b=E+1;break e}}b=1e3}else b=1e3;b=Ku(this,W,b),E=On(this.I),lt(E,"RID",f),lt(E,"CVER",22),this.D&&lt(E,"X-HTTP-Session-Id",this.D),la(this,E),ie&&(this.O?b="headers="+encodeURIComponent(String(ql(ie)))+"&"+b:this.m&&Xt(E,this.m,ie)),to(this.h,W),this.Ua&&lt(E,"TYPE","init"),this.P?(lt(E,"$req",b),lt(E,"SID","null"),W.T=!0,sr(W,E,null)):sr(W,E,b),this.G=2}}else this.G==3&&(f?Gl(this,f):this.i.length==0||Ja(this.h)||Gl(this))};function Gl(f,b){var E;b?E=b.l:E=f.U++;const j=On(f.I);lt(j,"SID",f.K),lt(j,"RID",E),lt(j,"AID",f.T),la(f,j),f.m&&f.o&&Xt(j,f.m,f.o),E=new wn(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),b&&(f.i=b.D.concat(f.i)),b=Ku(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),to(f.h,E),sr(E,j,b)}function la(f,b){f.H&&Y(f.H,function(E,j){lt(b,j,E)}),f.l&&Ul({},function(E,j){lt(b,j,E)})}function Ku(f,b,E){E=Math.min(f.i.length,E);var j=f.l?w(f.l.Na,f.l,f):null;e:{var W=f.i;let ie=-1;for(;;){const ge=["count="+E];ie==-1?0<E?(ie=W[0].g,ge.push("ofs="+ie)):ie=0:ge.push("ofs="+ie);let Qe=!0;for(let Bt=0;Bt<E;Bt++){let Xe=W[Bt].g;const Wt=W[Bt].map;if(Xe-=ie,0>Xe)ie=Math.max(0,W[Bt].g-100),Qe=!1;else try{Cr(Wt,ge,"req"+Xe+"_")}catch{j&&j(Wt)}}if(Qe){j=ge.join("&");break e}}}return f=f.i.splice(0,E),b.D=f,j}function Yu(f){if(!f.g&&!f.u){f.Y=1;var b=f.Fa;re||B(),X||(re(),X=!0),se.add(b,f),f.v=0}}function Kl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=kt(w(f.Fa,f),Yl(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Qu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=kt(w(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),lo(this),Qu(this))};function ca(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function Qu(f){f.g=new wn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var b=On(f.qa);lt(b,"RID","rpc"),lt(b,"SID",f.K),lt(b,"AID",f.T),lt(b,"CI",f.F?"0":"1"),!f.F&&f.ja&&lt(b,"TO",f.ja),lt(b,"TYPE","xmlhttp"),la(f,b),f.m&&f.o&&Xt(b,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=ta(On(b)),E.m=null,E.P=!0,si(E,f)}n.Za=function(){this.C!=null&&(this.C=null,lo(this),Kl(this),yt(19))};function uo(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function Xu(f,b){var E=null;if(f.g==b){uo(f),ca(f),f.g=null;var j=2}else if(Vl(f.h,b))E=b.D,En(f.h,b),j=1;else return;if(f.G!=0){if(b.o)if(j==1){E=b.m?b.m.length:0,b=Date.now()-b.F;var W=f.B;j=$i(),it(j,new zt(j,E)),co(f)}else Yu(f);else if(W=b.s,W==3||W==0&&0<b.X||!(j==1&&Jh(f,b)||j==2&&Kl(f)))switch(E&&0<E.length&&(b=f.h,b.i=b.i.concat(E)),W){case 1:fi(f,5);break;case 4:fi(f,10);break;case 3:fi(f,6);break;default:fi(f,2)}}}function Yl(f,b){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*b}function fi(f,b){if(f.j.info("Error code "+b),b==2){var E=w(f.fb,f),j=f.Xa;const W=!j;j=new Dt(j||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ea(j,"https"),ta(j),W?ra(j.toString(),E):ar(j.toString(),E)}else yt(2);f.G=0,f.l&&f.l.sa(b),Wu(f),Gu(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Wu(f){if(f.G=0,f.ka=[],f.l){const b=Ll(f.h);(b.length!=0||f.i.length!=0)&&(P(f.ka,b),P(f.ka,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.ra()}}function Zu(f,b,E){var j=E instanceof Dt?On(E):new Dt(E);if(j.g!="")b&&(j.g=b+"."+j.g),Xi(j,j.s);else{var W=d.location;j=W.protocol,b=b?b+"."+W.hostname:W.hostname,W=+W.port;var ie=new Dt(null);j&&ea(ie,j),b&&(ie.g=b),W&&Xi(ie,W),E&&(ie.l=E),j=ie}return E=f.D,b=f.ya,E&&b&&lt(j,E,b),lt(j,"VER",f.la),la(f,j),j}function Ju(f,b,E){if(b&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Ca&&!f.pa?new nt(new Wi({eb:E})):new nt(f.pa),b.Ha(f.J),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ed(){}n=ed.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function fo(){}fo.prototype.g=function(f,b){return new xn(f,b)};function xn(f,b){Tt.call(this),this.g=new oo(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(f?f["X-WebChannel-Client-Profile"]=b.va:f={"X-WebChannel-Client-Profile":b.va}),this.g.S=f,(f=b&&b.Sb)&&!M(f)&&(this.g.m=f),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!M(b)&&(this.g.D=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new Or(this)}I(xn,Tt),xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){$l(this.g)},xn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=ir(f),f=E);b.i.push(new Bu(b.Ya++,f)),b.G==3&&co(b)},xn.prototype.N=function(){this.g.l=null,delete this.j,$l(this.g),delete this.g,xn.aa.N.call(this)};function td(f){ri.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const E in b){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}I(td,ri);function nd(){kl.call(this),this.status=1}I(nd,kl);function Or(f){this.g=f}I(Or,ed),Or.prototype.ua=function(){it(this.g,"a")},Or.prototype.ta=function(f){it(this.g,new td(f))},Or.prototype.sa=function(f){it(this.g,new nd)},Or.prototype.ra=function(){it(this.g,"b")},fo.prototype.createWebChannel=fo.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,g1=function(){return new fo},p1=function(){return $i()},m1=xr,Xg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yi.NO_ERROR=0,Yi.TIMEOUT=8,Yi.HTTP_ERROR=6,If=Yi,ii.COMPLETE="complete",h1=ii,Ol.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,qc=Ol,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,f1=nt}).apply(typeof af<"u"?af:typeof self<"u"?self:typeof window<"u"?window:{});const tE="@firebase/firestore",nE="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _l="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=new zy("@firebase/firestore");function $o(){return Ma.logLevel}function ye(n,...e){if(Ma.logLevel<=Ke.DEBUG){const t=e.map(Wy);Ma.debug(`Firestore (${_l}): ${n}`,...t)}}function Li(n,...e){if(Ma.logLevel<=Ke.ERROR){const t=e.map(Wy);Ma.error(`Firestore (${_l}): ${n}`,...t)}}function sl(n,...e){if(Ma.logLevel<=Ke.WARN){const t=e.map(Wy);Ma.warn(`Firestore (${_l}): ${n}`,...t)}}function Wy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,y1(n,i,t)}function y1(n,e,t){let i=`FIRESTORE (${_l}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Li(i),new Error(i)}function rt(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||y1(e,a,i)}function je(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Zr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yn.UNAUTHENTICATED))}shutdown(){}}class Jk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class eD{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){rt(this.o===void 0,42304);let i=this.i;const a=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let l=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Oi,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const h=l;e.enqueueRetryable(async()=>{await h.promise,await a(this.currentUser)})},d=h=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>d(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Oi)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(rt(typeof i.accessToken=="string",31837,{l:i}),new v1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class tD{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class nD{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new tD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){rt(this.o===void 0,3512);const i=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(rt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new rE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=iD(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function He(n,e){return n<e?-1:n>e?1:0}function Wg(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),a=e.codePointAt(t);if(i!==a){if(i<128&&a<128)return He(i,a);{const l=_1(),u=sD(l.encode(iE(n,t)),l.encode(iE(e,t)));return u!==0?u:He(i,a)}}t+=i>65535?2:1}return He(n.length,e.length)}function iE(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function sD(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return He(n[t],e[t]);return He(n.length,e.length)}function al(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=-62135596800,aE=1e6;class Kt{static now(){return Kt.fromMillis(Date.now())}static fromDate(e){return Kt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*aE);return new Kt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<sE)throw new _e(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aE}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-sE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new Kt(0,0))}static max(){return new Me(new Kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="__name__";class Ur{constructor(e,t,i){t===void 0?t=0:t>e.length&&Pe(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Pe(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ur.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ur?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Ur.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return He(e.length,t.length)}static compareSegments(e,t){const i=Ur.isNumericId(e),a=Ur.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Ur.extractNumericId(e).compare(Ur.extractNumericId(t)):Wg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ns.fromString(e.substring(4,e.length-2))}}class gt extends Ur{construct(e,t,i){return new gt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new _e(he.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new gt(t)}static emptyPath(){return new gt([])}}const aD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Ur{construct(e,t,i){return new un(e,t,i)}static isValidIdentifier(e){return aD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===oE}static keyField(){return new un([oE])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new _e(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new _e(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new _e(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(i+=d,a++):(l(),a++)}if(l(),u)throw new _e(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(t)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(gt.fromString(e))}static fromName(e){return new Re(gt.fromString(e).popFirst(5))}static empty(){return new Re(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new gt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=-1;function oD(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Me.fromTimestamp(i===1e9?new Kt(t+1,0):new Kt(t,i));return new ks(a,Re.empty(),e)}function lD(n){return new ks(n.readTime,n.key,su)}class ks{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ks(Me.min(),Re.empty(),su)}static max(){return new ks(Me.max(),Re.empty(),su)}}function cD(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Re.comparator(n.documentKey,e.documentKey),t!==0?t:He(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==uD)throw n;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,i)=>{t(e)})}static reject(e){return new fe((t,i)=>{i(e)})}static waitFor(e){return new fe((t,i)=>{let a=0,l=0,u=!1;e.forEach(d=>{++a,d.next(()=>{++l,u&&l===a&&t()},h=>i(h))}),u=!0,l===a&&t()})}static or(e){let t=fe.resolve(!1);for(const i of e)t=t.next(a=>a?fe.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new fe((i,a)=>{const l=e.length,u=new Array(l);let d=0;for(let h=0;h<l;h++){const p=h;t(e[p]).next(v=>{u[p]=v,++d,d===l&&i(u)},v=>a(v))}})}static doWhile(e,t){return new fe((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function fD(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function wl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}wh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=-1;function Eh(n){return n==null}function Kf(n){return n===0&&1/n==-1/0}function hD(n){return typeof n=="number"&&Number.isInteger(n)&&!Kf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="";function mD(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=lE(e)),e=pD(n.get(t),e);return lE(e)}function pD(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case w1:t+="";break;default:t+=l}}return t}function lE(n){return n+w1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function qa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function E1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,t){this.comparator=e,this.root=t||cn.EMPTY}insert(e,t){return new xt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new of(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new of(this.root,e,this.comparator,!1)}getReverseIterator(){return new of(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new of(this.root,e,this.comparator,!0)}}class of{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??cn.RED,this.left=a??cn.EMPTY,this.right=l??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new cn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return cn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new cn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new uE(this.data.getIterator())}getIteratorFrom(e){return new uE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Yt(this.comparator);return t.data=e,t}}class uE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new fr([])}unionWith(e){let t=new Yt(un.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new fr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return al(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new x1("Invalid base64 string: "+l):l}}(e);return new fn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l}(e);return new fn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const gD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(n){if(rt(!!n,39018),typeof n=="string"){let e=0;const t=gD.exec(n);if(rt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ot(n.seconds),nanos:Ot(n.nanos)}}function Ot(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ms(n){return typeof n=="string"?fn.fromBase64String(n):fn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="server_timestamp",S1="__type__",A1="__previous_value__",R1="__local_write_time__";function Jy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[S1])===null||t===void 0?void 0:t.stringValue)===T1}function xh(n){const e=n.mapValue.fields[A1];return Jy(e)?xh(e):e}function au(n){const e=Ds(n.mapValue.fields[R1].timestampValue);return new Kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,t,i,a,l,u,d,h,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=v}}const Yf="(default)";class ou{constructor(e,t){this.projectId=e,this.database=t||Yf}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database===Yf}isEqual(e){return e instanceof ou&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="__type__",vD="__max__",lf={mapValue:{}},I1="__vector__",Qf="value";function js(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Jy(n)?4:bD(n)?9007199254740991:_D(n)?10:11:Pe(28295,{value:n})}function Yr(n,e){if(n===e)return!0;const t=js(n);if(t!==js(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return au(n).isEqual(au(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Ds(a.timestampValue),d=Ds(l.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return Ms(a.bytesValue).isEqual(Ms(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return Ot(a.geoPointValue.latitude)===Ot(l.geoPointValue.latitude)&&Ot(a.geoPointValue.longitude)===Ot(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Ot(a.integerValue)===Ot(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Ot(a.doubleValue),d=Ot(l.doubleValue);return u===d?Kf(u)===Kf(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return al(n.arrayValue.values||[],e.arrayValue.values||[],Yr);case 10:case 11:return function(a,l){const u=a.mapValue.fields||{},d=l.mapValue.fields||{};if(cE(u)!==cE(d))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(d[h]===void 0||!Yr(u[h],d[h])))return!1;return!0}(n,e);default:return Pe(52216,{left:n})}}function lu(n,e){return(n.values||[]).find(t=>Yr(t,e))!==void 0}function ol(n,e){if(n===e)return 0;const t=js(n),i=js(e);if(t!==i)return He(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return He(n.booleanValue,e.booleanValue);case 2:return function(l,u){const d=Ot(l.integerValue||l.doubleValue),h=Ot(u.integerValue||u.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1}(n,e);case 3:return dE(n.timestampValue,e.timestampValue);case 4:return dE(au(n),au(e));case 5:return Wg(n.stringValue,e.stringValue);case 6:return function(l,u){const d=Ms(l),h=Ms(u);return d.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(l,u){const d=l.split("/"),h=u.split("/");for(let p=0;p<d.length&&p<h.length;p++){const v=He(d[p],h[p]);if(v!==0)return v}return He(d.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,u){const d=He(Ot(l.latitude),Ot(u.latitude));return d!==0?d:He(Ot(l.longitude),Ot(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return fE(n.arrayValue,e.arrayValue);case 10:return function(l,u){var d,h,p,v;const _=l.fields||{},w=u.fields||{},R=(d=_[Qf])===null||d===void 0?void 0:d.arrayValue,I=(h=w[Qf])===null||h===void 0?void 0:h.arrayValue,A=He(((p=R==null?void 0:R.values)===null||p===void 0?void 0:p.length)||0,((v=I==null?void 0:I.values)===null||v===void 0?void 0:v.length)||0);return A!==0?A:fE(R,I)}(n.mapValue,e.mapValue);case 11:return function(l,u){if(l===lf.mapValue&&u===lf.mapValue)return 0;if(l===lf.mapValue)return 1;if(u===lf.mapValue)return-1;const d=l.fields||{},h=Object.keys(d),p=u.fields||{},v=Object.keys(p);h.sort(),v.sort();for(let _=0;_<h.length&&_<v.length;++_){const w=Wg(h[_],v[_]);if(w!==0)return w;const R=ol(d[h[_]],p[v[_]]);if(R!==0)return R}return He(h.length,v.length)}(n.mapValue,e.mapValue);default:throw Pe(23264,{Pe:t})}}function dE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return He(n,e);const t=Ds(n),i=Ds(e),a=He(t.seconds,i.seconds);return a!==0?a:He(t.nanos,i.nanos)}function fE(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=ol(t[a],i[a]);if(l)return l}return He(t.length,i.length)}function ll(n){return Zg(n)}function Zg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ds(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ms(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Re.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Zg(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${Zg(t.fields[u])}`;return a+"}"}(n.mapValue):Pe(61005,{value:n})}function Nf(n){switch(js(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xh(n);return e?16+Nf(e):16;case 5:return 2*n.stringValue.length;case 6:return Ms(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+Nf(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return qa(i.fields,(l,u)=>{a+=l.length+Nf(u)}),a}(n.mapValue);default:throw Pe(13486,{value:n})}}function hE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Jg(n){return!!n&&"integerValue"in n}function ev(n){return!!n&&"arrayValue"in n}function mE(n){return!!n&&"nullValue"in n}function pE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Pf(n){return!!n&&"mapValue"in n}function _D(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[C1])===null||t===void 0?void 0:t.stringValue)===I1}function Wc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return qa(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Wc(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function bD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===vD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.value=e}static empty(){return new nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Pf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wc(t)}setAll(e){let t=un.emptyPath(),i={},a=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const h=this.getFieldsMap(t);this.applyChanges(h,i,a),i={},a=[],t=d.popLast()}u?i[d.lastSegment()]=Wc(u):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());Pf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Pf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){qa(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new nr(Wc(this.value))}}function N1(n){const e=[];return qa(n.fields,(t,i)=>{const a=new un([t]);if(Pf(i)){const l=N1(i.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)}),new fr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,t,i,a,l,u,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=d}static newInvalidDocument(e){return new vn(e,0,Me.min(),Me.min(),Me.min(),nr.empty(),0)}static newFoundDocument(e,t,i,a){return new vn(e,1,t,Me.min(),i,a,0)}static newNoDocument(e,t){return new vn(e,2,t,Me.min(),Me.min(),nr.empty(),0)}static newUnknownDocument(e,t){return new vn(e,3,t,Me.min(),Me.min(),nr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,t){this.position=e,this.inclusive=t}}function gE(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],u=n.position[a];if(l.field.isKeyField()?i=Re.comparator(Re.fromName(u.referenceValue),t.key):i=ol(u,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function yE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,t="asc"){this.field=e,this.dir=t}}function wD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{}class Lt extends P1{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new xD(e,t,i):t==="array-contains"?new AD(e,i):t==="in"?new RD(e,i):t==="not-in"?new CD(e,i):t==="array-contains-any"?new ID(e,i):new Lt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new TD(e,i):new SD(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ol(t,this.value)):t!==null&&js(this.value)===js(t)&&this.matchesComparison(ol(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gr extends P1{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new gr(e,t)}matches(e){return O1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function O1(n){return n.op==="and"}function k1(n){return ED(n)&&O1(n)}function ED(n){for(const e of n.filters)if(e instanceof gr)return!1;return!0}function ey(n){if(n instanceof Lt)return n.field.canonicalString()+n.op.toString()+ll(n.value);if(k1(n))return n.filters.map(e=>ey(e)).join(",");{const e=n.filters.map(t=>ey(t)).join(",");return`${n.op}(${e})`}}function D1(n,e){return n instanceof Lt?function(i,a){return a instanceof Lt&&i.op===a.op&&i.field.isEqual(a.field)&&Yr(i.value,a.value)}(n,e):n instanceof gr?function(i,a){return a instanceof gr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,u,d)=>l&&D1(u,a.filters[d]),!0):!1}(n,e):void Pe(19439)}function M1(n){return n instanceof Lt?function(t){return`${t.field.canonicalString()} ${t.op} ${ll(t.value)}`}(n):n instanceof gr?function(t){return t.op.toString()+" {"+t.getFilters().map(M1).join(" ,")+"}"}(n):"Filter"}class xD extends Lt{constructor(e,t,i){super(e,t,i),this.key=Re.fromName(i.referenceValue)}matches(e){const t=Re.comparator(e.key,this.key);return this.matchesComparison(t)}}class TD extends Lt{constructor(e,t){super(e,"in",t),this.keys=j1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class SD extends Lt{constructor(e,t){super(e,"not-in",t),this.keys=j1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function j1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Re.fromName(i.referenceValue))}class AD extends Lt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ev(t)&&lu(t.arrayValue,this.value)}}class RD extends Lt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&lu(this.value.arrayValue,t)}}class CD extends Lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!lu(this.value.arrayValue,t)}}class ID extends Lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ev(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>lu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,t=null,i=[],a=[],l=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=d,this.Ie=null}}function vE(n,e=null,t=[],i=[],a=null,l=null,u=null){return new ND(n,e,t,i,a,l,u)}function tv(n){const e=je(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>ey(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Eh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ll(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ll(i)).join(",")),e.Ie=t}return e.Ie}function nv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!wD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!D1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!yE(n.startAt,e.startAt)&&yE(n.endAt,e.endAt)}function ty(n){return Re.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,t=null,i=[],a=[],l=null,u="F",d=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=d,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function PD(n,e,t,i,a,l,u,d){return new Su(n,e,t,i,a,l,u,d)}function rv(n){return new Su(n)}function _E(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function V1(n){return n.collectionGroup!==null}function Zc(n){const e=je(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Yt(un.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Wf(l,i))}),t.has(un.keyField().canonicalString())||e.Ee.push(new Wf(un.keyField(),i))}return e.Ee}function $r(n){const e=je(n);return e.de||(e.de=OD(e,Zc(n))),e.de}function OD(n,e){if(n.limitType==="F")return vE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Wf(a.field,l)});const t=n.endAt?new Xf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Xf(n.startAt.position,n.startAt.inclusive):null;return vE(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function ny(n,e){const t=n.filters.concat([e]);return new Su(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ry(n,e,t){return new Su(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Th(n,e){return nv($r(n),$r(e))&&n.limitType===e.limitType}function L1(n){return`${tv($r(n))}|lt:${n.limitType}`}function Go(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>M1(a)).join(", ")}]`),Eh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>ll(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>ll(a)).join(",")),`Target(${i})`}($r(n))}; limitType=${n.limitType})`}function Sh(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Re.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of Zc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(u,d,h){const p=gE(u,d,h);return u.inclusive?p<=0:p<0}(i.startAt,Zc(i),a)||i.endAt&&!function(u,d,h){const p=gE(u,d,h);return u.inclusive?p>=0:p>0}(i.endAt,Zc(i),a))}(n,e)}function kD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function U1(n){return(e,t)=>{let i=!1;for(const a of Zc(n)){const l=DD(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function DD(n,e,t){const i=n.field.isKeyField()?Re.comparator(e.key,t.key):function(l,u,d){const h=u.data.field(l),p=d.data.field(l);return h!==null&&p!==null?ol(h,p):Pe(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Pe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){qa(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return E1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=new xt(Re.comparator);function Ui(){return MD}const z1=new xt(Re.comparator);function $c(...n){let e=z1;for(const t of n)e=e.insert(t.key,t);return e}function B1(n){let e=z1;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ca(){return Jc()}function F1(){return Jc()}function Jc(){return new $a(n=>n.toString(),(n,e)=>n.isEqual(e))}const jD=new xt(Re.comparator),VD=new Yt(Re.comparator);function Ye(...n){let e=VD;for(const t of n)e=e.add(t);return e}const LD=new Yt(He);function UD(){return LD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kf(e)?"-0":e}}function H1(n){return{integerValue:""+n}}function zD(n,e){return hD(e)?H1(e):iv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(){this._=void 0}}function BD(n,e,t){return n instanceof cu?function(a,l){const u={fields:{[S1]:{stringValue:T1},[R1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Jy(l)&&(l=xh(l)),l&&(u.fields[A1]=l),{mapValue:u}}(t,e):n instanceof uu?$1(n,e):n instanceof du?G1(n,e):function(a,l){const u=q1(a,l),d=bE(u)+bE(a.Re);return Jg(u)&&Jg(a.Re)?H1(d):iv(a.serializer,d)}(n,e)}function FD(n,e,t){return n instanceof uu?$1(n,e):n instanceof du?G1(n,e):t}function q1(n,e){return n instanceof Zf?function(i){return Jg(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class cu extends Ah{}class uu extends Ah{constructor(e){super(),this.elements=e}}function $1(n,e){const t=K1(e);for(const i of n.elements)t.some(a=>Yr(a,i))||t.push(i);return{arrayValue:{values:t}}}class du extends Ah{constructor(e){super(),this.elements=e}}function G1(n,e){let t=K1(e);for(const i of n.elements)t=t.filter(a=>!Yr(a,i));return{arrayValue:{values:t}}}class Zf extends Ah{constructor(e,t){super(),this.serializer=e,this.Re=t}}function bE(n){return Ot(n.integerValue||n.doubleValue)}function K1(n){return ev(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,t){this.field=e,this.transform=t}}function qD(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof uu&&a instanceof uu||i instanceof du&&a instanceof du?al(i.elements,a.elements,Yr):i instanceof Zf&&a instanceof Zf?Yr(i.Re,a.Re):i instanceof cu&&a instanceof cu}(n.transform,e.transform)}class $D{constructor(e,t){this.version=e,this.transformResults=t}}class ki{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ki}static exists(e){return new ki(void 0,e)}static updateTime(e){return new ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Of(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Rh{}function Y1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new X1(n.key,ki.none()):new Au(n.key,n.data,ki.none());{const t=n.data,i=nr.empty();let a=new Yt(un.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new Ga(n.key,i,new fr(a.toArray()),ki.none())}}function GD(n,e,t){n instanceof Au?function(a,l,u){const d=a.value.clone(),h=EE(a.fieldTransforms,l,u.transformResults);d.setAll(h),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ga?function(a,l,u){if(!Of(a.precondition,l))return void l.convertToUnknownDocument(u.version);const d=EE(a.fieldTransforms,l,u.transformResults),h=l.data;h.setAll(Q1(a)),h.setAll(d),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function eu(n,e,t,i){return n instanceof Au?function(l,u,d,h){if(!Of(l.precondition,u))return d;const p=l.value.clone(),v=xE(l.fieldTransforms,h,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ga?function(l,u,d,h){if(!Of(l.precondition,u))return d;const p=xE(l.fieldTransforms,h,u),v=u.data;return v.setAll(Q1(l)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(n,e,t,i):function(l,u,d){return Of(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function KD(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=q1(i.transform,a||null);l!=null&&(t===null&&(t=nr.empty()),t.set(i.field,l))}return t||null}function wE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&al(i,a,(l,u)=>qD(l,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Au extends Rh{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ga extends Rh{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Q1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function EE(n,e,t){const i=new Map;rt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const l=n[a],u=l.transform,d=e.data.field(l.field);i.set(l.field,FD(u,d,t[a]))}return i}function xE(n,e,t){const i=new Map;for(const a of n){const l=a.transform,u=t.data.field(a.field);i.set(a.field,BD(l,u,e))}return i}class X1 extends Rh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YD extends Rh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&GD(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=eu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=eu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=F1();return this.mutations.forEach(a=>{const l=e.get(a.key),u=l.overlayedDocument;let d=this.applyToLocalView(u,l.mutatedFields);d=t.has(a.key)?null:d;const h=Y1(u,d);h!==null&&i.set(a.key,h),u.isValidDocument()||u.convertToNoDocument(Me.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ye())}isEqual(e){return this.batchId===e.batchId&&al(this.mutations,e.mutations,(t,i)=>wE(t,i))&&al(this.baseMutations,e.baseMutations,(t,i)=>wE(t,i))}}class sv{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){rt(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let a=function(){return jD}();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new sv(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,Ze;function ZD(n){switch(n){case he.OK:return Pe(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Pe(15467,{code:n})}}function W1(n){if(n===void 0)return Li("GRPC error has no .code"),he.UNKNOWN;switch(n){case Vt.OK:return he.OK;case Vt.CANCELLED:return he.CANCELLED;case Vt.UNKNOWN:return he.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return he.INTERNAL;case Vt.UNAVAILABLE:return he.UNAVAILABLE;case Vt.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Vt.NOT_FOUND:return he.NOT_FOUND;case Vt.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Vt.ABORTED:return he.ABORTED;case Vt.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Vt.DATA_LOSS:return he.DATA_LOSS;default:return Pe(39323,{code:n})}}(Ze=Vt||(Vt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=new Ns([4294967295,4294967295],0);function TE(n){const e=_1().encode(n),t=new d1;return t.update(e),new Uint8Array(t.digest())}function SE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ns([t,i],0),new Ns([a,l],0)]}class av{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Gc(`Invalid padding: ${t}`);if(i<0)throw new Gc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Gc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Gc(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ns.fromNumber(this.pe)}we(e,t,i){let a=e.add(t.multiply(Ns.fromNumber(i)));return a.compare(JD)===1&&(a=new Ns([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=TE(e),[i,a]=SE(t);for(let l=0;l<this.hashCount;l++){const u=this.we(i,a,l);if(!this.be(u))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new av(l,a,t);return i.forEach(d=>u.insert(d)),u}insert(e){if(this.pe===0)return;const t=TE(e),[i,a]=SE(t);for(let l=0;l<this.hashCount;l++){const u=this.we(i,a,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Gc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ch(Me.min(),a,new xt(He),Ui(),Ye())}}class Ru{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ru(i,t,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,t,i,a){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=a}}class Z1{constructor(e,t){this.targetId=e,this.Ce=t}}class J1{constructor(e,t,i=fn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class AE{constructor(){this.Fe=0,this.Me=RE(),this.xe=fn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ye(),t=Ye(),i=Ye();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Pe(38017,{changeType:l})}}),new Ru(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=RE()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,rt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class eM{constructor(e){this.ze=e,this.je=new Map,this.He=Ui(),this.Je=cf(),this.Ye=cf(),this.Ze=new xt(He)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:Pe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,i=e.Ce.count,a=this._t(t);if(a){const l=a.target;if(ty(l))if(i===0){const u=new Re(l.path);this.tt(t,u,vn.newNoDocument(u,Me.min()))}else rt(i===1,20013,{expectedCount:i});else{const u=this.ut(t);if(u!==i){const d=this.ct(e),h=d?this.lt(d,e,u):1;if(h!==0){this.st(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let u,d;try{u=Ms(i).toUint8Array()}catch(h){if(h instanceof x1)return sl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new av(u,a,l)}catch(h){return sl(h instanceof Gc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.pe===0?null:d}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const u=this.ze.Pt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,l,null),a++)}),a}It(e){const t=new Map;this.je.forEach((l,u)=>{const d=this._t(u);if(d){if(l.current&&ty(d.target)){const h=new Re(d.target.path);this.Et(h).has(u)||this.dt(u,h)||this.tt(u,h,vn.newNoDocument(h,e))}l.Le&&(t.set(u,l.qe()),l.Qe())}});let i=Ye();this.Ye.forEach((l,u)=>{let d=!0;u.forEachWhile(h=>{const p=this._t(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.He.forEach((l,u)=>u.setReadTime(e));const a=new Ch(e,t,this.Ze,this.He,i);return this.He=Ui(),this.Je=cf(),this.Ye=cf(),this.Ze=new xt(He),a}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new AE,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Yt(He),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Yt(He),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new AE),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function cf(){return new xt(Re.comparator)}function RE(){return new xt(Re.comparator)}const tM={asc:"ASCENDING",desc:"DESCENDING"},nM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rM={and:"AND",or:"OR"};class iM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function iy(n,e){return n.useProto3Json||Eh(e)?e:{value:e}}function Jf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function sM(n,e){return Jf(n,e.toTimestamp())}function Gr(n){return rt(!!n,49232),Me.fromTimestamp(function(t){const i=Ds(t);return new Kt(i.seconds,i.nanos)}(n))}function ov(n,e){return sy(n,e).canonicalString()}function sy(n,e){const t=function(a){return new gt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function tS(n){const e=gt.fromString(n);return rt(aS(e),10190,{key:e.toString()}),e}function ay(n,e){return ov(n.databaseId,e.path)}function ag(n,e){const t=tS(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Re(rS(t))}function nS(n,e){return ov(n.databaseId,e)}function aM(n){const e=tS(n);return e.length===4?gt.emptyPath():rS(e)}function oy(n){return new gt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rS(n){return rt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function CE(n,e,t){return{name:ay(n,e),fields:t.value.mapValue.fields}}function oM(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Pe(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,v){return p.useProto3Json?(rt(v===void 0||typeof v=="string",58123),fn.fromBase64String(v||"")):(rt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),fn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(p){const v=p.code===void 0?he.UNKNOWN:W1(p.code);return new _e(v,p.message||"")}(u);t=new J1(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=ag(n,i.document.name),l=Gr(i.document.updateTime),u=i.document.createTime?Gr(i.document.createTime):Me.min(),d=new nr({mapValue:{fields:i.document.fields}}),h=vn.newFoundDocument(a,l,u,d),p=i.targetIds||[],v=i.removedTargetIds||[];t=new kf(p,v,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=ag(n,i.document),l=i.readTime?Gr(i.readTime):Me.min(),u=vn.newNoDocument(a,l),d=i.removedTargetIds||[];t=new kf([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=ag(n,i.document),l=i.removedTargetIds||[];t=new kf([],l,a,null)}else{if(!("filter"in e))return Pe(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new WD(a,l),d=i.targetId;t=new Z1(d,u)}}return t}function lM(n,e){let t;if(e instanceof Au)t={update:CE(n,e.key,e.value)};else if(e instanceof X1)t={delete:ay(n,e.key)};else if(e instanceof Ga)t={update:CE(n,e.key,e.data),updateMask:yM(e.fieldMask)};else{if(!(e instanceof YD))return Pe(16599,{ft:e.type});t={verify:ay(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,u){const d=u.transform;if(d instanceof cu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof uu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof du)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Zf)return{fieldPath:u.field.canonicalString(),increment:d.Re};throw Pe(20930,{transform:u.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:sM(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Pe(27497)}(n,e.precondition)),t}function cM(n,e){return n&&n.length>0?(rt(e!==void 0,14353),n.map(t=>function(a,l){let u=a.updateTime?Gr(a.updateTime):Gr(l);return u.isEqual(Me.min())&&(u=Gr(l)),new $D(u,a.transformResults||[])}(t,e))):[]}function uM(n,e){return{documents:[nS(n,e.path)]}}function dM(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=nS(n,a);const l=function(p){if(p.length!==0)return sS(gr.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(p){if(p.length!==0)return p.map(v=>function(w){return{field:Ko(w.field),direction:mM(w.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=iy(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:a}}function fM(n){let e=aM(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){rt(i===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(_){const w=iS(_);return w instanceof gr&&k1(w)?w.getFilters():[w]}(t.where));let u=[];t.orderBy&&(u=function(_){return _.map(w=>function(I){return new Wf(Yo(I.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(w))}(t.orderBy));let d=null;t.limit&&(d=function(_){let w;return w=typeof _=="object"?_.value:_,Eh(w)?null:w}(t.limit));let h=null;t.startAt&&(h=function(_){const w=!!_.before,R=_.values||[];return new Xf(R,w)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const w=!_.before,R=_.values||[];return new Xf(R,w)}(t.endAt)),PD(e,a,u,l,d,"F",h,p)}function hM(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function iS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Yo(t.unaryFilter.field);return Lt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Yo(t.unaryFilter.field);return Lt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Yo(t.unaryFilter.field);return Lt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Yo(t.unaryFilter.field);return Lt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}}(n):n.fieldFilter!==void 0?function(t){return Lt.create(Yo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return gr.create(t.compositeFilter.filters.map(i=>iS(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}}(t.compositeFilter.op))}(n):Pe(30097,{filter:n})}function mM(n){return tM[n]}function pM(n){return nM[n]}function gM(n){return rM[n]}function Ko(n){return{fieldPath:n.canonicalString()}}function Yo(n){return un.fromServerFormat(n.fieldPath)}function sS(n){return n instanceof Lt?function(t){if(t.op==="=="){if(pE(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NAN"}};if(mE(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(pE(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NOT_NAN"}};if(mE(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ko(t.field),op:pM(t.op),value:t.value}}}(n):n instanceof gr?function(t){const i=t.getFilters().map(a=>sS(a));return i.length===1?i[0]:{compositeFilter:{op:gM(t.op),filters:i}}}(n):Pe(54877,{filter:n})}function yM(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function aS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,t,i,a,l=Me.min(),u=Me.min(),d=fn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new Rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e){this.wt=e}}function _M(n){const e=fM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ry(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(){this.Cn=new wM}addToCollectionParentIndex(e,t){return this.Cn.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(ks.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(ks.min())}updateCollectionGroup(e,t,i){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class wM{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Yt(gt.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Yt(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oS=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(oS,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new cl(0)}static lr(){return new cl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="LruGarbageCollector",EM=1048576;function PE([n,e],[t,i]){const a=He(n,t);return a===0?He(e,i):a}class xM{constructor(e){this.Er=e,this.buffer=new Yt(PE),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();PE(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class TM{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ye(NE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){wl(t)?ye(NE,"Ignoring IndexedDB error during garbage collection: ",t):await bl(t)}await this.mr(3e5)})}}class SM{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return fe.resolve(wh.le);const i=new xM(t);return this.gr.forEachTarget(e,a=>i.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>i.Rr(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(IE)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IE):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,a,l,u,d,h,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(i=_,d=Date.now(),this.removeTargets(e,i,t))).next(_=>(l=_,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(_=>(p=Date.now(),$o()<=Ke.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${l} targets in `+(h-d)+`ms
	Removed ${_} documents in `+(p-h)+`ms
Total Duration: ${p-v}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function AM(n,e){return new SM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(){this.changes=new $a(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?fe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&eu(i.mutation,a,fr.empty(),Kt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ye()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ye()){const a=Ca();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let u=$c();return l.forEach((d,h)=>{u=u.insert(d,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Ca();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ye()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,i,a){let l=Ui();const u=Jc(),d=function(){return Jc()}();return t.forEach((h,p)=>{const v=i.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof Ga)?l=l.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),eu(v.mutation,p,v.mutation.getFieldMask(),Kt.now())):u.set(p.key,fr.empty())}),this.recalculateAndSaveOverlays(e,l).next(h=>(h.forEach((p,v)=>u.set(p,v)),t.forEach((p,v)=>{var _;return d.set(p,new CM(v,(_=u.get(p))!==null&&_!==void 0?_:null))}),d))}recalculateAndSaveOverlays(e,t){const i=Jc();let a=new xt((u,d)=>u-d),l=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(h=>{const p=t.get(h);if(p===null)return;let v=i.get(h)||fr.empty();v=d.applyToLocalView(p,v),i.set(h,v);const _=(a.get(d.batchId)||Ye()).add(h);a=a.insert(d.batchId,_)})}).next(()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),p=h.key,v=h.value,_=F1();v.forEach(w=>{if(!l.has(w)){const R=Y1(t.get(w),i.get(w));R!==null&&_.set(w,R),l=l.add(w)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,_))}return fe.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(u){return Re.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):V1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):fe.resolve(Ca());let d=su,h=l;return u.next(p=>fe.forEach(p,(v,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(v)?fe.resolve():this.remoteDocumentCache.getEntry(e,v).next(w=>{h=h.insert(v,w)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,h,p,Ye())).next(v=>({batchId:d,changes:B1(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Re(t)).next(i=>{let a=$c();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let u=$c();return this.indexManager.getCollectionParents(e,l).next(d=>fe.forEach(d,h=>{const p=function(_,w){return new Su(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,h.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next(v=>{v.forEach((_,w)=>{u=u.insert(_,w)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(u=>{l.forEach((h,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,vn.newInvalidDocument(v)))});let d=$c();return u.forEach((h,p)=>{const v=l.get(h);v!==void 0&&eu(v.mutation,p,fr.empty(),Kt.now()),Sh(t,p)&&(d=d.insert(h,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return fe.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Gr(a.createTime)}}(t)),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(a){return{name:a.name,query:_M(a.bundledQuery),readTime:Gr(a.readTime)}}(t)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(){this.overlays=new xt(Re.comparator),this.Qr=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ca();return fe.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.St(e,t,l)}),fe.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Qr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(i)),fe.resolve()}getOverlaysForCollection(e,t,i){const a=Ca(),l=t.length+1,u=new Re(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const h=d.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&h.largestBatchId>i&&a.set(h.getKey(),h)}return fe.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new xt((p,v)=>p-v);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let v=l.get(p.largestBatchId);v===null&&(v=Ca(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=Ca(),h=l.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,v)=>d.set(p,v)),!(d.size()>=a)););return fe.resolve(d)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Qr.get(a.largestBatchId).delete(i.key);this.Qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new XD(t,i));let l=this.Qr.get(t);l===void 0&&(l=Ye(),this.Qr.set(t,l)),this.Qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(){this.$r=new Yt(tn.Ur),this.Kr=new Yt(tn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new tn(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new tn(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new Re(new gt([])),i=new tn(t,e),a=new tn(t,e+1),l=[];return this.Kr.forEachInRange([i,a],u=>{this.zr(u),l.push(u.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Re(new gt([])),i=new tn(t,e),a=new tn(t,e+1);let l=Ye();return this.Kr.forEachInRange([i,a],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new tn(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class tn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Re.comparator(e.key,t.key)||He(e.Zr,t.Zr)}static Wr(e,t){return He(e.Zr,t.Zr)||Re.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Yt(tn.Ur)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new QD(l,t,i,a);this.mutationQueue.push(u);for(const d of a)this.Xr=this.Xr.add(new tn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return fe.resolve(u)}lookupMutationBatch(e,t){return fe.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ti(i),l=a<0?0:a;return fe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?Zy:this.nr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new tn(t,0),a=new tn(t,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([i,a],u=>{const d=this.ei(u.Zr);l.push(d)}),fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Yt(He);return t.forEach(a=>{const l=new tn(a,0),u=new tn(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,u],d=>{i=i.add(d.Zr)})}),fe.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Re.isDocumentKey(l)||(l=l.child(""));const u=new tn(new Re(l),0);let d=new Yt(He);return this.Xr.forEachWhile(h=>{const p=h.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(d=d.add(h.Zr)),!0)},u),fe.resolve(this.ni(d))}ni(e){const t=[];return e.forEach(i=>{const a=this.ei(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){rt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return fe.forEach(t.mutations,a=>{const l=new tn(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new tn(t,0),a=this.Xr.firstAfterOrEqual(i);return fe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e){this.ii=e,this.docs=function(){return new xt(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,u=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return fe.resolve(i?i.document.mutableCopy():vn.newInvalidDocument(t))}getEntries(e,t){let i=Ui();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():vn.newInvalidDocument(a))}),fe.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=Ui();const u=t.path,d=new Re(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:p,value:{document:v}}=h.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||cD(lD(v),i)<=0||(a.has(v.key)||Sh(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return fe.resolve(l)}getAllFromCollectionGroup(e,t,i,a){Pe(9500)}si(e,t){return fe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new MM(this)}getSize(e){return fe.resolve(this.size)}}class MM extends RM{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Br.addEntry(e,a)):this.Br.removeEntry(i)}),fe.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.persistence=e,this.oi=new $a(t=>tv(t),nv),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this._i=0,this.ai=new lv,this.targetCount=0,this.ui=cl.cr()}forEachTarget(e,t){return this.oi.forEach((i,a)=>t(a)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),fe.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new cl(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.Tr(t),fe.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.oi.forEach((u,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.oi.delete(u),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),fe.waitFor(l).next(()=>a)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return fe.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),fe.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(u=>{l.push(a.markPotentiallyOrphaned(e,u))}),fe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return fe.resolve(i)}containsKey(e,t){return fe.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,t){this.ci={},this.overlays={},this.li=new wh(0),this.hi=!1,this.hi=!0,this.Pi=new OM,this.referenceDelegate=e(this),this.Ti=new jM(this),this.indexManager=new bM,this.remoteDocumentCache=function(a){return new DM(a)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new vM(t),this.Ei=new NM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new PM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new kM(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){ye("MemoryPersistence","Starting transaction:",e);const a=new VM(this.li.next());return this.referenceDelegate.di(),i(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(e,t){return fe.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class VM extends dD{constructor(e){super(),this.currentSequenceNumber=e}}class cv{constructor(e){this.persistence=e,this.Vi=new lv,this.mi=null}static fi(e){return new cv(e)}get gi(){if(this.mi)return this.mi;throw Pe(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),fe.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(a=>this.gi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.gi,i=>{const a=Re.fromPath(i);return this.pi(e,a).next(l=>{l||t.removeEntry(a,Me.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return fe.or([()=>fe.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class eh{constructor(e,t){this.persistence=e,this.yi=new $a(i=>mD(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=AM(this,t)}static fi(e,t){return new eh(e,t)}di(){}Ai(e){return fe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return fe.forEach(this.yi,(i,a)=>this.Dr(e,i,a).next(l=>l?fe.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(e,u=>this.Dr(e,u,t).next(d=>{d||(i++,l.removeEntry(u,Me.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),fe.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),fe.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),fe.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Nf(e.data.value)),t}Dr(e,t,i){return fe.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.yi.get(t);return fe.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.ds=i,this.As=a}static Rs(e,t){let i=Ye(),a=Ye();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new uv(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return g2()?8:fD(_n())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ws(e,t).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.bs(e,t,a,i).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new LM;return this.Ss(e,t,u).next(d=>{if(l.result=d,this.fs)return this.Ds(e,t,u,d.size)})}).next(()=>l.result)}Ds(e,t,i,a){return i.documentReadCount<this.gs?($o()<=Ke.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Go(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),fe.resolve()):($o()<=Ke.DEBUG&&ye("QueryEngine","Query:",Go(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ps*a?($o()<=Ke.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Go(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$r(t))):fe.resolve())}ws(e,t){if(_E(t))return fe.resolve(null);let i=$r(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=ry(t,null,"F"),i=$r(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const u=Ye(...l);return this.ys.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,i).next(h=>{const p=this.vs(t,d);return this.Cs(t,p,u,h.readTime)?this.ws(e,ry(t,null,"F")):this.Fs(e,p,t,h)}))})))}bs(e,t,i,a){return _E(t)||a.isEqual(Me.min())?fe.resolve(null):this.ys.getDocuments(e,i).next(l=>{const u=this.vs(t,l);return this.Cs(t,u,i,a)?fe.resolve(null):($o()<=Ke.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Go(t)),this.Fs(e,u,t,oD(a,su)).next(d=>d))})}vs(e,t){let i=new Yt(U1(e));return t.forEach((a,l)=>{Sh(e,l)&&(i=i.add(l))}),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return $o()<=Ke.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Go(t)),this.ys.getDocumentsMatchingQuery(e,t,ks.min(),i)}Fs(e,t,i,a){return this.ys.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="LocalStore",zM=3e8;class BM{constructor(e,t,i,a){this.persistence=e,this.Ms=t,this.serializer=a,this.xs=new xt(He),this.Os=new $a(l=>tv(l),nv),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IM(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function FM(n,e,t,i){return new BM(n,e,t,i)}async function cS(n,e){const t=je(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const u=[],d=[];let h=Ye();for(const p of a){u.push(p.batchId);for(const v of p.mutations)h=h.add(v.key)}for(const p of l){d.push(p.batchId);for(const v of p.mutations)h=h.add(v.key)}return t.localDocuments.getDocuments(i,h).next(p=>({ks:p,removedBatchIds:u,addedBatchIds:d}))})})}function HM(n,e){const t=je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(d,h,p,v){const _=p.batch,w=_.keys();let R=fe.resolve();return w.forEach(I=>{R=R.next(()=>v.getEntry(h,I)).next(A=>{const P=p.docVersions.get(I);rt(P!==null,48541),A.version.compareTo(P)<0&&(_.applyToRemoteDocument(A,p),A.isValidDocument()&&(A.setReadTime(p.commitVersion),v.addEntry(A)))})}),R.next(()=>d.mutationQueue.removeMutationBatch(h,_))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let h=Ye();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(h=h.add(d.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function uS(n){const e=je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function qM(n,e){const t=je(n),i=e.snapshotVersion;let a=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.Bs.newChangeBuffer({trackRemovals:!0});a=t.xs;const d=[];e.targetChanges.forEach((v,_)=>{const w=a.get(_);if(!w)return;d.push(t.Ti.removeMatchingKeys(l,v.removedDocuments,_).next(()=>t.Ti.addMatchingKeys(l,v.addedDocuments,_)));let R=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?R=R.withResumeToken(fn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,i)),a=a.insert(_,R),function(A,P,C){return A.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=zM?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(w,R,v)&&d.push(t.Ti.updateTargetData(l,R))});let h=Ui(),p=Ye();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push($M(l,u,e.documentUpdates).next(v=>{h=v.qs,p=v.Qs})),!i.isEqual(Me.min())){const v=t.Ti.getLastRemoteSnapshotVersion(l).next(_=>t.Ti.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(v)}return fe.waitFor(d).next(()=>u.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,h,p)).next(()=>h)}).then(l=>(t.xs=a,l))}function $M(n,e,t){let i=Ye(),a=Ye();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let u=Ui();return t.forEach((d,h)=>{const p=l.get(d);h.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),h.isNoDocument()&&h.version.isEqual(Me.min())?(e.removeEntry(d,h.readTime),u=u.insert(d,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),u=u.insert(d,h)):ye(dv,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",h.version)}),{qs:u,Qs:a}})}function GM(n,e){const t=je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Zy),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function KM(n,e){const t=je(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Ti.getTargetData(i,e).next(l=>l?(a=l,fe.resolve(a)):t.Ti.allocateTargetId(i).next(u=>(a=new Rs(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.xs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function ly(n,e,t){const i=je(n),a=i.xs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,u=>i.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!wl(u))throw u;ye(dv,`Failed to update sequence numbers for target ${e}: ${u}`)}i.xs=i.xs.remove(e),i.Os.delete(a.target)}function OE(n,e,t){const i=je(n);let a=Me.min(),l=Ye();return i.persistence.runTransaction("Execute query","readwrite",u=>function(h,p,v){const _=je(h),w=_.Os.get(v);return w!==void 0?fe.resolve(_.xs.get(w)):_.Ti.getTargetData(p,v)}(i,u,$r(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(u,d.targetId).next(h=>{l=h})}).next(()=>i.Ms.getDocumentsMatchingQuery(u,e,t?a:Me.min(),t?l:Ye())).next(d=>(YM(i,kD(e),d),{documents:d,$s:l})))}function YM(n,e,t){let i=n.Ns.get(e)||Me.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Ns.set(e,i)}class kE{constructor(){this.activeTargetIds=UD()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QM{constructor(){this.xo=new kE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new kE,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="ConnectivityMonitor";class ME{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ye(DE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ye(DE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf=null;function cy(){return uf===null?uf=function(){return 268435456+Math.round(2147483648*Math.random())}():uf++,"0x"+uf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="RestConnection",WM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZM{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${a}`,this.Go=this.databaseId.database===Yf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}zo(e,t,i,a,l){const u=cy(),d=this.jo(e,t.toUriEncodedString());ye(og,`Sending RPC '${e}' ${u}:`,d,i);const h={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(h,a,l);const{host:p}=new URL(d),v=Ba(p);return this.Jo(e,d,h,i,v).then(_=>(ye(og,`Received RPC '${e}' ${u}: `,_),_),_=>{throw sl(og,`RPC '${e}' ${u} failed with error: `,_,"url: ",d,"request:",i),_})}Yo(e,t,i,a,l,u){return this.zo(e,t,i,a,l)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_l}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}jo(e,t){const i=WM[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class e4 extends ZM{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const u=cy();return new Promise((d,h)=>{const p=new f1;p.setWithCredentials(!0),p.listenOnce(h1.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case If.NO_ERROR:const _=p.getResponseJson();ye(gn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),d(_);break;case If.TIMEOUT:ye(gn,`RPC '${e}' ${u} timed out`),h(new _e(he.DEADLINE_EXCEEDED,"Request time out"));break;case If.HTTP_ERROR:const w=p.getStatus();if(ye(gn,`RPC '${e}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const I=R==null?void 0:R.error;if(I&&I.status&&I.message){const A=function(C){const M=C.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(M)>=0?M:he.UNKNOWN}(I.status);h(new _e(A,I.message))}else h(new _e(he.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new _e(he.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{h_:e,streamId:u,P_:p.getLastErrorCode(),T_:p.getLastError()})}}finally{ye(gn,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(a);ye(gn,`RPC '${e}' ${u} sending request:`,a),p.send(t,"POST",v,i,15)})}I_(e,t,i){const a=cy(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=g1(),d=p1(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Ho(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const v=l.join("");ye(gn,`Creating RPC '${e}' stream ${a}: ${v}`,h);const _=u.createWebChannel(v,h);this.E_(_);let w=!1,R=!1;const I=new JM({Zo:P=>{R?ye(gn,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(w||(ye(gn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),w=!0),ye(gn,`RPC '${e}' stream ${a} sending:`,P),_.send(P))},Xo:()=>_.close()}),A=(P,C,M)=>{P.listen(C,N=>{try{M(N)}catch(U){setTimeout(()=>{throw U},0)}})};return A(_,qc.EventType.OPEN,()=>{R||(ye(gn,`RPC '${e}' stream ${a} transport opened.`),I.__())}),A(_,qc.EventType.CLOSE,()=>{R||(R=!0,ye(gn,`RPC '${e}' stream ${a} transport closed`),I.u_(),this.d_(_))}),A(_,qc.EventType.ERROR,P=>{R||(R=!0,sl(gn,`RPC '${e}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),I.u_(new _e(he.UNAVAILABLE,"The operation could not be completed")))}),A(_,qc.EventType.MESSAGE,P=>{var C;if(!R){const M=P.data[0];rt(!!M,16349);const N=M,U=(N==null?void 0:N.error)||((C=N[0])===null||C===void 0?void 0:C.error);if(U){ye(gn,`RPC '${e}' stream ${a} received error:`,U);const H=U.status;let Y=function(k){const L=Vt[k];if(L!==void 0)return W1(L)}(H),O=U.message;Y===void 0&&(Y=he.INTERNAL,O="Unknown error status: "+H+" with message "+U.message),R=!0,I.u_(new _e(Y,O)),_.close()}else ye(gn,`RPC '${e}' stream ${a} received:`,M),I.c_(M)}}),A(d,m1.STAT_EVENT,P=>{P.stat===Xg.PROXY?ye(gn,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===Xg.NOPROXY&&ye(gn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{I.a_()},0),I}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function lg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(n){return new iM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,t,i=1e3,a=1.5,l=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=a,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),a=Math.max(0,t-i);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="PersistentStream";class fS{constructor(e,t,i,a,l,u,d,h){this.xi=e,this.S_=i,this.D_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new dS(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(Li(t.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.v_===t&&this.z_(i,a)},i=>{e(()=>{const a=new _e(he.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(a)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{i(()=>this.j_(a))}),this.stream.onMessage(a=>{i(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ye(jE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(ye(jE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class t4 extends fS{constructor(e,t,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,u),this.serializer=l}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=oM(this.serializer,e),i=function(l){if(!("targetChange"in l))return Me.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Me.min():u.readTime?Gr(u.readTime):Me.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=oy(this.serializer),t.addTarget=function(l,u){let d;const h=u.target;if(d=ty(h)?{documents:uM(l,h)}:{query:dM(l,h).gt},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=eS(l,u.resumeToken);const p=iy(l,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(Me.min())>0){d.readTime=Jf(l,u.snapshotVersion.toTimestamp());const p=iy(l,u.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const i=hM(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=oy(this.serializer),t.removeTarget=e,this.Q_(t)}}class n4 extends fS{constructor(e,t,i,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,u),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=cM(e.writeResults,e.commitTime),i=Gr(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=oy(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>lM(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{}class i4 extends r4{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new _e(he.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.zo(e,sy(t,i),a,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(he.UNKNOWN,l.toString())})}Yo(e,t,i,a,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Yo(e,sy(t,i),a,u,d,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(he.UNKNOWN,u.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class s4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Li(t),this.ua=!1):ye("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="RemoteStore";class a4{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(u=>{i.enqueueAndForget(async()=>{Ka(this)&&(ye(ja,"Restarting streams for network reachability change."),await async function(h){const p=je(h);p.da.add(4),await Cu(p),p.Va.set("Unknown"),p.da.delete(4),await Nh(p)}(this))})}),this.Va=new s4(i,a)}}async function Nh(n){if(Ka(n))for(const e of n.Aa)await e(!0)}async function Cu(n){for(const e of n.Aa)await e(!1)}function hS(n,e){const t=je(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),pv(t)?mv(t):El(t).N_()&&hv(t,e))}function fv(n,e){const t=je(n),i=El(t);t.Ea.delete(e),i.N_()&&mS(t,e),t.Ea.size===0&&(i.N_()?i.k_():Ka(t)&&t.Va.set("Unknown"))}function hv(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}El(n).Z_(e)}function mS(n,e){n.ma.Ke(e),El(n).X_(e)}function mv(n){n.ma=new eM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),El(n).start(),n.Va.ca()}function pv(n){return Ka(n)&&!El(n).O_()&&n.Ea.size>0}function Ka(n){return je(n).da.size===0}function pS(n){n.ma=void 0}async function o4(n){n.Va.set("Online")}async function l4(n){n.Ea.forEach((e,t)=>{hv(n,e)})}async function c4(n,e){pS(n),pv(n)?(n.Va.Pa(e),mv(n)):n.Va.set("Unknown")}async function u4(n,e,t){if(n.Va.set("Online"),e instanceof J1&&e.state===2&&e.cause)try{await async function(a,l){const u=l.cause;for(const d of l.targetIds)a.Ea.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Ea.delete(d),a.ma.removeTarget(d))}(n,e)}catch(i){ye(ja,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await th(n,i)}else if(e instanceof kf?n.ma.Xe(e):e instanceof Z1?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Me.min()))try{const i=await uS(n.localStore);t.compareTo(i)>=0&&await function(l,u){const d=l.ma.It(u);return d.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const v=l.Ea.get(p);v&&l.Ea.set(p,v.withResumeToken(h.resumeToken,u))}}),d.targetMismatches.forEach((h,p)=>{const v=l.Ea.get(h);if(!v)return;l.Ea.set(h,v.withResumeToken(fn.EMPTY_BYTE_STRING,v.snapshotVersion)),mS(l,h);const _=new Rs(v.target,h,p,v.sequenceNumber);hv(l,_)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){ye(ja,"Failed to raise snapshot:",i),await th(n,i)}}async function th(n,e,t){if(!wl(e))throw e;n.da.add(1),await Cu(n),n.Va.set("Offline"),t||(t=()=>uS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ye(ja,"Retrying IndexedDB access"),await t(),n.da.delete(1),await Nh(n)})}function gS(n,e){return e().catch(t=>th(n,t,e))}async function Ph(n){const e=je(n),t=Vs(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Zy;for(;d4(e);)try{const a=await GM(e.localStore,i);if(a===null){e.Ia.length===0&&t.k_();break}i=a.batchId,f4(e,a)}catch(a){await th(e,a)}yS(e)&&vS(e)}function d4(n){return Ka(n)&&n.Ia.length<10}function f4(n,e){n.Ia.push(e);const t=Vs(n);t.N_()&&t.ea&&t.ta(e.mutations)}function yS(n){return Ka(n)&&!Vs(n).O_()&&n.Ia.length>0}function vS(n){Vs(n).start()}async function h4(n){Vs(n).ia()}async function m4(n){const e=Vs(n);for(const t of n.Ia)e.ta(t.mutations)}async function p4(n,e,t){const i=n.Ia.shift(),a=sv.from(i,e,t);await gS(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Ph(n)}async function g4(n,e){e&&Vs(n).ea&&await async function(i,a){if(function(u){return ZD(u)&&u!==he.ABORTED}(a.code)){const l=i.Ia.shift();Vs(i).L_(),await gS(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Ph(i)}}(n,e),yS(n)&&vS(n)}async function VE(n,e){const t=je(n);t.asyncQueue.verifyOperationInProgress(),ye(ja,"RemoteStore received new credentials");const i=Ka(t);t.da.add(3),await Cu(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Nh(t)}async function y4(n,e){const t=je(n);e?(t.da.delete(2),await Nh(t)):e||(t.da.add(2),await Cu(t),t.Va.set("Unknown"))}function El(n){return n.fa||(n.fa=function(t,i,a){const l=je(t);return l.oa(),new t4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:o4.bind(null,n),n_:l4.bind(null,n),i_:c4.bind(null,n),Y_:u4.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),pv(n)?mv(n):n.Va.set("Unknown")):(await n.fa.stop(),pS(n))})),n.fa}function Vs(n){return n.ga||(n.ga=function(t,i,a){const l=je(t);return l.oa(),new n4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:h4.bind(null,n),i_:g4.bind(null,n),na:m4.bind(null,n),ra:p4.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await Ph(n)):(await n.ga.stop(),n.Ia.length>0&&(ye(ja,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const u=Date.now()+i,d=new gv(e,t,u,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yv(n,e){if(Li("AsyncQueue",`${e}: ${n}`),wl(n))return new _e(he.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{static emptySet(e){return new el(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Re.comparator(t.key,i.key):(t,i)=>Re.comparator(t.key,i.key),this.keyedMap=$c(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof el)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new el;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(){this.pa=new xt(Re.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Pe(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class ul{constructor(e,t,i,a,l,u,d,h,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,a,l){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new ul(e,t,el.emptySet(t),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class _4{constructor(){this.queries=UE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=je(t),l=a.queries;a.queries=UE(),l.forEach((u,d)=>{for(const h of d.Sa)h.onError(i)})})(this,new _e(he.ABORTED,"Firestore shutting down"))}}function UE(){return new $a(n=>L1(n),Th)}async function _S(n,e){const t=je(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.Da()&&e.va()&&(i=2):(l=new v4,i=e.va()?0:1);try{switch(i){case 0:l.ba=await t.onListen(a,!0);break;case 1:l.ba=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const d=yv(u,`Initialization of query '${Go(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Sa.push(e),e.Fa(t.onlineState),l.ba&&e.Ma(l.ba)&&vv(t)}async function bS(n,e){const t=je(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.va()?0:1:!l.Da()&&e.va()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function b4(n,e){const t=je(n);let i=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const d of u.Sa)d.Ma(a)&&(i=!0);u.ba=a}}i&&vv(t)}function w4(n,e,t){const i=je(n),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function vv(n){n.Ca.forEach(e=>{e.next()})}var uy,zE;(zE=uy||(uy={})).xa="default",zE.Cache="cache";class wS{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new ul(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==uy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e){this.key=e}}class xS{constructor(e){this.key=e}}class E4{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ye(),this.mutatedKeys=Ye(),this.Za=U1(e),this.Xa=new el(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new LE,a=t?t.Xa:this.Xa;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,d=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,_)=>{const w=a.get(v),R=Sh(this.query,_)?_:null,I=!!w&&this.mutatedKeys.has(w.key),A=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let P=!1;w&&R?w.data.isEqual(R.data)?I!==A&&(i.track({type:3,doc:R}),P=!0):this.ru(w,R)||(i.track({type:2,doc:R}),P=!0,(h&&this.Za(R,h)>0||p&&this.Za(R,p)<0)&&(d=!0)):!w&&R?(i.track({type:0,doc:R}),P=!0):w&&!R&&(i.track({type:1,doc:w}),P=!0,(h||p)&&(d=!0)),P&&(R?(u=u.add(R),l=A?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{Xa:u,nu:i,Cs:d,mutatedKeys:l}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const u=e.nu.wa();u.sort((v,_)=>function(R,I){const A=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Vt:P})}};return A(R)-A(I)}(v.type,_.type)||this.Za(v.doc,_.doc)),this.iu(i),a=a!=null&&a;const d=t&&!a?this.su():[],h=this.Ya.size===0&&this.current&&!a?1:0,p=h!==this.Ja;return this.Ja=h,u.length!==0||p?{snapshot:new ul(this.query,e.Xa,l,u,e.mutatedKeys,h===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new LE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ye(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new xS(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new ES(i))}),t}au(e){this.Ha=e.$s,this.Ya=Ye();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return ul.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const _v="SyncEngine";class x4{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class T4{constructor(e){this.key=e,this.cu=!1}}class S4{constructor(e,t,i,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.lu={},this.hu=new $a(d=>L1(d),Th),this.Pu=new Map,this.Tu=new Set,this.Iu=new xt(Re.comparator),this.Eu=new Map,this.du=new lv,this.Au={},this.Ru=new Map,this.Vu=cl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function A4(n,e,t=!0){const i=IS(n);let a;const l=i.hu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.uu()):a=await TS(i,e,t,!0),a}async function R4(n,e){const t=IS(n);await TS(t,e,!0,!1)}async function TS(n,e,t,i){const a=await KM(n.localStore,$r(e)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await C4(n,e,l,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&hS(n.remoteStore,a),d}async function C4(n,e,t,i,a){n.fu=(_,w,R)=>async function(A,P,C,M){let N=P.view.tu(C);N.Cs&&(N=await OE(A.localStore,P.query,!1).then(({documents:O})=>P.view.tu(O,N)));const U=M&&M.targetChanges.get(P.targetId),H=M&&M.targetMismatches.get(P.targetId)!=null,Y=P.view.applyChanges(N,A.isPrimaryClient,U,H);return FE(A,P.targetId,Y.ou),Y.snapshot}(n,_,w,R);const l=await OE(n.localStore,e,!0),u=new E4(e,l.$s),d=u.tu(l.documents),h=Ru.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),p=u.applyChanges(d,n.isPrimaryClient,h);FE(n,t,p.ou);const v=new x4(e,t,u);return n.hu.set(e,v),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),p.snapshot}async function I4(n,e,t){const i=je(n),a=i.hu.get(e),l=i.Pu.get(a.targetId);if(l.length>1)return i.Pu.set(a.targetId,l.filter(u=>!Th(u,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await ly(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&fv(i.remoteStore,a.targetId),dy(i,a.targetId)}).catch(bl)):(dy(i,a.targetId),await ly(i.localStore,a.targetId,!0))}async function N4(n,e){const t=je(n),i=t.hu.get(e),a=t.Pu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),fv(t.remoteStore,i.targetId))}async function P4(n,e,t){const i=L4(n);try{const a=await function(u,d){const h=je(u),p=Kt.now(),v=d.reduce((R,I)=>R.add(I.key),Ye());let _,w;return h.persistence.runTransaction("Locally write mutations","readwrite",R=>{let I=Ui(),A=Ye();return h.Bs.getEntries(R,v).next(P=>{I=P,I.forEach((C,M)=>{M.isValidDocument()||(A=A.add(C))})}).next(()=>h.localDocuments.getOverlayedDocuments(R,I)).next(P=>{_=P;const C=[];for(const M of d){const N=KD(M,_.get(M.key).overlayedDocument);N!=null&&C.push(new Ga(M.key,N,N1(N.value.mapValue),ki.exists(!0)))}return h.mutationQueue.addMutationBatch(R,p,C,d)}).next(P=>{w=P;const C=P.applyToLocalDocumentSet(_,A);return h.documentOverlayCache.saveOverlays(R,P.batchId,C)})}).then(()=>({batchId:w.batchId,changes:B1(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(u,d,h){let p=u.Au[u.currentUser.toKey()];p||(p=new xt(He)),p=p.insert(d,h),u.Au[u.currentUser.toKey()]=p}(i,a.batchId,t),await Iu(i,a.changes),await Ph(i.remoteStore)}catch(a){const l=yv(a,"Failed to persist write");t.reject(l)}}async function SS(n,e){const t=je(n);try{const i=await qM(t.localStore,e);e.targetChanges.forEach((a,l)=>{const u=t.Eu.get(l);u&&(rt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.cu=!0:a.modifiedDocuments.size>0?rt(u.cu,14607):a.removedDocuments.size>0&&(rt(u.cu,42227),u.cu=!1))}),await Iu(t,i,e)}catch(i){await bl(i)}}function BE(n,e,t){const i=je(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.hu.forEach((l,u)=>{const d=u.view.Fa(e);d.snapshot&&a.push(d.snapshot)}),function(u,d){const h=je(u);h.onlineState=d;let p=!1;h.queries.forEach((v,_)=>{for(const w of _.Sa)w.Fa(d)&&(p=!0)}),p&&vv(h)}(i.eventManager,e),a.length&&i.lu.Y_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function O4(n,e,t){const i=je(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Eu.get(e),l=a&&a.key;if(l){let u=new xt(Re.comparator);u=u.insert(l,vn.newNoDocument(l,Me.min()));const d=Ye().add(l),h=new Ch(Me.min(),new Map,new xt(He),u,d);await SS(i,h),i.Iu=i.Iu.remove(l),i.Eu.delete(e),bv(i)}else await ly(i.localStore,e,!1).then(()=>dy(i,e,t)).catch(bl)}async function k4(n,e){const t=je(n),i=e.batch.batchId;try{const a=await HM(t.localStore,e);RS(t,i,null),AS(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Iu(t,a)}catch(a){await bl(a)}}async function D4(n,e,t){const i=je(n);try{const a=await function(u,d){const h=je(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return h.mutationQueue.lookupMutationBatch(p,d).next(_=>(rt(_!==null,37113),v=_.keys(),h.mutationQueue.removeMutationBatch(p,_))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,v,d)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>h.localDocuments.getDocuments(p,v))})}(i.localStore,e);RS(i,e,t),AS(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Iu(i,a)}catch(a){await bl(a)}}function AS(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function RS(n,e,t){const i=je(n);let a=i.Au[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Au[i.currentUser.toKey()]=a}}function dy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||CS(n,i)})}function CS(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(fv(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),bv(n))}function FE(n,e,t){for(const i of t)i instanceof ES?(n.du.addReference(i.key,e),M4(n,i)):i instanceof xS?(ye(_v,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||CS(n,i.key)):Pe(19791,{pu:i})}function M4(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(ye(_v,"New document in limbo: "+t),n.Tu.add(i),bv(n))}function bv(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new Re(gt.fromString(e)),i=n.Vu.next();n.Eu.set(i,new T4(t)),n.Iu=n.Iu.insert(t,i),hS(n.remoteStore,new Rs($r(rv(t.path)),i,"TargetPurposeLimboResolution",wh.le))}}async function Iu(n,e,t){const i=je(n),a=[],l=[],u=[];i.hu.isEmpty()||(i.hu.forEach((d,h)=>{u.push(i.fu(h,e,t).then(p=>{var v;if((p||t)&&i.isPrimaryClient){const _=p?!p.fromCache:(v=t==null?void 0:t.targetChanges.get(h.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(p){a.push(p);const _=uv.Rs(h.targetId,p);l.push(_)}}))}),await Promise.all(u),i.lu.Y_(a),await async function(h,p){const v=je(h);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>fe.forEach(p,w=>fe.forEach(w.ds,R=>v.persistence.referenceDelegate.addReference(_,w.targetId,R)).next(()=>fe.forEach(w.As,R=>v.persistence.referenceDelegate.removeReference(_,w.targetId,R)))))}catch(_){if(!wl(_))throw _;ye(dv,"Failed to update sequence numbers: "+_)}for(const _ of p){const w=_.targetId;if(!_.fromCache){const R=v.xs.get(w),I=R.snapshotVersion,A=R.withLastLimboFreeSnapshotVersion(I);v.xs=v.xs.insert(w,A)}}}(i.localStore,l))}async function j4(n,e){const t=je(n);if(!t.currentUser.isEqual(e)){ye(_v,"User change. New user:",e.toKey());const i=await cS(t.localStore,e);t.currentUser=e,function(l,u){l.Ru.forEach(d=>{d.forEach(h=>{h.reject(new _e(he.CANCELLED,u))})}),l.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Iu(t,i.ks)}}function V4(n,e){const t=je(n),i=t.Eu.get(e);if(i&&i.cu)return Ye().add(i.key);{let a=Ye();const l=t.Pu.get(e);if(!l)return a;for(const u of l){const d=t.hu.get(u);a=a.unionWith(d.view.eu)}return a}}function IS(n){const e=je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=SS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=V4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=O4.bind(null,e),e.lu.Y_=b4.bind(null,e.eventManager),e.lu.gu=w4.bind(null,e.eventManager),e}function L4(n){const e=je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=k4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=D4.bind(null,e),e}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ih(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return FM(this.persistence,new UM,e.initialUser,this.serializer)}Su(e){return new lS(cv.fi,this.serializer)}bu(e){return new QM}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class U4 extends nh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){rt(this.persistence.referenceDelegate instanceof eh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new TM(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new lS(i=>eh.fi(i,t),this.serializer)}}class fy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>BE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=j4.bind(null,this.syncEngine),await y4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _4}()}createDatastore(e){const t=Ih(e.databaseInfo.databaseId),i=function(l){return new e4(l)}(e.databaseInfo);return function(l,u,d,h){return new i4(l,u,d,h)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,u,d){return new a4(i,a,l,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>BE(this.syncEngine,t,0),function(){return ME.C()?new ME:new XM}())}createSyncEngine(e,t){return function(a,l,u,d,h,p,v){const _=new S4(a,l,u,d,h,p);return v&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=je(a);ye(ja,"RemoteStore shutting down."),l.da.add(5),await Cu(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}fy.provider={build:()=>new fy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="FirestoreClient";class z4{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=yn.UNAUTHENTICATED,this.clientId=b1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async u=>{ye(Ls,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(ye(Ls,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=yv(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function cg(n,e){n.asyncQueue.verifyOperationInProgress(),ye(Ls,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await cS(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function HE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await B4(n);ye(Ls,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>VE(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>VE(e.remoteStore,a)),n._onlineComponents=e}async function B4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye(Ls,"Using user provided OfflineComponentProvider");try{await cg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===he.FAILED_PRECONDITION||a.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;sl("Error using user provided cache. Falling back to memory cache: "+t),await cg(n,new nh)}}else ye(Ls,"Using default OfflineComponentProvider"),await cg(n,new U4(void 0));return n._offlineComponents}async function PS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye(Ls,"Using user provided OnlineComponentProvider"),await HE(n,n._uninitializedComponentsProvider._online)):(ye(Ls,"Using default OnlineComponentProvider"),await HE(n,new fy))),n._onlineComponents}function F4(n){return PS(n).then(e=>e.syncEngine)}async function OS(n){const e=await PS(n),t=e.eventManager;return t.onListen=A4.bind(null,e.syncEngine),t.onUnlisten=I4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=R4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=N4.bind(null,e.syncEngine),t}function H4(n,e,t={}){const i=new Oi;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,d,h,p){const v=new NS({next:w=>{v.xu(),u.enqueueAndForget(()=>bS(l,_));const R=w.docs.has(d);!R&&w.fromCache?p.reject(new _e(he.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&w.fromCache&&h&&h.source==="server"?p.reject(new _e(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new wS(rv(d.path),v,{includeMetadataChanges:!0,Qa:!0});return _S(l,_)}(await OS(n),n.asyncQueue,e,t,i)),i.promise}function q4(n,e,t={}){const i=new Oi;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,d,h,p){const v=new NS({next:w=>{v.xu(),u.enqueueAndForget(()=>bS(l,_)),w.fromCache&&h.source==="server"?p.reject(new _e(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new wS(d,v,{includeMetadataChanges:!0,Qa:!0});return _S(l,_)}(await OS(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(n,e,t){if(!t)throw new _e(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function $4(n,e,t,i){if(e===!0&&i===!0)throw new _e(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function $E(n){if(!Re.isDocumentKey(n))throw new _e(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function GE(n){if(Re.isDocumentKey(n))throw new _e(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Oh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Pe(12329,{type:typeof n})}function Va(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Oh(n);throw new _e(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="firestore.googleapis.com",KE=!0;class YE{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MS,this.ssl=KE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:KE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<EM)throw new _e(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kS((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new _e(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new _e(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new _e(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kh{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Zk;switch(i.type){case"firstParty":return new nD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _e(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=qE.get(t);i&&(ye("ComponentProvider","Removing Datastore"),qE.delete(t),i.terminate())}(this),Promise.resolve()}}function G4(n,e,t,i={}){var a;n=Va(n,kh);const l=Ba(e),u=n._getSettings(),d=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;l&&(Ly(`https://${h}`),Uy("Firestore",!0)),u.host!==MS&&u.host!==h&&sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:h,ssl:l,emulatorOptions:i});if(!Pa(p,d)&&(n._setSettings(p),i.mockUserToken)){let v,_;if(typeof i.mockUserToken=="string")v=i.mockUserToken,_=yn.MOCK_USER;else{v=ST(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new _e(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new yn(w)}n._authCredentials=new Jk(new v1(v,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new xl(this.firestore,e,this._query)}}class Nn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nn(this.firestore,e,this._key)}}class Ps extends xl{constructor(e,t,i){super(e,t,rv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new Re(e))}withConverter(e){return new Ps(this.firestore,e,this._path)}}function QE(n,e,...t){if(n=dn(n),DS("collection","path",e),n instanceof kh){const i=gt.fromString(e,...t);return GE(i),new Ps(n,null,i)}{if(!(n instanceof Nn||n instanceof Ps))throw new _e(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(gt.fromString(e,...t));return GE(i),new Ps(n.firestore,null,i)}}function tl(n,e,...t){if(n=dn(n),arguments.length===1&&(e=b1.newId()),DS("doc","path",e),n instanceof kh){const i=gt.fromString(e,...t);return $E(i),new Nn(n,null,new Re(i))}{if(!(n instanceof Nn||n instanceof Ps))throw new _e(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(gt.fromString(e,...t));return $E(i),new Nn(n.firestore,n instanceof Ps?n.converter:null,new Re(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="AsyncQueue";class WE{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new dS(this,"async_queue_retry"),this.rc=()=>{const i=lg();i&&ye(XE,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=lg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=lg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Oi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!wl(e))throw e;ye(XE,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,Li("INTERNAL UNHANDLED ERROR: ",ZE(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const a=gv.createAndSchedule(this,e,t,i,l=>this.uc(l));return this.Zu.push(a),a}oc(){this.Xu&&Pe(47125,{cc:ZE(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function ZE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Dh extends kh{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new WE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new WE(e),this._firestoreClient=void 0,await e}}}function K4(n,e){const t=typeof n=="object"?n:Fy(),i=typeof n=="string"?n:Yf,a=yh(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=ET("firestore");l&&G4(a,...l)}return a}function wv(n){if(n._terminated)throw new _e(he.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Y4(n),n._firestoreClient}function Y4(n){var e,t,i;const a=n._freezeSettings(),l=function(d,h,p,v){return new yD(d,h,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,kS(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new z4(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const h=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dl(fn.fromBase64String(e))}catch(t){throw new _e(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new dl(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=/^__.*__$/;class X4{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ga(e,this.data,this.fieldMask,t,this.fieldTransforms):new Au(e,this.data,t,this.fieldTransforms)}}function jS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{Ic:n})}}class Av{constructor(e,t,i,a,l,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Av(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Vc(e),a}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return rh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(jS(this.Ic)&&Q4.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class W4{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Ih(e)}bc(e,t,i,a=!1){return new Av({Ic:e,methodName:t,wc:i,path:un.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function VS(n){const e=n._freezeSettings(),t=Ih(n._databaseId);return new W4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Z4(n,e,t,i,a,l={}){const u=n.bc(l.merge||l.mergeFields?2:0,e,t,a);zS("Data must be an object, but it was:",u,i);const d=LS(i,u);let h,p;if(l.merge)h=new fr(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const _ of l.mergeFields){const w=ej(e,_,t);if(!u.contains(w))throw new _e(he.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);nj(v,w)||v.push(w)}h=new fr(v),p=u.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,p=u.fieldTransforms;return new X4(new nr(d),h,p)}class Rv extends xv{_toFieldTransform(e){return new HD(e.path,new cu)}isEqual(e){return e instanceof Rv}}function J4(n,e,t,i=!1){return Cv(t,n.bc(i?4:3,e))}function Cv(n,e){if(US(n=dn(n)))return zS("Unsupported field value:",e,n),LS(n,e);if(n instanceof xv)return function(i,a){if(!jS(a.Ic))throw a.gc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,a){const l=[];let u=0;for(const d of i){let h=Cv(d,a.fc(u));h==null&&(h={nullValue:"NULL_VALUE"}),l.push(h),u++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=dn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return zD(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Kt.fromDate(i);return{timestampValue:Jf(a.serializer,l)}}if(i instanceof Kt){const l=new Kt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Jf(a.serializer,l)}}if(i instanceof Tv)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof dl)return{bytesValue:eS(a.serializer,i._byteString)};if(i instanceof Nn){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ov(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Sv)return function(u,d){return{mapValue:{fields:{[C1]:{stringValue:I1},[Qf]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw d.gc("VectorValues must only contain numeric values.");return iv(d.serializer,p)})}}}}}}(i,a);throw a.gc(`Unsupported field value: ${Oh(i)}`)}(n,e)}function LS(n,e){const t={};return E1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qa(n,(i,a)=>{const l=Cv(a,e.Ac(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function US(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Kt||n instanceof Tv||n instanceof dl||n instanceof Nn||n instanceof xv||n instanceof Sv)}function zS(n,e,t){if(!US(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=Oh(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function ej(n,e,t){if((e=dn(e))instanceof Ev)return e._internalPath;if(typeof e=="string")return BS(n,e);throw rh("Field path arguments must be of type string or ",n,!1,void 0,t)}const tj=new RegExp("[~\\*/\\[\\]]");function BS(n,e,t){if(e.search(tj)>=0)throw rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ev(...e.split("."))._internalPath}catch{throw rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function rh(n,e,t,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(l||u)&&(h+=" (found",l&&(h+=` in field ${i}`),u&&(h+=` in document ${a}`),h+=")"),new _e(he.INVALID_ARGUMENT,d+n+h)}function nj(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Iv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class rj extends FS{data(){return super.data()}}function Iv(n,e){return typeof e=="string"?BS(n,e):e instanceof Ev?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new _e(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Nv{}class sj extends Nv{}function aj(n,e,...t){let i=[];e instanceof Nv&&i.push(e),i=i.concat(t),function(l){const u=l.filter(h=>h instanceof Pv).length,d=l.filter(h=>h instanceof Mh).length;if(u>1||u>0&&d>0)throw new _e(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class Mh extends sj{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Mh(e,t,i)}_apply(e){const t=this._parse(e);return HS(e._query,t),new xl(e.firestore,e.converter,ny(e._query,t))}_parse(e){const t=VS(e.firestore);return function(l,u,d,h,p,v,_){let w;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new _e(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){ex(_,v);const I=[];for(const A of _)I.push(JE(h,l,A));w={arrayValue:{values:I}}}else w=JE(h,l,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||ex(_,v),w=J4(d,u,_,v==="in"||v==="not-in");return Lt.create(p,v,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function oj(n,e,t){const i=e,a=Iv("where",n);return Mh._create(a,i,t)}class Pv extends Nv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Pv(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:gr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let u=a;const d=l.getFlattenedFilters();for(const h of d)HS(u,h),u=ny(u,h)}(e._query,t),new xl(e.firestore,e.converter,ny(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function JE(n,e,t){if(typeof(t=dn(t))=="string"){if(t==="")throw new _e(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!V1(e)&&t.indexOf("/")!==-1)throw new _e(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(gt.fromString(t));if(!Re.isDocumentKey(i))throw new _e(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return hE(n,new Re(i))}if(t instanceof Nn)return hE(n,t._key);throw new _e(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Oh(t)}.`)}function ex(n,e){if(!Array.isArray(n)||n.length===0)throw new _e(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HS(n,e){const t=function(a,l){for(const u of a)for(const d of u.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new _e(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class lj{convertValue(e,t="none"){switch(js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return qa(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[Qf].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(u=>Ot(u.doubleValue));return new Sv(l)}convertGeoPoint(e){return new Tv(Ot(e.latitude),Ot(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=xh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(au(e));default:return null}}convertTimestamp(e){const t=Ds(e);return new Kt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=gt.fromString(e);rt(aS(i),9688,{name:e});const a=new ou(i.get(1),i.get(3)),l=new Re(i.popFirst(5));return a.isEqual(t)||Li(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qS extends FS{constructor(e,t,i,a,l,u){super(e,t,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Iv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Df extends qS{data(e={}){return super.data(e)}}class uj{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Kc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Df(this._firestore,this._userDataWriter,i.key,i,new Kc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(d=>{const h=new Df(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Kc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const h=new Df(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Kc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:dj(d.type),doc:h,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function dj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(n){n=Va(n,Nn);const e=Va(n.firestore,Dh);return H4(wv(e),n._key).then(t=>pj(e,n,t))}class $S extends lj{constructor(e){super(),this.firestore=e}convertBytes(e){return new dl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,t)}}function hj(n){n=Va(n,xl);const e=Va(n.firestore,Dh),t=wv(e),i=new $S(e);return ij(n._query),q4(t,n._query).then(a=>new uj(e,i,n,a))}function tu(n,e,t){n=Va(n,Nn);const i=Va(n.firestore,Dh),a=cj(n.converter,e,t);return mj(i,[Z4(VS(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,ki.none())])}function mj(n,e){return function(i,a){const l=new Oi;return i.asyncQueue.enqueueAndForget(async()=>P4(await F4(i),a,l)),l.promise}(wv(n),e)}function pj(n,e,t){const i=t.docs.get(e._key),a=new $S(n);return new qS(n,a,e._key,i,new Kc(t.hasPendingWrites,t.fromCache),e.converter)}function tx(){return new Rv("serverTimestamp")}(function(e,t=!0){(function(a){_l=a})(Fa),Oa(new Os("firestore",(i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),d=new Dh(new eD(i.getProvider("auth-internal")),new rD(u,i.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new _e(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(p.options.projectId,v)}(u,a),u);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Fr(tE,nE,e),Fr(tE,nE,"esm2017")})();var gj="firebase",yj="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fr(gj,yj,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="firebasestorage.googleapis.com",vj="storageBucket",_j=2*60*1e3,bj=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Zr{constructor(e,t,i=0){super(ug(e),`Firebase Storage: ${t} (${ug(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Jr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ug(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Qr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Qr||(Qr={}));function ug(n){return"storage/"+n}function wj(){const n="An unknown error occurred, please check the error payload for server response.";return new Jr(Qr.UNKNOWN,n)}function Ej(){return new Jr(Qr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xj(){return new Jr(Qr.CANCELED,"User canceled the upload/download.")}function Tj(n){return new Jr(Qr.INVALID_URL,"Invalid URL '"+n+"'.")}function Sj(n){return new Jr(Qr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function nx(n){return new Jr(Qr.INVALID_ARGUMENT,n)}function KS(){return new Jr(Qr.APP_DELETED,"The Firebase app was deleted.")}function Aj(n){return new Jr(Qr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=hr.makeFromUrl(e,t)}catch{return new hr(e,"")}if(i.path==="")return i;throw Sj(e)}static makeFromUrl(e,t){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(U){U.path.charAt(U.path.length-1)==="/"&&(U.path_=U.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+a+u,"i"),h={bucket:1,path:3};function p(U){U.path_=decodeURIComponent(U.path)}const v="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",R=new RegExp(`^https?://${_}/${v}/b/${a}/o${w}`,"i"),I={bucket:1,path:3},A=t===GS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,P="([^?#]*)",C=new RegExp(`^https?://${A}/${a}/${P}`,"i"),N=[{regex:d,indices:h,postModify:l},{regex:R,indices:I,postModify:p},{regex:C,indices:{bucket:1,path:2},postModify:p}];for(let U=0;U<N.length;U++){const H=N[U],Y=H.regex.exec(e);if(Y){const O=Y[H.indices.bucket];let x=Y[H.indices.path];x||(x=""),i=new hr(O,x),H.postModify(i);break}}if(i==null)throw Tj(e);return i}}class Rj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(n,e,t){let i=1,a=null,l=null,u=!1,d=0;function h(){return d===2}let p=!1;function v(...P){p||(p=!0,e.apply(null,P))}function _(P){a=setTimeout(()=>{a=null,n(R,h())},P)}function w(){l&&clearTimeout(l)}function R(P,...C){if(p){w();return}if(P){w(),v.call(null,P,...C);return}if(h()||u){w(),v.call(null,P,...C);return}i<64&&(i*=2);let N;d===1?(d=2,N=0):N=(i+Math.random())*1e3,_(N)}let I=!1;function A(P){I||(I=!0,w(),!p&&(a!==null?(P||(d=2),clearTimeout(a),_(0)):P||(d=1)))}return _(0),l=setTimeout(()=>{u=!0,A(!0)},t),A}function Ij(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(n){return n!==void 0}function rx(n,e,t,i){if(i<e)throw nx(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw nx(`Invalid value for '${n}'. Expected ${t} or less.`)}function Pj(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const a=e(i)+"="+e(n[i]);t=t+a+"&"}return t=t.slice(0,-1),t}var ih;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(ih||(ih={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e,t,i,a,l,u,d,h,p,v,_,w=!0,R=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=_,this.retry=w,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,A)=>{this.resolve_=I,this.reject_=A,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new df(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=d=>{const h=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const d=l.getErrorCode()===ih.NO_ERROR,h=l.getStatus();if(!d||Oj(h,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===ih.ABORT;i(!1,new df(!1,null,v));return}const p=this.successCodes_.indexOf(h)!==-1;i(!0,new df(p,l))})},t=(i,a)=>{const l=this.resolve_,u=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const h=this.callback_(d,d.getResponse());Nj(h)?l(h):l()}catch(h){u(h)}else if(d!==null){const h=wj();h.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,h)):u(h)}else if(a.canceled){const h=this.appDelete_?KS():xj();u(h)}else{const h=Ej();u(h)}};this.canceled_?t(!1,new df(!1,null,!0)):this.backoffId_=Cj(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Ij(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class df{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function Dj(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function Mj(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function jj(n,e){e&&(n["X-Firebase-GMPID"]=e)}function Vj(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Lj(n,e,t,i,a,l,u=!0,d=!1){const h=Pj(n.urlParams),p=n.url+h,v=Object.assign({},n.headers);return jj(v,e),Dj(v,t),Mj(v,l),Vj(v,i),new kj(p,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,u,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function zj(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,t){this._service=e,t instanceof hr?this._location=t:this._location=hr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new sh(e,t)}get root(){const e=new hr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zj(this._location.path)}get storage(){return this._service}get parent(){const e=Uj(this._location.path);if(e===null)return null;const t=new hr(this._location.bucket,e);return new sh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Aj(e)}}function ix(n,e){const t=e==null?void 0:e[vj];return t==null?null:hr.makeFromBucketSpec(t,n)}function Bj(n,e,t,i={}){n.host=`${e}:${t}`;const a=Ba(e);a&&(Ly(`https://${n.host}/b`),Uy("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(n._overrideAuthToken=typeof l=="string"?l:ST(l,n.app.options.projectId))}class Fj{constructor(e,t,i,a,l,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=GS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=_j,this._maxUploadRetryTime=bj,this._requests=new Set,a!=null?this._bucket=hr.makeFromBucketSpec(a,this._host):this._bucket=ix(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=hr.makeFromBucketSpec(this._url,e):this._bucket=ix(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){rx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){rx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new sh(this,e)}_makeRequest(e,t,i,a,l=!0){if(this._deleted)return new Rj(KS());{const u=Lj(e,this._appId,i,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,a).getPromise()}}const sx="@firebase/storage",ax="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="storage";function Hj(n=Fy(),e){n=dn(n);const i=yh(n,YS).getImmediate({identifier:e}),a=ET("storage");return a&&qj(i,...a),i}function qj(n,e,t,i={}){Bj(n,e,t,i)}function $j(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new Fj(t,i,a,e,Fa)}function Gj(){Oa(new Os(YS,$j,"PUBLIC").setMultipleInstances(!0)),Fr(sx,ax,""),Fr(sx,ax,"esm2017")}Gj();const Kj={apiKey:"AIzaSyA2WL1y3hRd1YLHjXPUG7bQzJ6s8pH4Ob8",authDomain:"isaacplay-a0452.firebaseapp.com",projectId:"isaacplay-a0452",storageBucket:"isaacplay-a0452.firebasestorage.app",messagingSenderId:"631970859391",appId:"1:631970859391:web:c9b1526fa6495a2d3c324a"},Ov=CT(Kj),ff=Xk(Ov),Ia=K4(Ov);Hj(Ov);const QS=T.createContext(),rr=()=>{const n=T.useContext(QS);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},Yj=({children:n})=>{const[e,t]=T.useState(null),[i,a]=T.useState(null),[l,u]=T.useState([]),[d,h]=T.useState(!0),[p,v]=T.useState(!1),_="admin@isaacplay.com";T.useEffect(()=>LO(ff,async k=>{k?(t(k),await R(k.uid),w(k.email)):(t(null),a(null),u([]),v(!1)),h(!1)}),[]);const w=x=>{v(x===_)},R=async x=>{try{const k=aj(QE(Ia,"profiles"),oj("userId","==",x)),z=(await hj(k)).docs.map(F=>({id:F.id,...F.data()}));u(z),z.length>0&&!i&&a(z[0])}catch(k){console.error("Error loading user profiles:",k)}},I=async(x,k,L)=>{try{const{user:z}=await OO(ff,x,k);return await MO(z,{displayName:L}),await tu(tl(Ia,"users",z.uid),{email:z.email,displayName:L,createdAt:new Date,isAdmin:x===_}),await C(z.uid,L,!0),z}catch(z){throw z}},A=async(x,k)=>{try{const{user:L}=await kO(ff,x,k);return L}catch(L){throw L}},P=async()=>{try{await UO(ff),a(null),u([])}catch(x){throw x}},C=async(x,k,L=!1)=>{try{const z={userId:x,name:k,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${k}`,isDefault:L,createdAt:new Date,watchHistory:[],favorites:[],continueWatching:[]},F=tl(QE(Ia,"profiles"));await tu(F,z);const V={id:F.id,...z};return u(K=>[...K,V]),V}catch(z){throw z}},M=x=>{a(x),localStorage.setItem("selectedProfile",JSON.stringify(x))},N=async(x,k)=>{try{await tu(tl(Ia,"profiles",x),k,{merge:!0}),u(L=>L.map(z=>z.id===x?{...z,...k}:z)),(i==null?void 0:i.id)===x&&a(L=>({...L,...k}))}catch(L){throw L}},O={currentUser:e,currentProfile:i,userProfiles:l,isAdmin:p,loading:d,signup:I,login:A,logout:P,createProfile:C,selectProfile:M,updateUserProfile:N,addToWatchHistory:async(x,k)=>{if(i)try{const L=[{...k,watchedAt:new Date,contentId:x},...i.watchHistory.filter(z=>z.contentId!==x)].slice(0,50);await N(i.id,{watchHistory:L})}catch(L){console.error("Error adding to watch history:",L)}},addToFavorites:async(x,k)=>{if(i)try{const L=i.favorites.some(F=>F.contentId===x);let z;return L?z=i.favorites.filter(F=>F.contentId!==x):z=[...i.favorites,{...k,contentId:x,addedAt:new Date}],await N(i.id,{favorites:z}),!L}catch(L){console.error("Error updating favorites:",L)}},updateContinueWatching:async(x,k,L,z)=>{if(i)try{const F=L/z*100;if(F>90){const K=i.continueWatching.filter(oe=>oe.contentId!==x);await N(i.id,{continueWatching:K});return}const V=[{...k,contentId:x,currentTime:L,duration:z,progress:F,updatedAt:new Date},...i.continueWatching.filter(K=>K.contentId!==x)].slice(0,20);await N(i.id,{continueWatching:V})}catch(F){console.error("Error updating continue watching:",F)}},loadUserProfiles:R};return y.jsx(QS.Provider,{value:O,children:n})},tr=({children:n,requireAdmin:e=!1,requireProfile:t=!1})=>{const{currentUser:i,currentProfile:a,isAdmin:l,loading:u}=rr(),d=wr();return u?y.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:y.jsx("div",{className:"text-white text-xl",children:"Carregando..."})}):i?e&&!l?y.jsx(Xo,{to:"/browse",replace:!0}):t&&!a?y.jsx(Xo,{to:"/profiles",replace:!0}):n:y.jsx(Xo,{to:"/login",state:{from:d},replace:!0})},ox=({children:n})=>{const{currentUser:e,loading:t}=rr();return t?y.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:y.jsx("div",{className:"text-white text-xl",children:"Carregando..."})}):e?y.jsx(Xo,{to:"/profiles",replace:!0}):n},ei=(n={})=>{const{onEnter:e,onEscape:t,onArrowUp:i,onArrowDown:a,onArrowLeft:l,onArrowRight:u,onBackspace:d,enabled:h=!0,preventDefault:p=!0}=n,v=T.useCallback(_=>{if(!h)return;const{key:w,code:R}=_;switch(p&&["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter","Escape"].includes(w)&&_.preventDefault(),w){case"Enter":e==null||e(_);break;case"Escape":t==null||t(_);break;case"ArrowUp":i==null||i(_);break;case"ArrowDown":a==null||a(_);break;case"ArrowLeft":l==null||l(_);break;case"ArrowRight":u==null||u(_);break;case"Backspace":d==null||d(_);break}},[h,p,e,t,i,a,l,u,d]);return T.useEffect(()=>{if(h)return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[v,h]),{handleKeyDown:v}},XS=(n={})=>{const{rows:e=1,columns:t=1,wrap:i=!1}=n,a=T.useRef({row:0,col:0}),l=T.useCallback(()=>{const{row:w,col:R}=a.current,I=i?w===0?e-1:w-1:Math.max(0,w-1);return a.current={row:I,col:R},a.current},[e,i]),u=T.useCallback(()=>{const{row:w,col:R}=a.current,I=i?w===e-1?0:w+1:Math.min(e-1,w+1);return a.current={row:I,col:R},a.current},[e,i]),d=T.useCallback(()=>{const{row:w,col:R}=a.current,I=i?R===0?t-1:R-1:Math.max(0,R-1);return a.current={row:w,col:I},a.current},[t,i]),h=T.useCallback(()=>{const{row:w,col:R}=a.current,I=i?R===t-1?0:R+1:Math.min(t-1,R+1);return a.current={row:w,col:I},a.current},[t,i]),p=T.useCallback((w,R)=>(a.current={row:Math.max(0,Math.min(e-1,w)),col:Math.max(0,Math.min(t-1,R))},a.current),[e,t]),v=T.useCallback(()=>a.current,[]),_=T.useCallback(()=>{const{row:w,col:R}=a.current;return w*t+R},[t]);return{moveUp:l,moveDown:u,moveLeft:d,moveRight:h,setPosition:p,getPosition:v,getIndex:_}};function lx(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function WS(...n){return e=>{let t=!1;const i=n.map(a=>{const l=lx(a,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():lx(n[a],null)}}}}function Qt(...n){return T.useCallback(WS(...n),n)}function fu(n){const e=Xj(n),t=T.forwardRef((i,a)=>{const{children:l,...u}=i,d=T.Children.toArray(l),h=d.find(Zj);if(h){const p=h.props.children,v=d.map(_=>_===h?T.Children.count(p)>1?T.Children.only(null):T.isValidElement(p)?p.props.children:null:_);return y.jsx(e,{...u,ref:a,children:T.isValidElement(p)?T.cloneElement(p,void 0,v):null})}return y.jsx(e,{...u,ref:a,children:l})});return t.displayName=`${n}.Slot`,t}var Qj=fu("Slot");function Xj(n){const e=T.forwardRef((t,i)=>{const{children:a,...l}=t;if(T.isValidElement(a)){const u=eV(a),d=Jj(l,a.props);return a.type!==T.Fragment&&(d.ref=i?WS(i,u):u),T.cloneElement(a,d)}return T.Children.count(a)>1?T.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var Wj=Symbol("radix.slottable");function Zj(n){return T.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===Wj}function Jj(n,e){const t={...e};for(const i in e){const a=n[i],l=e[i];/^on[A-Z]/.test(i)?a&&l?t[i]=(...d)=>{const h=l(...d);return a(...d),h}:a&&(t[i]=a):i==="style"?t[i]={...a,...l}:i==="className"&&(t[i]=[a,l].filter(Boolean).join(" "))}return{...n,...t}}function eV(n){var i,a;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function ZS(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=ZS(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function JS(){for(var n,e,t=0,i="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=ZS(n))&&(i&&(i+=" "),i+=e);return i}const cx=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,ux=JS,eA=(n,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return ux(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:a,defaultVariants:l}=e,u=Object.keys(a).map(p=>{const v=t==null?void 0:t[p],_=l==null?void 0:l[p];if(v===null)return null;const w=cx(v)||cx(_);return a[p][w]}),d=t&&Object.entries(t).reduce((p,v)=>{let[_,w]=v;return w===void 0||(p[_]=w),p},{}),h=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((p,v)=>{let{class:_,className:w,...R}=v;return Object.entries(R).every(I=>{let[A,P]=I;return Array.isArray(P)?P.includes({...l,...d}[A]):{...l,...d}[A]===P})?[...p,_,w]:p},[]);return ux(n,u,h,t==null?void 0:t.class,t==null?void 0:t.className)},kv="-",tV=n=>{const e=rV(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:u=>{const d=u.split(kv);return d[0]===""&&d.length!==1&&d.shift(),tA(d,e)||nV(u)},getConflictingClassGroupIds:(u,d)=>{const h=t[u]||[];return d&&i[u]?[...h,...i[u]]:h}}},tA=(n,e)=>{var u;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),a=i?tA(n.slice(1),i):void 0;if(a)return a;if(e.validators.length===0)return;const l=n.join(kv);return(u=e.validators.find(({validator:d})=>d(l)))==null?void 0:u.classGroupId},dx=/^\[(.+)\]$/,nV=n=>{if(dx.test(n)){const e=dx.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},rV=n=>{const{theme:e,classGroups:t}=n,i={nextPart:new Map,validators:[]};for(const a in t)hy(t[a],i,a,e);return i},hy=(n,e,t,i)=>{n.forEach(a=>{if(typeof a=="string"){const l=a===""?e:fx(e,a);l.classGroupId=t;return}if(typeof a=="function"){if(iV(a)){hy(a(i),e,t,i);return}e.validators.push({validator:a,classGroupId:t});return}Object.entries(a).forEach(([l,u])=>{hy(u,fx(e,l),t,i)})})},fx=(n,e)=>{let t=n;return e.split(kv).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},iV=n=>n.isThemeGetter,sV=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const a=(l,u)=>{t.set(l,u),e++,e>n&&(e=0,i=t,t=new Map)};return{get(l){let u=t.get(l);if(u!==void 0)return u;if((u=i.get(l))!==void 0)return a(l,u),u},set(l,u){t.has(l)?t.set(l,u):a(l,u)}}},my="!",py=":",aV=py.length,oV=n=>{const{prefix:e,experimentalParseClassName:t}=n;let i=a=>{const l=[];let u=0,d=0,h=0,p;for(let I=0;I<a.length;I++){let A=a[I];if(u===0&&d===0){if(A===py){l.push(a.slice(h,I)),h=I+aV;continue}if(A==="/"){p=I;continue}}A==="["?u++:A==="]"?u--:A==="("?d++:A===")"&&d--}const v=l.length===0?a:a.substring(h),_=lV(v),w=_!==v,R=p&&p>h?p-h:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:_,maybePostfixModifierPosition:R}};if(e){const a=e+py,l=i;i=u=>u.startsWith(a)?l(u.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(t){const a=i;i=l=>t({className:l,parseClassName:a})}return i},lV=n=>n.endsWith(my)?n.substring(0,n.length-1):n.startsWith(my)?n.substring(1):n,cV=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const a=[];let l=[];return i.forEach(u=>{u[0]==="["||e[u]?(a.push(...l.sort(),u),l=[]):l.push(u)}),a.push(...l.sort()),a}},uV=n=>({cache:sV(n.cacheSize),parseClassName:oV(n),sortModifiers:cV(n),...tV(n)}),dV=/\s+/,fV=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,u=[],d=n.trim().split(dV);let h="";for(let p=d.length-1;p>=0;p-=1){const v=d[p],{isExternal:_,modifiers:w,hasImportantModifier:R,baseClassName:I,maybePostfixModifierPosition:A}=t(v);if(_){h=v+(h.length>0?" "+h:h);continue}let P=!!A,C=i(P?I.substring(0,A):I);if(!C){if(!P){h=v+(h.length>0?" "+h:h);continue}if(C=i(I),!C){h=v+(h.length>0?" "+h:h);continue}P=!1}const M=l(w).join(":"),N=R?M+my:M,U=N+C;if(u.includes(U))continue;u.push(U);const H=a(C,P);for(let Y=0;Y<H.length;++Y){const O=H[Y];u.push(N+O)}h=v+(h.length>0?" "+h:h)}return h};function hV(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=nA(e))&&(i&&(i+=" "),i+=t);return i}const nA=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=nA(n[i]))&&(t&&(t+=" "),t+=e);return t};function mV(n,...e){let t,i,a,l=u;function u(h){const p=e.reduce((v,_)=>_(v),n());return t=uV(p),i=t.cache.get,a=t.cache.set,l=d,d(h)}function d(h){const p=i(h);if(p)return p;const v=fV(h,t);return a(h,v),v}return function(){return l(hV.apply(null,arguments))}}const $t=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},rA=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,iA=/^\((?:(\w[\w-]*):)?(.+)\)$/i,pV=/^\d+\/\d+$/,gV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,_V=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bo=n=>pV.test(n),Be=n=>!!n&&!Number.isNaN(Number(n)),bs=n=>!!n&&Number.isInteger(Number(n)),dg=n=>n.endsWith("%")&&Be(n.slice(0,-1)),Ri=n=>gV.test(n),wV=()=>!0,EV=n=>yV.test(n)&&!vV.test(n),sA=()=>!1,xV=n=>_V.test(n),TV=n=>bV.test(n),SV=n=>!we(n)&&!Ee(n),AV=n=>Tl(n,lA,sA),we=n=>rA.test(n),Sa=n=>Tl(n,cA,EV),fg=n=>Tl(n,PV,Be),hx=n=>Tl(n,aA,sA),RV=n=>Tl(n,oA,TV),hf=n=>Tl(n,uA,xV),Ee=n=>iA.test(n),Uc=n=>Sl(n,cA),CV=n=>Sl(n,OV),mx=n=>Sl(n,aA),IV=n=>Sl(n,lA),NV=n=>Sl(n,oA),mf=n=>Sl(n,uA,!0),Tl=(n,e,t)=>{const i=rA.exec(n);return i?i[1]?e(i[1]):t(i[2]):!1},Sl=(n,e,t=!1)=>{const i=iA.exec(n);return i?i[1]?e(i[1]):t:!1},aA=n=>n==="position"||n==="percentage",oA=n=>n==="image"||n==="url",lA=n=>n==="length"||n==="size"||n==="bg-size",cA=n=>n==="length",PV=n=>n==="number",OV=n=>n==="family-name",uA=n=>n==="shadow",kV=()=>{const n=$t("color"),e=$t("font"),t=$t("text"),i=$t("font-weight"),a=$t("tracking"),l=$t("leading"),u=$t("breakpoint"),d=$t("container"),h=$t("spacing"),p=$t("radius"),v=$t("shadow"),_=$t("inset-shadow"),w=$t("text-shadow"),R=$t("drop-shadow"),I=$t("blur"),A=$t("perspective"),P=$t("aspect"),C=$t("ease"),M=$t("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],H=()=>[...U(),Ee,we],Y=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],x=()=>[Ee,we,h],k=()=>[Bo,"full","auto",...x()],L=()=>[bs,"none","subgrid",Ee,we],z=()=>["auto",{span:["full",bs,Ee,we]},bs,Ee,we],F=()=>[bs,"auto",Ee,we],V=()=>["auto","min","max","fr",Ee,we],K=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],oe=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...x()],re=()=>[Bo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...x()],X=()=>[n,Ee,we],se=()=>[...U(),mx,hx,{position:[Ee,we]}],B=()=>["no-repeat",{repeat:["","x","y","space","round"]}],te=()=>["auto","cover","contain",IV,AV,{size:[Ee,we]}],ue=()=>[dg,Uc,Sa],ae=()=>["","none","full",p,Ee,we],pe=()=>["",Be,Uc,Sa],Se=()=>["solid","dashed","dotted","double"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],me=()=>[Be,dg,mx,hx],ve=()=>["","none",I,Ee,we],Le=()=>["none",Be,Ee,we],ke=()=>["none",Be,Ee,we],De=()=>[Be,Ee,we],Ve=()=>[Bo,"full",...x()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ri],breakpoint:[Ri],color:[wV],container:[Ri],"drop-shadow":[Ri],ease:["in","out","in-out"],font:[SV],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ri],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ri],shadow:[Ri],spacing:["px",Be],text:[Ri],"text-shadow":[Ri],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Bo,we,Ee,P]}],container:["container"],columns:[{columns:[Be,we,Ee,d]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:H()}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[bs,"auto",Ee,we]}],basis:[{basis:[Bo,"full","auto",d,...x()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Be,Bo,"auto","initial","none",we]}],grow:[{grow:["",Be,Ee,we]}],shrink:[{shrink:["",Be,Ee,we]}],order:[{order:[bs,"first","last","none",Ee,we]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:x()}],"gap-x":[{"gap-x":x()}],"gap-y":[{"gap-y":x()}],"justify-content":[{justify:[...K(),"normal"]}],"justify-items":[{"justify-items":[...oe(),"normal"]}],"justify-self":[{"justify-self":["auto",...oe()]}],"align-content":[{content:["normal",...K()]}],"align-items":[{items:[...oe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...oe(),{baseline:["","last"]}]}],"place-content":[{"place-content":K()}],"place-items":[{"place-items":[...oe(),"baseline"]}],"place-self":[{"place-self":["auto",...oe()]}],p:[{p:x()}],px:[{px:x()}],py:[{py:x()}],ps:[{ps:x()}],pe:[{pe:x()}],pt:[{pt:x()}],pr:[{pr:x()}],pb:[{pb:x()}],pl:[{pl:x()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":x()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":x()}],"space-y-reverse":["space-y-reverse"],size:[{size:re()}],w:[{w:[d,"screen",...re()]}],"min-w":[{"min-w":[d,"screen","none",...re()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...re()]}],h:[{h:["screen","lh",...re()]}],"min-h":[{"min-h":["screen","lh","none",...re()]}],"max-h":[{"max-h":["screen","lh",...re()]}],"font-size":[{text:["base",t,Uc,Sa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Ee,fg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",dg,we]}],"font-family":[{font:[CV,we,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ee,we]}],"line-clamp":[{"line-clamp":[Be,"none",Ee,fg]}],leading:[{leading:[l,...x()]}],"list-image":[{"list-image":["none",Ee,we]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ee,we]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:X()}],"text-color":[{text:X()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Se(),"wavy"]}],"text-decoration-thickness":[{decoration:[Be,"from-font","auto",Ee,Sa]}],"text-decoration-color":[{decoration:X()}],"underline-offset":[{"underline-offset":[Be,"auto",Ee,we]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:x()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee,we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee,we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:se()}],"bg-repeat":[{bg:B()}],"bg-size":[{bg:te()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},bs,Ee,we],radial:["",Ee,we],conic:[bs,Ee,we]},NV,RV]}],"bg-color":[{bg:X()}],"gradient-from-pos":[{from:ue()}],"gradient-via-pos":[{via:ue()}],"gradient-to-pos":[{to:ue()}],"gradient-from":[{from:X()}],"gradient-via":[{via:X()}],"gradient-to":[{to:X()}],rounded:[{rounded:ae()}],"rounded-s":[{"rounded-s":ae()}],"rounded-e":[{"rounded-e":ae()}],"rounded-t":[{"rounded-t":ae()}],"rounded-r":[{"rounded-r":ae()}],"rounded-b":[{"rounded-b":ae()}],"rounded-l":[{"rounded-l":ae()}],"rounded-ss":[{"rounded-ss":ae()}],"rounded-se":[{"rounded-se":ae()}],"rounded-ee":[{"rounded-ee":ae()}],"rounded-es":[{"rounded-es":ae()}],"rounded-tl":[{"rounded-tl":ae()}],"rounded-tr":[{"rounded-tr":ae()}],"rounded-br":[{"rounded-br":ae()}],"rounded-bl":[{"rounded-bl":ae()}],"border-w":[{border:pe()}],"border-w-x":[{"border-x":pe()}],"border-w-y":[{"border-y":pe()}],"border-w-s":[{"border-s":pe()}],"border-w-e":[{"border-e":pe()}],"border-w-t":[{"border-t":pe()}],"border-w-r":[{"border-r":pe()}],"border-w-b":[{"border-b":pe()}],"border-w-l":[{"border-l":pe()}],"divide-x":[{"divide-x":pe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":pe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Se(),"hidden","none"]}],"divide-style":[{divide:[...Se(),"hidden","none"]}],"border-color":[{border:X()}],"border-color-x":[{"border-x":X()}],"border-color-y":[{"border-y":X()}],"border-color-s":[{"border-s":X()}],"border-color-e":[{"border-e":X()}],"border-color-t":[{"border-t":X()}],"border-color-r":[{"border-r":X()}],"border-color-b":[{"border-b":X()}],"border-color-l":[{"border-l":X()}],"divide-color":[{divide:X()}],"outline-style":[{outline:[...Se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Be,Ee,we]}],"outline-w":[{outline:["",Be,Uc,Sa]}],"outline-color":[{outline:X()}],shadow:[{shadow:["","none",v,mf,hf]}],"shadow-color":[{shadow:X()}],"inset-shadow":[{"inset-shadow":["none",_,mf,hf]}],"inset-shadow-color":[{"inset-shadow":X()}],"ring-w":[{ring:pe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:X()}],"ring-offset-w":[{"ring-offset":[Be,Sa]}],"ring-offset-color":[{"ring-offset":X()}],"inset-ring-w":[{"inset-ring":pe()}],"inset-ring-color":[{"inset-ring":X()}],"text-shadow":[{"text-shadow":["none",w,mf,hf]}],"text-shadow-color":[{"text-shadow":X()}],opacity:[{opacity:[Be,Ee,we]}],"mix-blend":[{"mix-blend":[...xe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Be]}],"mask-image-linear-from-pos":[{"mask-linear-from":me()}],"mask-image-linear-to-pos":[{"mask-linear-to":me()}],"mask-image-linear-from-color":[{"mask-linear-from":X()}],"mask-image-linear-to-color":[{"mask-linear-to":X()}],"mask-image-t-from-pos":[{"mask-t-from":me()}],"mask-image-t-to-pos":[{"mask-t-to":me()}],"mask-image-t-from-color":[{"mask-t-from":X()}],"mask-image-t-to-color":[{"mask-t-to":X()}],"mask-image-r-from-pos":[{"mask-r-from":me()}],"mask-image-r-to-pos":[{"mask-r-to":me()}],"mask-image-r-from-color":[{"mask-r-from":X()}],"mask-image-r-to-color":[{"mask-r-to":X()}],"mask-image-b-from-pos":[{"mask-b-from":me()}],"mask-image-b-to-pos":[{"mask-b-to":me()}],"mask-image-b-from-color":[{"mask-b-from":X()}],"mask-image-b-to-color":[{"mask-b-to":X()}],"mask-image-l-from-pos":[{"mask-l-from":me()}],"mask-image-l-to-pos":[{"mask-l-to":me()}],"mask-image-l-from-color":[{"mask-l-from":X()}],"mask-image-l-to-color":[{"mask-l-to":X()}],"mask-image-x-from-pos":[{"mask-x-from":me()}],"mask-image-x-to-pos":[{"mask-x-to":me()}],"mask-image-x-from-color":[{"mask-x-from":X()}],"mask-image-x-to-color":[{"mask-x-to":X()}],"mask-image-y-from-pos":[{"mask-y-from":me()}],"mask-image-y-to-pos":[{"mask-y-to":me()}],"mask-image-y-from-color":[{"mask-y-from":X()}],"mask-image-y-to-color":[{"mask-y-to":X()}],"mask-image-radial":[{"mask-radial":[Ee,we]}],"mask-image-radial-from-pos":[{"mask-radial-from":me()}],"mask-image-radial-to-pos":[{"mask-radial-to":me()}],"mask-image-radial-from-color":[{"mask-radial-from":X()}],"mask-image-radial-to-color":[{"mask-radial-to":X()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":U()}],"mask-image-conic-pos":[{"mask-conic":[Be]}],"mask-image-conic-from-pos":[{"mask-conic-from":me()}],"mask-image-conic-to-pos":[{"mask-conic-to":me()}],"mask-image-conic-from-color":[{"mask-conic-from":X()}],"mask-image-conic-to-color":[{"mask-conic-to":X()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:se()}],"mask-repeat":[{mask:B()}],"mask-size":[{mask:te()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ee,we]}],filter:[{filter:["","none",Ee,we]}],blur:[{blur:ve()}],brightness:[{brightness:[Be,Ee,we]}],contrast:[{contrast:[Be,Ee,we]}],"drop-shadow":[{"drop-shadow":["","none",R,mf,hf]}],"drop-shadow-color":[{"drop-shadow":X()}],grayscale:[{grayscale:["",Be,Ee,we]}],"hue-rotate":[{"hue-rotate":[Be,Ee,we]}],invert:[{invert:["",Be,Ee,we]}],saturate:[{saturate:[Be,Ee,we]}],sepia:[{sepia:["",Be,Ee,we]}],"backdrop-filter":[{"backdrop-filter":["","none",Ee,we]}],"backdrop-blur":[{"backdrop-blur":ve()}],"backdrop-brightness":[{"backdrop-brightness":[Be,Ee,we]}],"backdrop-contrast":[{"backdrop-contrast":[Be,Ee,we]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Be,Ee,we]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Be,Ee,we]}],"backdrop-invert":[{"backdrop-invert":["",Be,Ee,we]}],"backdrop-opacity":[{"backdrop-opacity":[Be,Ee,we]}],"backdrop-saturate":[{"backdrop-saturate":[Be,Ee,we]}],"backdrop-sepia":[{"backdrop-sepia":["",Be,Ee,we]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":x()}],"border-spacing-x":[{"border-spacing-x":x()}],"border-spacing-y":[{"border-spacing-y":x()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ee,we]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Be,"initial",Ee,we]}],ease:[{ease:["linear","initial",C,Ee,we]}],delay:[{delay:[Be,Ee,we]}],animate:[{animate:["none",M,Ee,we]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[A,Ee,we]}],"perspective-origin":[{"perspective-origin":H()}],rotate:[{rotate:Le()}],"rotate-x":[{"rotate-x":Le()}],"rotate-y":[{"rotate-y":Le()}],"rotate-z":[{"rotate-z":Le()}],scale:[{scale:ke()}],"scale-x":[{"scale-x":ke()}],"scale-y":[{"scale-y":ke()}],"scale-z":[{"scale-z":ke()}],"scale-3d":["scale-3d"],skew:[{skew:De()}],"skew-x":[{"skew-x":De()}],"skew-y":[{"skew-y":De()}],transform:[{transform:[Ee,we,"","none","gpu","cpu"]}],"transform-origin":[{origin:H()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ve()}],"translate-x":[{"translate-x":Ve()}],"translate-y":[{"translate-y":Ve()}],"translate-z":[{"translate-z":Ve()}],"translate-none":["translate-none"],accent:[{accent:X()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:X()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee,we]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":x()}],"scroll-mx":[{"scroll-mx":x()}],"scroll-my":[{"scroll-my":x()}],"scroll-ms":[{"scroll-ms":x()}],"scroll-me":[{"scroll-me":x()}],"scroll-mt":[{"scroll-mt":x()}],"scroll-mr":[{"scroll-mr":x()}],"scroll-mb":[{"scroll-mb":x()}],"scroll-ml":[{"scroll-ml":x()}],"scroll-p":[{"scroll-p":x()}],"scroll-px":[{"scroll-px":x()}],"scroll-py":[{"scroll-py":x()}],"scroll-ps":[{"scroll-ps":x()}],"scroll-pe":[{"scroll-pe":x()}],"scroll-pt":[{"scroll-pt":x()}],"scroll-pr":[{"scroll-pr":x()}],"scroll-pb":[{"scroll-pb":x()}],"scroll-pl":[{"scroll-pl":x()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee,we]}],fill:[{fill:["none",...X()]}],"stroke-w":[{stroke:[Be,Uc,Sa,fg]}],stroke:[{stroke:["none",...X()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},DV=mV(kV);function Ut(...n){return DV(JS(n))}const MV=eA("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Fe({className:n,variant:e,size:t,asChild:i=!1,...a}){const l=i?Qj:"button";return y.jsx(l,{"data-slot":"button",className:Ut(MV({variant:e,size:t,className:n})),...a})}function Pt({className:n,type:e,...t}){return y.jsx("input",{type:e,"data-slot":"input",className:Ut("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var jV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ft=jV.reduce((n,e)=>{const t=fu(`Primitive.${e}`),i=T.forwardRef((a,l)=>{const{asChild:u,...d}=a,h=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(h,{...d,ref:l})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function VV(n,e){n&&yu.flushSync(()=>n.dispatchEvent(e))}var LV="Label",dA=T.forwardRef((n,e)=>y.jsx(ft.label,{...n,ref:e,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||((a=n.onMouseDown)==null||a.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));dA.displayName=LV;var UV=dA;function Gt({className:n,...e}){return y.jsx(UV,{"data-slot":"label",className:Ut("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}const zV=eA("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Dv({className:n,variant:e,...t}){return y.jsx("div",{"data-slot":"alert",role:"alert",className:Ut(zV({variant:e}),n),...t})}function Mv({className:n,...e}){return y.jsx("div",{"data-slot":"alert-description",className:Ut("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),FV=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),px=n=>{const e=FV(n);return e.charAt(0).toUpperCase()+e.slice(1)},fA=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),HV=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=T.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...d},h)=>T.createElement("svg",{ref:h,...qV,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:fA("lucide",a),...!l&&!HV(d)&&{"aria-hidden":"true"},...d},[...u.map(([p,v])=>T.createElement(p,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=(n,e)=>{const t=T.forwardRef(({className:i,...a},l)=>T.createElement($V,{ref:l,iconNode:e,className:fA(`lucide-${BV(px(n))}`,`lucide-${n}`,i),...a}));return t.displayName=px(n),t};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],jv=Je("arrow-left",GV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Vv=Je("calendar",KV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["rect",{width:"18",height:"14",x:"3",y:"5",rx:"2",ry:"2",key:"12ruh7"}],["path",{d:"M7 15h4M15 15h2M7 11h2M13 11h4",key:"1ueiar"}]],QV=Je("captions",YV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Lv=Je("check",XV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],hA=Je("chevron-down",WV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],JV=Je("chevron-left",ZV);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],tL=Je("chevron-right",eL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],rL=Je("chevron-up",nL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Uv=Je("clock",iL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],gy=Je("eye-off",sL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yy=Je("eye",aL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],lL=Je("film",oL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],gx=Je("globe",cL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],dL=Je("heart",uL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],hL=Je("house",fL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],mA=Je("info",mL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],gL=Je("maximize",pL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],vL=Je("minimize",yL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],bL=Je("pause",_L);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],zi=Je("play",wL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fl=Je("plus",EL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],TL=Je("save",xL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ah=Je("search",SL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vy=Je("settings",AL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],CL=Je("shield",RL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]],NL=Je("skip-back",IL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]],OL=Je("skip-forward",PL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],oh=Je("star",kL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]],yx=Je("tv",DL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],jL=Je("user",ML);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],LL=Je("users",VL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],pA=Je("volume-2",UL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],gA=Je("volume-x",zL),BL=()=>{var U,H;const[n,e]=T.useState(""),[t,i]=T.useState(""),[a,l]=T.useState(!1),[u,d]=T.useState(""),[h,p]=T.useState(!1),[v,_]=T.useState(0),{login:w}=rr(),R=Wr(),A=((H=(U=wr().state)==null?void 0:U.from)==null?void 0:H.pathname)||"/profiles",P=["email","password","showPassword","submit","register"];ei({onArrowUp:()=>_(Y=>Math.max(0,Y-1)),onArrowDown:()=>_(Y=>Math.min(P.length-1,Y+1)),onEnter:()=>C(),enabled:!0});const C=()=>{switch(P[v]){case"showPassword":l(!a);break;case"submit":M();break;case"register":R("/register");break}},M=async Y=>{if(Y&&Y.preventDefault(),!n||!t){d("Por favor, preencha todos os campos");return}try{d(""),p(!0),await w(n,t),R(A,{replace:!0})}catch{d("Falha no login. Verifique suas credenciais.")}finally{p(!1)}},N=()=>{e("admin@isaacplay.com"),i("123456")};return T.useEffect(()=>{const Y=document.querySelector(`[data-focus-index="${v}"]`);Y&&Y.focus()},[v]),y.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-red-900/20 to-black flex items-center justify-center p-4",children:[y.jsx("div",{className:"absolute inset-0 opacity-10",children:y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-900/20 via-transparent to-red-900/20"})}),y.jsxs("div",{className:"w-full max-w-md relative z-10",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsxs("div",{className:"flex items-center justify-center mb-4",children:[y.jsx(zi,{className:"h-12 w-12 text-red-600 mr-2"}),y.jsx("h1",{className:"text-4xl font-bold text-white",children:"IsaacPlay"})]}),y.jsx("p",{className:"text-gray-400",children:"Filmes, Sries e TV Online"})]}),y.jsxs("div",{className:"bg-black/70 backdrop-blur-sm rounded-lg p-8 border border-gray-800",children:[y.jsx("h2",{className:"text-2xl font-semibold text-white mb-6 text-center",children:"Entrar"}),u&&y.jsx(Dv,{className:"mb-4 bg-red-900/50 border-red-700",children:y.jsx(Mv,{className:"text-red-200",children:u})}),y.jsxs("form",{onSubmit:M,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx(Gt,{htmlFor:"email",className:"text-gray-300",children:"Email"}),y.jsx(Pt,{id:"email",type:"email",value:n,onChange:Y=>e(Y.target.value),"data-focus-index":"0",className:`bg-gray-900 border-gray-700 text-white focus:border-red-600 ${v===0?"ring-2 ring-red-600":""}`,placeholder:"seu@email.com",disabled:h})]}),y.jsxs("div",{children:[y.jsx(Gt,{htmlFor:"password",className:"text-gray-300",children:"Senha"}),y.jsxs("div",{className:"relative",children:[y.jsx(Pt,{id:"password",type:a?"text":"password",value:t,onChange:Y=>i(Y.target.value),"data-focus-index":"1",className:`bg-gray-900 border-gray-700 text-white focus:border-red-600 pr-10 ${v===1?"ring-2 ring-red-600":""}`,placeholder:"Sua senha",disabled:h}),y.jsx("button",{type:"button",onClick:()=>l(!a),"data-focus-index":"2",className:`absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white ${v===2?"ring-2 ring-red-600 rounded":""}`,disabled:h,children:a?y.jsx(gy,{className:"h-4 w-4"}):y.jsx(yy,{className:"h-4 w-4"})})]})]}),y.jsx(Fe,{type:"submit","data-focus-index":"3",className:`w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 ${v===3?"ring-2 ring-red-400":""}`,disabled:h,children:h?"Entrando...":"Entrar"})]}),y.jsx("div",{className:"mt-4",children:y.jsx(Fe,{type:"button",onClick:N,className:"w-full bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2 text-sm",disabled:h,children:"Login Rpido Admin"})}),y.jsx("div",{className:"mt-6 text-center",children:y.jsxs("p",{className:"text-gray-400",children:["No tem uma conta?"," ",y.jsx(Na,{to:"/register","data-focus-index":"4",className:`text-red-400 hover:text-red-300 underline ${v===4?"ring-2 ring-red-600 rounded px-1":""}`,children:"Registre-se"})]})})]}),y.jsx("div",{className:"mt-6 text-center text-gray-500 text-sm",children:y.jsx("p",{children:"Use  para navegar  Enter para selecionar"})})]})]})},FL=()=>{const[n,e]=T.useState({displayName:"",email:"",password:"",confirmPassword:""}),[t,i]=T.useState(!1),[a,l]=T.useState(!1),[u,d]=T.useState(""),[h,p]=T.useState(!1),[v,_]=T.useState(0),{signup:w}=rr(),R=Wr(),I=["displayName","email","password","showPassword","confirmPassword","showConfirmPassword","submit","login"];ei({onArrowUp:()=>_(N=>Math.max(0,N-1)),onArrowDown:()=>_(N=>Math.min(I.length-1,N+1)),onEnter:()=>A(),enabled:!0});const A=()=>{switch(I[v]){case"showPassword":i(!t);break;case"showConfirmPassword":l(!a);break;case"submit":M();break;case"login":R("/login");break}},P=(N,U)=>{e(H=>({...H,[N]:U}))},C=()=>!n.displayName||!n.email||!n.password||!n.confirmPassword?(d("Por favor, preencha todos os campos"),!1):n.password.length<6?(d("A senha deve ter pelo menos 6 caracteres"),!1):n.password!==n.confirmPassword?(d("As senhas no coincidem"),!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)?!0:(d("Por favor, insira um email vlido"),!1),M=async N=>{if(N&&N.preventDefault(),!!C())try{d(""),p(!0),await w(n.email,n.password,n.displayName),R("/profiles")}catch(U){U.code==="auth/email-already-in-use"?d("Este email j est em uso"):U.code==="auth/weak-password"?d("A senha  muito fraca"):d("Erro ao criar conta. Tente novamente.")}finally{p(!1)}};return T.useEffect(()=>{const N=document.querySelector(`[data-focus-index="${v}"]`);N&&N.focus()},[v]),y.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-red-900/20 to-black flex items-center justify-center p-4",children:[y.jsx("div",{className:"absolute inset-0 opacity-10",children:y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-900/20 via-transparent to-red-900/20"})}),y.jsxs("div",{className:"w-full max-w-md relative z-10",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsxs("div",{className:"flex items-center justify-center mb-4",children:[y.jsx(zi,{className:"h-12 w-12 text-red-600 mr-2"}),y.jsx("h1",{className:"text-4xl font-bold text-white",children:"IsaacPlay"})]}),y.jsx("p",{className:"text-gray-400",children:"Filmes, Sries e TV Online"})]}),y.jsxs("div",{className:"bg-black/70 backdrop-blur-sm rounded-lg p-8 border border-gray-800",children:[y.jsx("h2",{className:"text-2xl font-semibold text-white mb-6 text-center",children:"Criar Conta"}),u&&y.jsx(Dv,{className:"mb-4 bg-red-900/50 border-red-700",children:y.jsx(Mv,{className:"text-red-200",children:u})}),y.jsxs("form",{onSubmit:M,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx(Gt,{htmlFor:"displayName",className:"text-gray-300",children:"Nome"}),y.jsx(Pt,{id:"displayName",type:"text",value:n.displayName,onChange:N=>P("displayName",N.target.value),"data-focus-index":"0",className:`bg-gray-900 border-gray-700 text-white focus:border-red-600 ${v===0?"ring-2 ring-red-600":""}`,placeholder:"Seu nome",disabled:h})]}),y.jsxs("div",{children:[y.jsx(Gt,{htmlFor:"email",className:"text-gray-300",children:"Email"}),y.jsx(Pt,{id:"email",type:"email",value:n.email,onChange:N=>P("email",N.target.value),"data-focus-index":"1",className:`bg-gray-900 border-gray-700 text-white focus:border-red-600 ${v===1?"ring-2 ring-red-600":""}`,placeholder:"seu@email.com",disabled:h})]}),y.jsxs("div",{children:[y.jsx(Gt,{htmlFor:"password",className:"text-gray-300",children:"Senha"}),y.jsxs("div",{className:"relative",children:[y.jsx(Pt,{id:"password",type:t?"text":"password",value:n.password,onChange:N=>P("password",N.target.value),"data-focus-index":"2",className:`bg-gray-900 border-gray-700 text-white focus:border-red-600 pr-10 ${v===2?"ring-2 ring-red-600":""}`,placeholder:"Mnimo 6 caracteres",disabled:h}),y.jsx("button",{type:"button",onClick:()=>i(!t),"data-focus-index":"3",className:`absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white ${v===3?"ring-2 ring-red-600 rounded":""}`,disabled:h,children:t?y.jsx(gy,{className:"h-4 w-4"}):y.jsx(yy,{className:"h-4 w-4"})})]})]}),y.jsxs("div",{children:[y.jsx(Gt,{htmlFor:"confirmPassword",className:"text-gray-300",children:"Confirmar Senha"}),y.jsxs("div",{className:"relative",children:[y.jsx(Pt,{id:"confirmPassword",type:a?"text":"password",value:n.confirmPassword,onChange:N=>P("confirmPassword",N.target.value),"data-focus-index":"4",className:`bg-gray-900 border-gray-700 text-white focus:border-red-600 pr-10 ${v===4?"ring-2 ring-red-600":""}`,placeholder:"Confirme sua senha",disabled:h}),y.jsx("button",{type:"button",onClick:()=>l(!a),"data-focus-index":"5",className:`absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white ${v===5?"ring-2 ring-red-600 rounded":""}`,disabled:h,children:a?y.jsx(gy,{className:"h-4 w-4"}):y.jsx(yy,{className:"h-4 w-4"})})]})]}),y.jsx(Fe,{type:"submit","data-focus-index":"6",className:`w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 ${v===6?"ring-2 ring-red-400":""}`,disabled:h,children:h?"Criando conta...":"Criar Conta"})]}),y.jsx("div",{className:"mt-6 text-center",children:y.jsxs("p",{className:"text-gray-400",children:["J tem uma conta?"," ",y.jsx(Na,{to:"/login","data-focus-index":"7",className:`text-red-400 hover:text-red-300 underline ${v===7?"ring-2 ring-red-600 rounded px-1":""}`,children:"Entrar"})]})})]}),y.jsx("div",{className:"mt-6 text-center text-gray-500 text-sm",children:y.jsx("p",{children:"Use  para navegar  Enter para selecionar"})})]})]})},HL=()=>{const[n,e]=T.useState(""),[t,i]=T.useState(!1),[a,l]=T.useState(!1),[u,d]=T.useState(0),{currentUser:h,currentProfile:p,isAdmin:v,logout:_}=rr(),w=Wr(),R=wr(),I=[{id:"home",label:"Incio",icon:hL,path:"/browse"},{id:"movies",label:"Filmes",icon:lL,path:"/movies"},{id:"series",label:"Sries",icon:yx,path:"/series"},{id:"channels",label:"TV",icon:yx,path:"/channels"},{id:"favorites",label:"Favoritos",icon:dL,path:"/favorites"},{id:"history",label:"Histrico",icon:Uv,path:"/history"}];v&&I.push({id:"admin",label:"Admin",icon:CL,path:"/admin"});const A=[{id:"profiles",label:"Perfis",action:()=>w("/profiles")},{id:"settings",label:"Configuraes",action:()=>w("/settings")},{id:"logout",label:"Sair",action:C}];ei({onArrowLeft:()=>d(N=>Math.max(0,N-1)),onArrowRight:()=>d(N=>Math.min(I.length+2,N+1)),onEnter:()=>P(),onEscape:()=>{i(!1),l(!1)},enabled:!0});const P=()=>{u<I.length?w(I[u].path):u===I.length?i(!t):u===I.length+1&&l(!a)};async function C(){try{await _(),w("/login")}catch(N){console.error("Error logging out:",N)}}const M=N=>{N.preventDefault(),n.trim()&&(w(`/search?q=${encodeURIComponent(n.trim())}`),e(""),i(!1))};return T.useEffect(()=>{const N=U=>{U.target.closest(".user-menu-container")||l(!1),U.target.closest(".search-container")||i(!1)};return document.addEventListener("click",N),()=>document.removeEventListener("click",N)},[]),y.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-black/90 backdrop-blur-md border-b border-gray-800 transition-all duration-300",children:[y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"flex items-center justify-between h-16",children:[y.jsxs(Na,{to:"/browse",className:"flex items-center space-x-2 text-white hover:text-red-400 transition-colors duration-200",children:[y.jsx(zi,{className:"h-8 w-8 text-red-600"}),y.jsx("span",{className:"text-xl font-bold hidden sm:block",children:"IsaacPlay"})]}),y.jsx("div",{className:"hidden md:flex items-center space-x-6",children:I.map((N,U)=>{const H=N.icon,Y=R.pathname===N.path,O=u===U;return y.jsxs(Na,{to:N.path,"data-focus-index":U,className:`flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-all duration-200 ${Y?"text-red-400 bg-red-900/20":"text-gray-300 hover:text-white hover:bg-gray-800/50"} ${O?"ring-2 ring-red-600":""}`,children:[y.jsx(H,{className:"h-4 w-4"}),y.jsx("span",{children:N.label})]},N.id)})}),y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx("div",{className:"search-container relative",children:t?y.jsxs("form",{onSubmit:M,className:"flex items-center",children:[y.jsx(Pt,{type:"text",value:n,onChange:N=>e(N.target.value),placeholder:"Buscar filmes, sries...",className:"w-64 bg-gray-900 border-gray-700 text-white focus:border-red-600",autoFocus:!0}),y.jsx(Fe,{type:"submit",size:"sm",className:"ml-2 bg-red-600 hover:bg-red-700",children:y.jsx(ah,{className:"h-4 w-4"})})]}):y.jsx(Fe,{onClick:()=>i(!0),"data-focus-index":I.length,variant:"ghost",size:"sm",className:`text-gray-300 hover:text-white hover:bg-gray-800/50 ${u===I.length?"ring-2 ring-red-600":""}`,children:y.jsx(ah,{className:"h-5 w-5"})})}),y.jsxs("div",{className:"user-menu-container relative",children:[y.jsxs(Fe,{onClick:()=>l(!a),"data-focus-index":I.length+1,variant:"ghost",size:"sm",className:`flex items-center space-x-2 text-gray-300 hover:text-white hover:bg-gray-800/50 ${u===I.length+1?"ring-2 ring-red-600":""}`,children:[p!=null&&p.avatar?y.jsx("img",{src:p.avatar,alt:p.name,className:"h-6 w-6 rounded-full"}):y.jsx(jL,{className:"h-5 w-5"}),y.jsx("span",{className:"hidden sm:block",children:(p==null?void 0:p.name)||"Usurio"})]}),a&&y.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-gray-900 rounded-md shadow-lg border border-gray-700 py-1 z-50",children:[y.jsxs("div",{className:"px-4 py-2 border-b border-gray-700",children:[y.jsx("p",{className:"text-sm text-white font-medium",children:p==null?void 0:p.name}),y.jsx("p",{className:"text-xs text-gray-400",children:h==null?void 0:h.email})]}),A.map(N=>y.jsx("button",{onClick:N.action,className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:text-white hover:bg-gray-800 transition-colors duration-200",children:N.label},N.id))]})]})]})]})}),y.jsx("div",{className:"md:hidden bg-gray-900/50 border-t border-gray-800",children:y.jsx("div",{className:"flex justify-around py-2",children:I.slice(0,5).map(N=>{const U=N.icon,H=R.pathname===N.path;return y.jsxs(Na,{to:N.path,className:`flex flex-col items-center space-y-1 px-2 py-1 rounded-md transition-colors duration-200 ${H?"text-red-400":"text-gray-400 hover:text-white"}`,children:[y.jsx(U,{className:"h-5 w-5"}),y.jsx("span",{className:"text-xs",children:N.label})]},N.id)})})}),y.jsx("div",{className:"hidden lg:block absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-full",children:y.jsx("div",{className:"bg-black/80 text-gray-400 text-xs px-3 py-1 rounded-b-md",children:" navegar  Enter selecionar  Esc fechar"})})]})},Di=({children:n,showNavbar:e=!0})=>y.jsxs("div",{className:"min-h-screen bg-black text-white",children:[e&&y.jsx(HL,{}),y.jsx("main",{className:`${e?"pt-16":""}`,children:n})]}),vx=({children:n,className:e=""})=>y.jsx("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 ${e}`,children:n}),qL=()=>{const[n,e]=T.useState(0),[t,i]=T.useState(!1),[a,l]=T.useState(""),[u,d]=T.useState(!1),[h,p]=T.useState(""),{currentUser:v,userProfiles:_,selectProfile:w,createProfile:R,loadUserProfiles:I}=rr(),A=Wr(),P=4,C=_.length<P,M=C?_.length+1:_.length,N=XS({rows:Math.ceil(M/2),columns:2,wrap:!1});ei({onArrowUp:()=>{const O=N.moveUp();e(O.row*2+O.col)},onArrowDown:()=>{const O=N.moveDown();e(O.row*2+O.col)},onArrowLeft:()=>{const O=N.moveLeft();e(O.row*2+O.col)},onArrowRight:()=>{const O=N.moveRight();e(O.row*2+O.col)},onEnter:()=>U(),onEscape:()=>{t&&(i(!1),l(""),p(""))},enabled:!t});const U=()=>{n<_.length?H(_[n]):n===_.length&&C&&i(!0)},H=async O=>{try{w(O),A("/browse")}catch(x){console.error("Error selecting profile:",x)}},Y=async O=>{if(O.preventDefault(),!a.trim()){p("Por favor, insira um nome para o perfil");return}if(a.length>20){p("O nome deve ter no mximo 20 caracteres");return}try{d(!0),p(""),await R(v.uid,a.trim()),i(!1),l(""),await I(v.uid)}catch{p("Erro ao criar perfil. Tente novamente.")}finally{d(!1)}};return T.useEffect(()=>{v&&I(v.uid)},[v]),T.useEffect(()=>{N.setPosition(Math.floor(n/2),n%2)},[M,n]),y.jsx(Di,{showNavbar:!1,children:y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black flex items-center justify-center p-4",children:y.jsxs("div",{className:"w-full max-w-4xl",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsxs("div",{className:"flex items-center justify-center mb-6",children:[y.jsx(zi,{className:"h-16 w-16 text-red-600 mr-4"}),y.jsx("h1",{className:"text-5xl font-bold text-white",children:"IsaacPlay"})]}),y.jsx("h2",{className:"text-2xl text-white mb-2",children:"Quem est assistindo?"}),y.jsx("p",{className:"text-gray-400",children:"Selecione um perfil para continuar"})]}),t&&y.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-gray-900 rounded-lg p-8 w-full max-w-md border border-gray-700",children:[y.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:"Criar Novo Perfil"}),h&&y.jsx("div",{className:"bg-red-900/50 border border-red-700 text-red-200 px-4 py-2 rounded mb-4",children:h}),y.jsxs("form",{onSubmit:Y,children:[y.jsxs("div",{className:"mb-6",children:[y.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Nome do Perfil"}),y.jsx("input",{type:"text",value:a,onChange:O=>l(O.target.value),className:"w-full bg-gray-800 border border-gray-600 text-white rounded-md px-3 py-2 focus:outline-none focus:border-red-600",placeholder:"Digite o nome do perfil",maxLength:20,autoFocus:!0,disabled:u}),y.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:[a.length,"/20 caracteres"]})]}),y.jsxs("div",{className:"flex space-x-4",children:[y.jsx(Fe,{type:"submit",className:"flex-1 bg-red-600 hover:bg-red-700 text-white",disabled:u,children:u?"Criando...":"Criar Perfil"}),y.jsx(Fe,{type:"button",onClick:()=>{i(!1),l(""),p("")},variant:"outline",className:"flex-1 border-gray-600 text-gray-300 hover:bg-gray-800",disabled:u,children:"Cancelar"})]})]})]})}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 max-w-3xl mx-auto",children:[_.map((O,x)=>y.jsx("div",{className:`group cursor-pointer transition-all duration-300 transform ${n===x?"scale-110 z-10":"scale-100"}`,onClick:()=>H(O),"data-focusable":"true",children:y.jsxs("div",{className:`relative ${n===x?"ring-4 ring-red-600 rounded-lg":""}`,children:[y.jsx("div",{className:"w-32 h-32 mx-auto mb-4 rounded-lg overflow-hidden bg-gray-800 group-hover:ring-4 group-hover:ring-white/50 transition-all duration-300",children:y.jsx("img",{src:O.avatar,alt:O.name,className:"w-full h-full object-cover"})}),y.jsx("h3",{className:"text-white text-center font-medium group-hover:text-red-400 transition-colors duration-300",children:O.name}),O.isDefault&&y.jsx("div",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs px-2 py-1 rounded-full",children:"Principal"})]})},O.id)),C&&y.jsx("div",{className:`group cursor-pointer transition-all duration-300 transform ${n===_.length?"scale-110 z-10":"scale-100"}`,onClick:()=>i(!0),"data-focusable":"true",children:y.jsxs("div",{className:`relative ${n===_.length?"ring-4 ring-red-600 rounded-lg":""}`,children:[y.jsx("div",{className:"w-32 h-32 mx-auto mb-4 rounded-lg bg-gray-800 border-2 border-dashed border-gray-600 flex items-center justify-center group-hover:border-white group-hover:bg-gray-700 transition-all duration-300",children:y.jsx(fl,{className:"h-12 w-12 text-gray-400 group-hover:text-white"})}),y.jsx("h3",{className:"text-gray-400 text-center font-medium group-hover:text-white transition-colors duration-300",children:"Adicionar Perfil"})]})})]}),y.jsx("div",{className:"text-center mt-8",children:y.jsxs("p",{className:"text-gray-500 text-sm",children:[_.length," de ",P," perfis criados"]})}),y.jsx("div",{className:"text-center mt-8",children:y.jsx("p",{className:"text-gray-500 text-sm",children:"Use as setas direcionais para navegar  Enter para selecionar  Esc para cancelar"})}),y.jsx("div",{className:"text-center mt-8",children:y.jsx(Fe,{onClick:()=>A("/login"),variant:"ghost",className:"text-gray-400 hover:text-white",children:"Sair da Conta"})})]})})})},$L=()=>{const[n,e]=T.useState(null),[t,i]=T.useState(""),[a,l]=T.useState(""),[u,d]=T.useState(!1),[h,p]=T.useState(""),[v,_]=T.useState(""),[w,R]=T.useState(0),{currentProfile:I,userProfiles:A,updateUserProfile:P,loadUserProfiles:C,currentUser:M}=rr(),N=Wr(),U=["https://api.dicebear.com/7.x/avataaars/svg?seed=Felix","https://api.dicebear.com/7.x/avataaars/svg?seed=Aneka","https://api.dicebear.com/7.x/avataaars/svg?seed=Lily","https://api.dicebear.com/7.x/avataaars/svg?seed=Garfield","https://api.dicebear.com/7.x/avataaars/svg?seed=Mittens","https://api.dicebear.com/7.x/avataaars/svg?seed=Fluffy","https://api.dicebear.com/7.x/avataaars/svg?seed=Whiskers","https://api.dicebear.com/7.x/avataaars/svg?seed=Shadow","https://api.dicebear.com/7.x/avataaars/svg?seed=Luna","https://api.dicebear.com/7.x/avataaars/svg?seed=Max","https://api.dicebear.com/7.x/avataaars/svg?seed=Bella","https://api.dicebear.com/7.x/avataaars/svg?seed=Charlie"],H=["name","avatars","save","back"];ei({onArrowUp:()=>{if(w===1){const x=U.indexOf(a),k=Math.max(0,x-4);l(U[k])}else R(x=>Math.max(0,x-1))},onArrowDown:()=>{if(w===1){const x=U.indexOf(a),k=Math.min(U.length-1,x+4);l(U[k])}else R(x=>Math.min(H.length-1,x+1))},onArrowLeft:()=>{if(w===1){const x=U.indexOf(a),k=Math.max(0,x-1);l(U[k])}},onArrowRight:()=>{if(w===1){const x=U.indexOf(a),k=Math.min(U.length-1,x+1);l(U[k])}},onEnter:()=>Y(),onEscape:()=>N("/profiles"),enabled:!0});const Y=()=>{switch(H[w]){case"save":O();break;case"back":N("/profiles");break}};T.useEffect(()=>{I&&(e(I),i(I.name),l(I.avatar))},[I]);const O=async()=>{if(!t.trim()){p("Por favor, insira um nome para o perfil");return}if(t.length>20){p("O nome deve ter no mximo 20 caracteres");return}try{d(!0),p(""),_(""),await P(n.id,{name:t.trim(),avatar:a}),_("Perfil atualizado com sucesso!"),await C(M.uid),setTimeout(()=>{N("/profiles")},1500)}catch{p("Erro ao atualizar perfil. Tente novamente.")}finally{d(!1)}};return n?y.jsx(Di,{children:y.jsx(vx,{children:y.jsxs("div",{className:"max-w-2xl mx-auto",children:[y.jsxs("div",{className:"flex items-center mb-8",children:[y.jsxs(Fe,{onClick:()=>N("/profiles"),variant:"ghost",className:"mr-4 text-gray-400 hover:text-white","data-focus-index":"3",children:[y.jsx(jv,{className:"h-5 w-5 mr-2"}),"Voltar"]}),y.jsx("h1",{className:"text-2xl font-bold text-white",children:"Configuraes do Perfil"})]}),h&&y.jsx("div",{className:"bg-red-900/50 border border-red-700 text-red-200 px-4 py-3 rounded mb-6",children:h}),v&&y.jsx("div",{className:"bg-green-900/50 border border-green-700 text-green-200 px-4 py-3 rounded mb-6",children:v}),y.jsxs("div",{className:"bg-gray-900 rounded-lg p-8 border border-gray-800",children:[y.jsxs("div",{className:"flex items-center mb-8 pb-6 border-b border-gray-700",children:[y.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-gray-800 mr-4",children:y.jsx("img",{src:a,alt:t,className:"w-full h-full object-cover"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-white font-semibold",children:t||"Sem nome"}),y.jsx("p",{className:"text-gray-400 text-sm",children:"Perfil atual"})]})]}),y.jsxs("div",{className:"mb-8",children:[y.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-3",children:"Nome do Perfil"}),y.jsx(Pt,{type:"text",value:t,onChange:x=>i(x.target.value),"data-focus-index":"0",className:`bg-gray-800 border-gray-600 text-white focus:border-red-600 ${w===0?"ring-2 ring-red-600":""}`,placeholder:"Digite o nome do perfil",maxLength:20,disabled:u}),y.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:[t.length,"/20 caracteres"]})]}),y.jsxs("div",{className:"mb-8",children:[y.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-3",children:"Escolha um Avatar"}),y.jsx("div",{className:`grid grid-cols-4 gap-4 p-4 rounded-lg border-2 transition-colors duration-200 ${w===1?"border-red-600 bg-gray-800/50":"border-gray-700"}`,"data-focus-index":"1",children:U.map((x,k)=>y.jsx("button",{onClick:()=>l(x),className:`w-16 h-16 rounded-lg overflow-hidden border-2 transition-all duration-200 ${a===x?"border-red-600 ring-2 ring-red-600/50":"border-gray-600 hover:border-gray-400"}`,disabled:u,children:y.jsx("img",{src:x,alt:`Avatar ${k+1}`,className:"w-full h-full object-cover"})},k))})]}),y.jsx("div",{className:"flex space-x-4",children:y.jsxs(Fe,{onClick:O,"data-focus-index":"2",className:`flex-1 bg-red-600 hover:bg-red-700 text-white ${w===2?"ring-2 ring-red-400":""}`,disabled:u,children:[y.jsx(TL,{className:"h-4 w-4 mr-2"}),u?"Salvando...":"Salvar Alteraes"]})})]}),y.jsx("div",{className:"text-center mt-6",children:y.jsx("p",{className:"text-gray-500 text-sm",children:"Use  para navegar  Enter para selecionar  Esc para voltar"})})]})})}):y.jsx(Di,{children:y.jsx(vx,{children:y.jsx("div",{className:"text-center py-16",children:y.jsx("p",{className:"text-gray-400",children:"Carregando configuraes do perfil..."})})})})},GL=({content:n,size:e="medium",showPreview:t=!0,onFocus:i,onBlur:a,isFocused:l=!1})=>{const[u,d]=T.useState(!1),[h,p]=T.useState(!1),[v,_]=T.useState(!1),[w,R]=T.useState(!1),[I,A]=T.useState(!1),P=T.useRef(null),C=T.useRef(null),M=T.useRef(null),{currentProfile:N,addToFavorites:U}=rr(),H=Wr(),Y={small:"w-32 h-48",medium:"w-48 h-72",large:"w-64 h-96"},O=Y[e]||Y.medium;T.useEffect(()=>{N!=null&&N.favorites&&_(N.favorites.some(re=>re.contentId===n.id))},[N==null?void 0:N.favorites,n.id]),T.useEffect(()=>{l&&M.current&&M.current.focus()},[l]);const x=()=>{d(!0),i==null||i(n),t&&n.trailerUrl&&(P.current=setTimeout(()=>{p(!0)},1e3))},k=()=>{d(!1),p(!1),a==null||a(),P.current&&clearTimeout(P.current),C.current&&clearTimeout(C.current)},L=re=>{re.stopPropagation(),H(`/watch/${n.id}`)},z=async re=>{re.stopPropagation();try{const X=await U(n.id,n);_(X)}catch(X){console.error("Error updating favorites:",X)}},F=re=>{re.stopPropagation(),H(`/details/${n.id}`)},V=()=>{H(`/details/${n.id}`)},K=re=>{if(!re)return"";const X=Math.floor(re/60),se=re%60;return X>0?`${X}h ${se}m`:`${se}m`},oe=re=>re?new Date(re).getFullYear():"",$=()=>I?`https://via.placeholder.com/300x450/1a1a1a/666666?text=${encodeURIComponent(n.title||"Sem Imagem")}`:n.posterUrl||n.thumbnailUrl||`https://via.placeholder.com/300x450/1a1a1a/666666?text=${encodeURIComponent(n.title||"Sem Imagem")}`;return y.jsx("div",{ref:M,className:`${O} relative group cursor-pointer transition-all duration-300 transform ${u||l?"scale-105 z-20":"scale-100 z-10"} focus:outline-none focus:ring-2 focus:ring-red-600 rounded-lg`,onMouseEnter:x,onMouseLeave:k,onClick:V,tabIndex:0,onFocus:()=>d(!0),onBlur:()=>d(!1),"data-focusable":"true",children:y.jsxs("div",{className:"relative w-full h-full rounded-lg overflow-hidden bg-gray-900",children:[!w&&!I&&y.jsx("div",{className:"absolute inset-0 bg-gray-800 animate-pulse flex items-center justify-center",children:y.jsx("div",{className:"text-gray-600",children:"Carregando..."})}),y.jsx("img",{src:$(),alt:n.title,className:`w-full h-full object-cover transition-opacity duration-300 ${w?"opacity-100":"opacity-0"}`,onLoad:()=>R(!0),onError:()=>A(!0)}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),h&&n.trailerUrl&&y.jsxs("div",{className:"absolute inset-0 bg-black",children:[y.jsx("video",{src:n.trailerUrl,autoPlay:!0,muted:!0,loop:!0,className:"w-full h-full object-cover",onError:()=>p(!1)}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]}),y.jsxs("div",{className:`absolute bottom-0 left-0 right-0 p-4 transform transition-all duration-300 ${u||l?"translate-y-0 opacity-100":"translate-y-full opacity-0"}`,children:[y.jsx("h3",{className:"text-white font-semibold text-sm mb-2 line-clamp-2",children:n.title}),y.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-300 mb-3",children:[n.rating&&y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx(oh,{className:"h-3 w-3 text-yellow-400 fill-current"}),y.jsx("span",{children:n.rating})]}),n.year&&y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx(Vv,{className:"h-3 w-3"}),y.jsx("span",{children:oe(n.year)})]}),n.duration&&y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx(Uv,{className:"h-3 w-3"}),y.jsx("span",{children:K(n.duration)})]})]}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsxs(Fe,{onClick:L,size:"sm",className:"bg-white text-black hover:bg-gray-200 px-3 py-1 text-xs font-semibold",children:[y.jsx(zi,{className:"h-3 w-3 mr-1 fill-current"}),"Play"]}),y.jsx(Fe,{onClick:z,size:"sm",variant:"ghost",className:"text-white hover:bg-white/20 p-1",children:v?y.jsx(Lv,{className:"h-4 w-4 text-green-400"}):y.jsx(fl,{className:"h-4 w-4"})}),y.jsx(Fe,{onClick:F,size:"sm",variant:"ghost",className:"text-white hover:bg-white/20 p-1",children:y.jsx(mA,{className:"h-4 w-4"})})]})]}),n.quality&&y.jsx("div",{className:"absolute top-2 left-2",children:y.jsx("span",{className:"bg-red-600 text-white text-xs px-2 py-1 rounded font-semibold",children:n.quality})}),n.type&&y.jsx("div",{className:"absolute top-2 right-2",children:y.jsx("span",{className:"bg-black/70 text-white text-xs px-2 py-1 rounded",children:n.type==="movie"?"Filme":n.type==="series"?"Srie":"TV"})}),n.progress&&n.progress>0&&y.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gray-700",children:y.jsx("div",{className:"h-full bg-red-600 transition-all duration-300",style:{width:`${Math.min(n.progress,100)}%`}})})]})})},yA=({title:n,items:e=[],loading:t=!1,onItemFocus:i,onItemSelect:a,carouselId:l,isFocused:u=!1})=>{const[d,h]=T.useState(0),[p,v]=T.useState(0),[_,w]=T.useState(!1),[R,I]=T.useState(!0),A=T.useRef(null),P=6,C=Math.max(0,e.length-P),M=XS({rows:1,columns:Math.min(e.length,P),wrap:!1});ei({onArrowLeft:()=>{if(u){const x=M.moveLeft().col;v(x),x===0&&d>0&&N()}},onArrowRight:()=>{if(u){const x=M.moveRight().col;v(x),x===P-1&&d<C&&U()}},onEnter:()=>{u&&e[d+p]&&(a==null||a(e[d+p]))},enabled:u}),T.useEffect(()=>{w(d>0),I(d<C)},[d,C]),T.useEffect(()=>{u&&M.setPosition(0,p)},[u]);const N=()=>{var x;const O=Math.max(0,d-1);if(h(O),A.current){const k=((x=A.current.children[0])==null?void 0:x.offsetWidth)||200;A.current.scrollTo({left:O*k,behavior:"smooth"})}},U=()=>{var x;const O=Math.min(C,d+1);if(h(O),A.current){const k=((x=A.current.children[0])==null?void 0:x.offsetWidth)||200;A.current.scrollTo({left:O*k,behavior:"smooth"})}},H=(O,x)=>{v(x-d),i==null||i(O)},Y=()=>{};return t?y.jsxs("div",{className:"mb-8",children:[y.jsx("h2",{className:"text-white text-xl font-semibold mb-4",children:n}),y.jsx("div",{className:"flex space-x-4",children:Array.from({length:P}).map((O,x)=>y.jsx("div",{className:"w-48 h-72 bg-gray-800 rounded-lg animate-pulse"},x))})]}):e.length?y.jsxs("div",{className:`mb-8 group ${u?"ring-2 ring-red-600 rounded-lg p-2":""}`,children:[y.jsx("h2",{className:"text-white text-xl font-semibold mb-4 px-2",children:n}),y.jsxs("div",{className:"relative",children:[_&&y.jsx(Fe,{onClick:N,className:"absolute left-0 top-1/2 transform -translate-y-1/2 z-30 bg-black/70 hover:bg-black/90 text-white border-none rounded-full p-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",size:"sm",children:y.jsx(JV,{className:"h-6 w-6"})}),R&&y.jsx(Fe,{onClick:U,className:"absolute right-0 top-1/2 transform -translate-y-1/2 z-30 bg-black/70 hover:bg-black/90 text-white border-none rounded-full p-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",size:"sm",children:y.jsx(tL,{className:"h-6 w-6"})}),y.jsx("div",{ref:A,className:"flex space-x-4 overflow-x-hidden scroll-smooth px-2",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:e.map((O,x)=>y.jsx("div",{className:"flex-shrink-0",children:y.jsx(GL,{content:O,size:"medium",showPreview:!0,onFocus:()=>H(O,x),onBlur:Y,isFocused:u&&p===x-d})},O.id||x))}),C>0&&y.jsx("div",{className:"flex justify-center mt-4 space-x-2",children:Array.from({length:C+1}).map((O,x)=>y.jsx("button",{onClick:()=>h(x),className:`w-2 h-2 rounded-full transition-colors duration-200 ${x===d?"bg-red-600":"bg-gray-600"}`},x))})]}),u&&y.jsx("div",{className:"text-center mt-2",children:y.jsx("span",{className:"text-gray-400 text-sm",children:" navegar  Enter selecionar"})})]}):y.jsxs("div",{className:"mb-8",children:[y.jsx("h2",{className:"text-white text-xl font-semibold mb-4",children:n}),y.jsx("div",{className:"text-gray-400 text-center py-8",children:"Nenhum contedo disponvel"})]})};function zc({className:n,...e}){return y.jsx("div",{"data-slot":"card",className:Ut("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...e})}function pf({className:n,...e}){return y.jsx("div",{"data-slot":"card-header",className:Ut("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function gf({className:n,...e}){return y.jsx("div",{"data-slot":"card-title",className:Ut("leading-none font-semibold",n),...e})}function Bc({className:n,...e}){return y.jsx("div",{"data-slot":"card-content",className:Ut("px-6",n),...e})}const Aa=()=>{const[n,e]=T.useState(""),[t,i]=T.useState(0),[a,l]=T.useState(null),[u,d]=T.useState([]),{currentUser:h}=rr();ei({onArrowUp:()=>i(R=>Math.max(0,R-1)),onArrowDown:()=>i(R=>Math.min(u.length,R+1)),enabled:!0}),T.useEffect(()=>{(()=>{l({id:1,title:"Filme em Destaque",description:"Uma aventura pica que vai te manter na borda do assento. Com efeitos visuais impressionantes e uma histria envolvente.",backdropUrl:"https://via.placeholder.com/1920x1080/1a1a1a/ffffff?text=Filme+em+Destaque",trailerUrl:"https://example.com/trailer",rating:8.5,year:2023,duration:"2h 15min",genre:"Ao, Aventura"}),d([{id:"trending",title:"Em Alta",items:p(10,"trending")},{id:"movies",title:"Filmes Populares",items:p(10,"movie")},{id:"series",title:"Sries em Destaque",items:p(10,"series")},{id:"action",title:"Ao e Aventura",items:p(10,"action")},{id:"comedy",title:"Comdia",items:p(10,"comedy")},{id:"drama",title:"Drama",items:p(10,"drama")},{id:"channels",title:"Canais de TV",items:p(8,"channel")}])})()},[]);const p=(R,I)=>Array.from({length:R},(A,P)=>({id:`${I}-${P+1}`,title:`${v(I)} ${P+1}`,posterUrl:`https://via.placeholder.com/300x450/333333/ffffff?text=${v(I)}+${P+1}`,backdropUrl:`https://via.placeholder.com/1920x1080/1a1a1a/ffffff?text=${v(I)}+${P+1}`,type:I==="channel"?"channel":I==="series"?"series":"movie",rating:(Math.random()*4+6).toFixed(1),year:2020+Math.floor(Math.random()*4),genre:_(I)})),v=R=>{switch(R){case"trending":return"Trending";case"movie":return"Filme";case"series":return"Srie";case"action":return"Ao";case"comedy":return"Comdia";case"drama":return"Drama";case"channel":return"Canal";default:return"Contedo"}},_=R=>{const I={action:["Ao","Aventura","Thriller"],comedy:["Comdia","Romance","Famlia"],drama:["Drama","Romance","Biografia"],series:["Drama","Comdia","Thriller","Fico Cientfica"],movie:["Ao","Drama","Comdia","Thriller"],channel:["Entretenimento","Notcias","Esportes","Documentrios"]},A=I[R]||I.movie;return A[Math.floor(Math.random()*A.length)]},w=R=>{R.preventDefault(),n.trim()&&console.log("Searching for:",n)};return y.jsx(Di,{children:y.jsxs("div",{className:"min-h-screen bg-black",children:[a&&y.jsxs("div",{className:"relative h-screen",children:[y.jsxs("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${a.backdropUrl})`},children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black via-black/70 to-transparent"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"})]}),y.jsx("div",{className:"relative z-10 flex items-center h-full",children:y.jsx("div",{className:"max-w-7xl mx-auto px-6 w-full",children:y.jsxs("div",{className:"max-w-2xl",children:[y.jsx("h1",{className:"text-6xl font-bold text-white mb-4",children:a.title}),y.jsxs("div",{className:"flex items-center space-x-4 mb-4 text-gray-300",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx(oh,{className:"h-5 w-5 text-yellow-500 mr-1"}),y.jsx("span",{children:a.rating})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx(Vv,{className:"h-5 w-5 mr-1"}),y.jsx("span",{children:a.year})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx(Uv,{className:"h-5 w-5 mr-1"}),y.jsx("span",{children:a.duration})]}),y.jsx("span",{children:a.genre})]}),y.jsx("p",{className:"text-xl text-gray-300 mb-8 leading-relaxed",children:a.description}),y.jsxs("div",{className:"flex space-x-4",children:[y.jsxs(Fe,{className:"bg-white text-black hover:bg-gray-200 font-semibold px-8 py-3 text-lg",onClick:()=>console.log("Play:",a.id),children:[y.jsx(zi,{className:"h-6 w-6 mr-2"}),"Assistir"]}),y.jsxs(Fe,{variant:"outline",className:"border-gray-600 text-white hover:bg-gray-800 font-semibold px-8 py-3 text-lg",onClick:()=>console.log("More info:",a.id),children:[y.jsx(mA,{className:"h-6 w-6 mr-2"}),"Mais Informaes"]})]})]})})}),y.jsx("div",{className:"absolute top-24 right-6 z-20",children:y.jsxs("form",{onSubmit:w,className:"flex",children:[y.jsx(Pt,{value:n,onChange:R=>e(R.target.value),placeholder:"Buscar filmes, sries...",className:"w-80 bg-black/70 border-gray-600 text-white placeholder-gray-400"}),y.jsx(Fe,{type:"submit",className:"ml-2 bg-red-600 hover:bg-red-700",children:y.jsx(ah,{className:"h-4 w-4"})})]})})]}),y.jsx("div",{className:"relative z-10 -mt-32 pb-16",children:y.jsx("div",{className:"max-w-7xl mx-auto px-6 space-y-12",children:u.map((R,I)=>y.jsxs("div",{className:"space-y-4",children:[y.jsx("h2",{className:"text-2xl font-bold text-white",children:R.title}),y.jsx(yA,{items:R.items,onItemClick:A=>console.log("Item clicked:",A),focused:t===I+1})]},R.id))})}),(h==null?void 0:h.email)==="admin@isaacplay.com"&&y.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:y.jsx(Fe,{className:"bg-red-600 hover:bg-red-700 rounded-full p-4 shadow-lg",onClick:()=>window.location.href="/admin",children:y.jsx(fl,{className:"h-6 w-6"})})}),y.jsx("div",{className:"fixed bottom-6 left-6 z-50 bg-black/70 rounded-lg p-3",children:y.jsx("p",{className:"text-gray-400 text-sm",children:"Use  para navegar sees   para navegar itens  Enter para selecionar"})})]})})},KL=()=>{var F,V;const{id:n}=uT(),[e,t]=T.useState(null),[i,a]=T.useState([]),[l,u]=T.useState(!0),[d,h]=T.useState(""),[p,v]=T.useState(!1),[_,w]=T.useState(!1),[R,I]=T.useState(!0),[A,P]=T.useState(0),{currentProfile:C,addToFavorites:M,addToWatchHistory:N}=rr(),U=Wr(),H=["play","favorite","back","trailer"];ei({onArrowLeft:()=>P(K=>Math.max(0,K-1)),onArrowRight:()=>P(K=>Math.min(H.length-1,K+1)),onEnter:()=>Y(),onEscape:()=>{_?w(!1):U(-1)},enabled:!0});const Y=()=>{switch(H[A]){case"play":x();break;case"favorite":k();break;case"back":U(-1);break;case"trailer":w(!_);break}};T.useEffect(()=>{O()},[n]),T.useEffect(()=>{C!=null&&C.favorites&&e&&v(C.favorites.some(K=>K.contentId===e.id))},[C==null?void 0:C.favorites,e]);const O=async()=>{try{u(!0),t({id:n,title:"Filme de Ao pico",description:"Uma aventura emocionante que vai te manter na borda do assento. Com efeitos especiais incrveis e uma histria envolvente, este filme combina ao intensa com momentos emocionantes que tocam o corao. A jornada do heri atravs de paisagens deslumbrantes e desafios impossveis criar uma experincia cinematogrfica inesquecvel.",posterUrl:"https://via.placeholder.com/300x450/1a1a1a/ffffff?text=Filme+Detalhes",backdropUrl:"https://via.placeholder.com/1920x1080/2a2a2a/ffffff?text=Banner+Detalhes",trailerUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",type:"movie",genre:["Ao","Aventura","Drama"],rating:8.5,year:2024,duration:120,quality:"4K",director:"Joo Silva",cast:["Maria Santos","Pedro Oliveira","Ana Costa","Carlos Lima"],country:"Brasil",language:"Portugus",ageRating:"14+",releaseDate:"2024-01-15",studio:"IsaacPlay Studios"}),a([{id:"2",title:"Outro Filme pico",posterUrl:"https://via.placeholder.com/300x450/1a1a1a/ffffff?text=Similar+1",type:"movie",rating:8.2,year:2024},{id:"3",title:"Aventura Espacial",posterUrl:"https://via.placeholder.com/300x450/1a1a1a/ffffff?text=Similar+2",type:"movie",rating:8.8,year:2024},{id:"4",title:"Drama Intenso",posterUrl:"https://via.placeholder.com/300x450/1a1a1a/ffffff?text=Similar+3",type:"movie",rating:9.1,year:2023}])}catch(K){console.error("Error loading content details:",K),h("Erro ao carregar detalhes do contedo.")}finally{u(!1)}},x=async()=>{e&&(await N(e.id,e),U(`/watch/${e.id}`))},k=async()=>{if(e){const K=await M(e.id,e);v(K)}},L=K=>{const oe=Math.floor(K/60),$=K%60;return oe>0?`${oe}h ${$}m`:`${$}m`},z=K=>new Date(K).toLocaleDateString("pt-BR");return l?y.jsx(Di,{children:y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:y.jsx("div",{className:"text-white text-xl",children:"Carregando detalhes..."})})}):d||!e?y.jsx(Di,{children:y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-red-400 text-xl mb-4",children:"Contedo no encontrado"}),y.jsx(Fe,{onClick:()=>U(-1),className:"bg-red-600 hover:bg-red-700",children:"Voltar"})]})})}):y.jsx(Di,{children:y.jsxs("div",{className:"min-h-screen bg-black",children:[y.jsxs("div",{className:"relative h-screen",children:[y.jsx("div",{className:"absolute inset-0",children:_&&e.trailerUrl?y.jsxs("div",{className:"relative w-full h-full",children:[y.jsx("video",{src:e.trailerUrl,autoPlay:!0,muted:R,loop:!0,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"}),y.jsxs("div",{className:"absolute top-4 right-4 flex space-x-2",children:[y.jsx(Fe,{onClick:()=>I(!R),variant:"ghost",className:"bg-black/50 text-white hover:bg-black/70",children:R?y.jsx(gA,{className:"h-5 w-5"}):y.jsx(pA,{className:"h-5 w-5"})}),y.jsx(Fe,{onClick:()=>w(!1),variant:"ghost",className:"bg-black/50 text-white hover:bg-black/70",children:""})]})]}):y.jsxs(y.Fragment,{children:[y.jsx("img",{src:e.backdropUrl,alt:e.title,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black via-black/50 to-transparent"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"})]})}),y.jsx("div",{className:"relative z-10 flex items-end h-full px-4 sm:px-6 lg:px-8 pb-20",children:y.jsx("div",{className:"max-w-4xl",children:y.jsxs("div",{className:"flex items-start space-x-8",children:[y.jsx("div",{className:"hidden md:block flex-shrink-0",children:y.jsx("img",{src:e.posterUrl,alt:e.title,className:"w-64 h-96 object-cover rounded-lg shadow-2xl"})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-4",children:e.title}),y.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-white mb-6",children:[e.rating&&y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx(oh,{className:"h-4 w-4 text-yellow-400 fill-current"}),y.jsx("span",{className:"font-semibold",children:e.rating})]}),y.jsx("span",{className:"bg-gray-700 px-2 py-1 rounded text-sm",children:e.ageRating}),y.jsx("span",{children:e.year}),e.duration&&y.jsx("span",{children:L(e.duration)}),y.jsx("span",{className:"bg-red-600 px-2 py-1 rounded text-sm font-semibold",children:e.quality})]}),y.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:(F=e.genre)==null?void 0:F.map((K,oe)=>y.jsx("span",{className:"bg-gray-800 text-gray-300 px-3 py-1 rounded-full text-sm",children:K},oe))}),y.jsx("p",{className:"text-lg text-gray-200 mb-8 leading-relaxed max-w-3xl",children:e.description}),y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsxs(Fe,{onClick:x,"data-focus-index":"0",className:`bg-white text-black hover:bg-gray-200 px-8 py-3 text-lg font-semibold ${A===0?"ring-2 ring-red-600":""}`,children:[y.jsx(zi,{className:"h-5 w-5 mr-2 fill-current"}),"Assistir"]}),y.jsxs(Fe,{onClick:k,"data-focus-index":"1",variant:"outline",className:`border-gray-400 text-white hover:bg-white/10 px-6 py-3 ${A===1?"ring-2 ring-red-600":""}`,children:[p?y.jsx(Lv,{className:"h-5 w-5 mr-2 text-green-400"}):y.jsx(fl,{className:"h-5 w-5 mr-2"}),p?"Favoritado":"Favoritar"]}),e.trailerUrl&&y.jsx(Fe,{onClick:()=>w(!_),"data-focus-index":"3",variant:"ghost",className:`text-white hover:bg-white/20 px-6 py-3 ${A===3?"ring-2 ring-red-600":""}`,children:_?"Fechar Trailer":"Ver Trailer"}),y.jsxs(Fe,{onClick:()=>U(-1),"data-focus-index":"2",variant:"ghost",className:`text-white hover:bg-white/20 px-6 py-3 ${A===2?"ring-2 ring-red-600":""}`,children:[y.jsx(jv,{className:"h-5 w-5 mr-2"}),"Voltar"]})]})]})]})})})]}),y.jsx("div",{className:"bg-black px-4 sm:px-6 lg:px-8 py-12",children:y.jsx("div",{className:"max-w-7xl mx-auto",children:y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[y.jsxs("div",{className:"lg:col-span-2",children:[y.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Detalhes"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-gray-300",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-white font-semibold mb-2",children:"Informaes Gerais"}),y.jsxs("div",{className:"space-y-2",children:[e.director&&y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(LL,{className:"h-4 w-4"}),y.jsxs("span",{children:["Diretor: ",e.director]})]}),e.studio&&y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(gx,{className:"h-4 w-4"}),y.jsxs("span",{children:["Estdio: ",e.studio]})]}),e.releaseDate&&y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(Vv,{className:"h-4 w-4"}),y.jsxs("span",{children:["Lanamento: ",z(e.releaseDate)]})]}),e.country&&y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(gx,{className:"h-4 w-4"}),y.jsxs("span",{children:["Pas: ",e.country]})]}),e.language&&y.jsx("div",{className:"flex items-center space-x-2",children:y.jsxs("span",{children:["Idioma: ",e.language]})})]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-white font-semibold mb-2",children:"Elenco Principal"}),y.jsx("div",{className:"space-y-1",children:(V=e.cast)==null?void 0:V.map((K,oe)=>y.jsx("div",{children:K},oe))})]})]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-white font-semibold mb-4",children:"Contedo Similar"}),y.jsx("div",{className:"space-y-4",children:i.map(K=>y.jsxs("div",{onClick:()=>U(`/details/${K.id}`),className:"flex space-x-3 cursor-pointer hover:bg-gray-900 p-2 rounded-lg transition-colors duration-200",children:[y.jsx("img",{src:K.posterUrl,alt:K.title,className:"w-16 h-24 object-cover rounded"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h4",{className:"text-white font-medium text-sm",children:K.title}),y.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-400 mt-1",children:[y.jsx("span",{children:K.year}),K.rating&&y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx(oh,{className:"h-3 w-3 text-yellow-400 fill-current"}),y.jsx("span",{children:K.rating})]})]})]})]},K.id))})]})]})})}),i.length>0&&y.jsx("div",{className:"bg-black px-4 sm:px-6 lg:px-8 pb-12",children:y.jsx("div",{className:"max-w-7xl mx-auto",children:y.jsx(yA,{title:"Voc tambm pode gostar",items:i,onItemSelect:K=>U(`/details/${K.id}`)})})}),y.jsx("div",{className:"fixed bottom-4 right-4 bg-black/80 text-gray-400 text-sm px-4 py-2 rounded-lg",children:" navegar botes  Enter selecionar  Esc voltar"})]})})},YL="modulepreload",QL=function(n,e){return new URL(n,e).href},_x={},Cn=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){let u=function(v){return Promise.all(v.map(_=>Promise.resolve(_).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};const d=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));a=u(t.map(v=>{if(v=QL(v,i),v in _x)return;_x[v]=!0;const _=v.endsWith(".css"),w=_?'[rel="stylesheet"]':"";if(!!i)for(let A=d.length-1;A>=0;A--){const P=d[A];if(P.href===v&&(!_||P.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${v}"]${w}`))return;const I=document.createElement("link");if(I.rel=_?"stylesheet":YL,_||(I.as="script"),I.crossOrigin="",I.href=v,p&&I.setAttribute("nonce",p),document.head.appendChild(I),_)return new Promise((A,P)=>{I.addEventListener("load",A),I.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return a.then(u=>{for(const d of u||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})};var hg,bx;function XL(){if(bx)return hg;bx=1,hg=function(a,l,u){var d=document.head||document.getElementsByTagName("head")[0],h=document.createElement("script");typeof l=="function"&&(u=l,l={}),l=l||{},u=u||function(){},h.type=l.type||"text/javascript",h.charset=l.charset||"utf8",h.async="async"in l?!!l.async:!0,h.src=a,l.attrs&&n(h,l.attrs),l.text&&(h.text=""+l.text);var p="onload"in h?e:t;p(h,u),h.onload||e(h,u),d.appendChild(h)};function n(i,a){for(var l in a)i.setAttribute(l,a[l])}function e(i,a){i.onload=function(){this.onerror=this.onload=null,a(null,i)},i.onerror=function(){this.onerror=this.onload=null,a(new Error("Failed to load "+this.src),i)}}function t(i,a){i.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,a(null,i))}}return hg}var mg,wx;function vA(){if(wx)return mg;wx=1;var n=function(M){return e(M)&&!t(M)};function e(C){return!!C&&typeof C=="object"}function t(C){var M=Object.prototype.toString.call(C);return M==="[object RegExp]"||M==="[object Date]"||l(C)}var i=typeof Symbol=="function"&&Symbol.for,a=i?Symbol.for("react.element"):60103;function l(C){return C.$$typeof===a}function u(C){return Array.isArray(C)?[]:{}}function d(C,M){return M.clone!==!1&&M.isMergeableObject(C)?A(u(C),C,M):C}function h(C,M,N){return C.concat(M).map(function(U){return d(U,N)})}function p(C,M){if(!M.customMerge)return A;var N=M.customMerge(C);return typeof N=="function"?N:A}function v(C){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(C).filter(function(M){return Object.propertyIsEnumerable.call(C,M)}):[]}function _(C){return Object.keys(C).concat(v(C))}function w(C,M){try{return M in C}catch{return!1}}function R(C,M){return w(C,M)&&!(Object.hasOwnProperty.call(C,M)&&Object.propertyIsEnumerable.call(C,M))}function I(C,M,N){var U={};return N.isMergeableObject(C)&&_(C).forEach(function(H){U[H]=d(C[H],N)}),_(M).forEach(function(H){R(C,H)||(w(C,H)&&N.isMergeableObject(M[H])?U[H]=p(H,N)(C[H],M[H],N):U[H]=d(M[H],N))}),U}function A(C,M,N){N=N||{},N.arrayMerge=N.arrayMerge||h,N.isMergeableObject=N.isMergeableObject||n,N.cloneUnlessOtherwiseSpecified=d;var U=Array.isArray(M),H=Array.isArray(C),Y=U===H;return Y?U?N.arrayMerge(C,M,N):I(C,M,N):d(M,N)}A.all=function(M,N){if(!Array.isArray(M))throw new Error("first argument should be an array");return M.reduce(function(U,H){return A(U,H,N)},{})};var P=A;return mg=P,mg}var pg,Ex;function jh(){if(Ex)return pg;Ex=1;var n=Object.create,e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(se,B)=>{for(var te in B)e(se,te,{get:B[te],enumerable:!0})},d=(se,B,te,ue)=>{if(B&&typeof B=="object"||typeof B=="function")for(let ae of i(B))!l.call(se,ae)&&ae!==te&&e(se,ae,{get:()=>B[ae],enumerable:!(ue=t(B,ae))||ue.enumerable});return se},h=(se,B,te)=>(te=se!=null?n(a(se)):{},d(!se||!se.__esModule?e(te,"default",{value:se,enumerable:!0}):te,se)),p=se=>d(e({},"__esModule",{value:!0}),se),v={};u(v,{callPlayer:()=>K,getConfig:()=>F,getSDK:()=>z,isBlobUrl:()=>$,isMediaStream:()=>oe,lazy:()=>I,omit:()=>V,parseEndTime:()=>Y,parseStartTime:()=>H,queryString:()=>x,randomString:()=>O,supportsWebKitPresentationMode:()=>re}),pg=p(v);var _=h(ml()),w=h(XL()),R=h(vA());const I=se=>_.default.lazy(async()=>{const B=await se();return typeof B.default=="function"?B:B.default}),A=/[?&#](?:start|t)=([0-9hms]+)/,P=/[?&#]end=([0-9hms]+)/,C=/(\d+)(h|m|s)/g,M=/^\d+$/;function N(se,B){if(se instanceof Array)return;const te=se.match(B);if(te){const ue=te[1];if(ue.match(C))return U(ue);if(M.test(ue))return parseInt(ue)}}function U(se){let B=0,te=C.exec(se);for(;te!==null;){const[,ue,ae]=te;ae==="h"&&(B+=parseInt(ue,10)*60*60),ae==="m"&&(B+=parseInt(ue,10)*60),ae==="s"&&(B+=parseInt(ue,10)),te=C.exec(se)}return B}function H(se){return N(se,A)}function Y(se){return N(se,P)}function O(){return Math.random().toString(36).substr(2,5)}function x(se){return Object.keys(se).map(B=>`${B}=${se[B]}`).join("&")}function k(se){return window[se]?window[se]:window.exports&&window.exports[se]?window.exports[se]:window.module&&window.module.exports&&window.module.exports[se]?window.module.exports[se]:null}const L={},z=function(B,te,ue=null,ae=()=>!0,pe=w.default){const Se=k(te);return Se&&ae(Se)?Promise.resolve(Se):new Promise((xe,me)=>{if(L[B]){L[B].push({resolve:xe,reject:me});return}L[B]=[{resolve:xe,reject:me}];const ve=Le=>{L[B].forEach(ke=>ke.resolve(Le))};if(ue){const Le=window[ue];window[ue]=function(){Le&&Le(),ve(k(te))}}pe(B,Le=>{Le?(L[B].forEach(ke=>ke.reject(Le)),L[B]=null):ue||ve(k(te))})})};function F(se,B){return(0,R.default)(B.config,se.config)}function V(se,...B){const te=[].concat(...B),ue={},ae=Object.keys(se);for(const pe of ae)te.indexOf(pe)===-1&&(ue[pe]=se[pe]);return ue}function K(se,...B){if(!this.player||!this.player[se]){let te=`ReactPlayer: ${this.constructor.displayName} player could not call %c${se}%c  `;return this.player?this.player[se]||(te+="The method was not available"):te+="The player was not available",console.warn(te,"font-weight: bold",""),null}return this.player[se](...B)}function oe(se){return typeof window<"u"&&typeof window.MediaStream<"u"&&se instanceof window.MediaStream}function $(se){return/^blob:/.test(se)}function re(se=document.createElement("video")){const B=/iPhone|iPod/.test(navigator.userAgent)===!1;return se.webkitSupportsPresentationMode&&typeof se.webkitSetPresentationMode=="function"&&B}function X(se){return se}return pg}var gg,xx;function WL(){if(xx)return gg;xx=1;var n=Object.defineProperty,e=Object.getOwnPropertyDescriptor,t=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,a=(K,oe)=>{for(var $ in oe)n(K,$,{get:oe[$],enumerable:!0})},l=(K,oe,$,re)=>{if(oe&&typeof oe=="object"||typeof oe=="function")for(let X of t(oe))!i.call(K,X)&&X!==$&&n(K,X,{get:()=>oe[X],enumerable:!(re=e(oe,X))||re.enumerable});return K},u=K=>l(n({},"__esModule",{value:!0}),K),d={};a(d,{AUDIO_EXTENSIONS:()=>O,DASH_EXTENSIONS:()=>L,FLV_EXTENSIONS:()=>z,HLS_EXTENSIONS:()=>k,MATCH_URL_DAILYMOTION:()=>N,MATCH_URL_FACEBOOK:()=>R,MATCH_URL_FACEBOOK_WATCH:()=>I,MATCH_URL_KALTURA:()=>Y,MATCH_URL_MIXCLOUD:()=>U,MATCH_URL_MUX:()=>w,MATCH_URL_SOUNDCLOUD:()=>v,MATCH_URL_STREAMABLE:()=>A,MATCH_URL_TWITCH_CHANNEL:()=>M,MATCH_URL_TWITCH_VIDEO:()=>C,MATCH_URL_VIDYARD:()=>H,MATCH_URL_VIMEO:()=>_,MATCH_URL_WISTIA:()=>P,MATCH_URL_YOUTUBE:()=>p,VIDEO_EXTENSIONS:()=>x,canPlay:()=>V}),gg=u(d);var h=jh();const p=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,v=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,_=/vimeo\.com\/(?!progressive_redirect).+/,w=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,R=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,I=/^https?:\/\/fb\.watch\/.+$/,A=/streamable\.com\/([a-z0-9]+)$/,P=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,C=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,M=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,N=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,U=/mixcloud\.com\/([^/]+\/[^/]+)/,H=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,Y=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,O=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,x=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,k=/\.(m3u8)($|\?)/i,L=/\.(mpd)($|\?)/i,z=/\.(flv)($|\?)/i,F=K=>{if(K instanceof Array){for(const oe of K)if(typeof oe=="string"&&F(oe)||F(oe.src))return!0;return!1}return(0,h.isMediaStream)(K)||(0,h.isBlobUrl)(K)?!0:O.test(K)||x.test(K)||k.test(K)||L.test(K)||z.test(K)},V={youtube:K=>K instanceof Array?K.every(oe=>p.test(oe)):p.test(K),soundcloud:K=>v.test(K)&&!O.test(K),vimeo:K=>_.test(K)&&!x.test(K)&&!k.test(K),mux:K=>w.test(K),facebook:K=>R.test(K)||I.test(K),streamable:K=>A.test(K),wistia:K=>P.test(K),twitch:K=>C.test(K)||M.test(K),dailymotion:K=>N.test(K),mixcloud:K=>U.test(K),vidyard:K=>H.test(K),kaltura:K=>Y.test(K),file:F};return gg}var yg,Tx;function ZL(){if(Tx)return yg;Tx=1;var n=Object.defineProperty,e=Object.getOwnPropertyDescriptor,t=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,a=(_,w)=>{for(var R in w)n(_,R,{get:w[R],enumerable:!0})},l=(_,w,R,I)=>{if(w&&typeof w=="object"||typeof w=="function")for(let A of t(w))!i.call(_,A)&&A!==R&&n(_,A,{get:()=>w[A],enumerable:!(I=e(w,A))||I.enumerable});return _},u=_=>l(n({},"__esModule",{value:!0}),_),d={};a(d,{default:()=>v}),yg=u(d);var h=jh(),p=WL(),v=[{key:"youtube",name:"YouTube",canPlay:p.canPlay.youtube,lazyPlayer:(0,h.lazy)(()=>Cn(()=>import("./YouTube-B-5C32A4.js").then(_=>_.Y),[],import.meta.url))},{key:"soundcloud",name:"SoundCloud",canPlay:p.canPlay.soundcloud,lazyPlayer:(0,h.lazy)(()=>Cn(()=>import("./SoundCloud-Bd1Q8UyV.js").then(_=>_.S),[],import.meta.url))},{key:"vimeo",name:"Vimeo",canPlay:p.canPlay.vimeo,lazyPlayer:(0,h.lazy)(()=>Cn(()=>import("./Vimeo-CziF6Cbq.js").then(_=>_.V),[],import.meta.url))},{key:"mux",name:"Mux",canPlay:p.canPlay.mux,lazyPlayer:(0,h.lazy)(()=>Cn(()=>import("./Mux-Cc-NH_ZG.js").then(_=>_.M),[],import.meta.url))},{key:"facebook",name:"Facebook",canPlay:p.canPlay.facebook,lazyPlayer:(0,h.lazy)(()=>Cn(()=>import("./Facebook-lLB9Kb1C.js").then(_=>_.F),[],import.meta.url))},{key:"streamable",name:"Streamable",canPlay:p.canPlay.streamable,lazyPlayer:(0,h.lazy)(()=>Cn(()=>import("./Streamable-CNYab378.js").then(_=>_.S),[],import.meta.url))},{key:"wistia",name:"Wistia",canPlay:p.canPlay.wistia,lazyPlayer:(0,h.lazy)(()=>Cn(()=>import("./Wistia-gcAbLwvM.js").then(_=>_.W),[],import.meta.url))},{key:"twitch",name:"Twitch",canPlay:p.canPlay.twitch,lazyPlayer:(0,h.lazy)(()=>Cn(()=>import("./Twitch-no9hYWrk.js").then(_=>_.T),[],import.meta.url))},{key:"dailymotion",name:"DailyMotion",canPlay:p.canPlay.dailymotion,lazyPlayer:(0,h.lazy)(()=>Cn(()=>import("./DailyMotion-DeUGjAK8.js").then(_=>_.D),[],import.meta.url))},{key:"mixcloud",name:"Mixcloud",canPlay:p.canPlay.mixcloud,lazyPlayer:(0,h.lazy)(()=>Cn(()=>import("./Mixcloud-CKEzE7Ic.js").then(_=>_.M),[],import.meta.url))},{key:"vidyard",name:"Vidyard",canPlay:p.canPlay.vidyard,lazyPlayer:(0,h.lazy)(()=>Cn(()=>import("./Vidyard-BdQ4kqW9.js").then(_=>_.V),[],import.meta.url))},{key:"kaltura",name:"Kaltura",canPlay:p.canPlay.kaltura,lazyPlayer:(0,h.lazy)(()=>Cn(()=>import("./Kaltura-D4W2VZ3Z.js").then(_=>_.K),[],import.meta.url))},{key:"file",name:"FilePlayer",canPlay:p.canPlay.file,canEnablePIP:_=>p.canPlay.file(_)&&(document.pictureInPictureEnabled||(0,h.supportsWebKitPresentationMode)())&&!p.AUDIO_EXTENSIONS.test(_),lazyPlayer:(0,h.lazy)(()=>Cn(()=>import("./FilePlayer-DtyPMDI9.js").then(_=>_.F),[],import.meta.url))}];return yg}var Sx=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function JL(n,e){return!!(n===e||Sx(n)&&Sx(e))}function e6(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!JL(n[t],e[t]))return!1;return!0}function t6(n,e){e===void 0&&(e=e6);var t,i=[],a,l=!1;function u(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];return l&&t===this&&e(d,i)||(a=n.apply(this,d),l=!0,t=this,i=d),a}return u}const n6=Object.freeze(Object.defineProperty({__proto__:null,default:t6},Symbol.toStringTag,{value:"Module"})),r6=vI(n6);var vg,Ax;function _A(){if(Ax)return vg;Ax=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",i=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function a(l,u){if(l===u)return!0;if(l&&u&&typeof l=="object"&&typeof u=="object"){if(l.constructor!==u.constructor)return!1;var d,h,p;if(Array.isArray(l)){if(d=l.length,d!=u.length)return!1;for(h=d;h--!==0;)if(!a(l[h],u[h]))return!1;return!0}var v;if(e&&l instanceof Map&&u instanceof Map){if(l.size!==u.size)return!1;for(v=l.entries();!(h=v.next()).done;)if(!u.has(h.value[0]))return!1;for(v=l.entries();!(h=v.next()).done;)if(!a(h.value[1],u.get(h.value[0])))return!1;return!0}if(t&&l instanceof Set&&u instanceof Set){if(l.size!==u.size)return!1;for(v=l.entries();!(h=v.next()).done;)if(!u.has(h.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(l)&&ArrayBuffer.isView(u)){if(d=l.length,d!=u.length)return!1;for(h=d;h--!==0;)if(l[h]!==u[h])return!1;return!0}if(l.constructor===RegExp)return l.source===u.source&&l.flags===u.flags;if(l.valueOf!==Object.prototype.valueOf&&typeof l.valueOf=="function"&&typeof u.valueOf=="function")return l.valueOf()===u.valueOf();if(l.toString!==Object.prototype.toString&&typeof l.toString=="function"&&typeof u.toString=="function")return l.toString()===u.toString();if(p=Object.keys(l),d=p.length,d!==Object.keys(u).length)return!1;for(h=d;h--!==0;)if(!Object.prototype.hasOwnProperty.call(u,p[h]))return!1;if(n&&l instanceof Element)return!1;for(h=d;h--!==0;)if(!((p[h]==="_owner"||p[h]==="__v"||p[h]==="__o")&&l.$$typeof)&&!a(l[p[h]],u[p[h]]))return!1;return!0}return l!==l&&u!==u}return vg=function(u,d){try{return a(u,d)}catch(h){if((h.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw h}},vg}var _g={exports:{}},bg,Rx;function i6(){if(Rx)return bg;Rx=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return bg=n,bg}var wg,Cx;function s6(){if(Cx)return wg;Cx=1;var n=i6();function e(){}function t(){}return t.resetWarningCache=e,wg=function(){function i(u,d,h,p,v,_){if(_!==n){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}i.isRequired=i;function a(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},wg}var Ix;function a6(){return Ix||(Ix=1,_g.exports=s6()()),_g.exports}var Eg,Nx;function bA(){if(Nx)return Eg;Nx=1;var n=Object.create,e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(x,k)=>{for(var L in k)e(x,L,{get:k[L],enumerable:!0})},d=(x,k,L,z)=>{if(k&&typeof k=="object"||typeof k=="function")for(let F of i(k))!l.call(x,F)&&F!==L&&e(x,F,{get:()=>k[F],enumerable:!(z=t(k,F))||z.enumerable});return x},h=(x,k,L)=>(L=x!=null?n(a(x)):{},d(!x||!x.__esModule?e(L,"default",{value:x,enumerable:!0}):L,x)),p=x=>d(e({},"__esModule",{value:!0}),x),v={};u(v,{defaultProps:()=>O,propTypes:()=>H}),Eg=p(v);var _=h(a6());const{string:w,bool:R,number:I,array:A,oneOfType:P,shape:C,object:M,func:N,node:U}=_.default,H={url:P([w,A,M]),playing:R,loop:R,controls:R,volume:I,muted:R,playbackRate:I,width:P([w,I]),height:P([w,I]),style:M,progressInterval:I,playsinline:R,pip:R,stopOnUnmount:R,light:P([R,w,M]),playIcon:U,previewTabIndex:I,previewAriaLabel:w,fallback:U,oEmbedUrl:w,wrapper:P([w,N,C({render:N.isRequired})]),config:C({soundcloud:C({options:M}),youtube:C({playerVars:M,embedOptions:M,onUnstarted:N}),facebook:C({appId:w,version:w,playerId:w,attributes:M}),dailymotion:C({params:M}),vimeo:C({playerOptions:M,title:w}),mux:C({attributes:M,version:w}),file:C({attributes:M,tracks:A,forceVideo:R,forceAudio:R,forceHLS:R,forceSafariHLS:R,forceDisableHls:R,forceDASH:R,forceFLV:R,hlsOptions:M,hlsVersion:w,dashVersion:w,flvVersion:w}),wistia:C({options:M,playerId:w,customControls:A}),mixcloud:C({options:M}),twitch:C({options:M,playerId:w}),vidyard:C({options:M})}),onReady:N,onStart:N,onPlay:N,onPause:N,onBuffer:N,onBufferEnd:N,onEnded:N,onError:N,onDuration:N,onSeek:N,onPlaybackRateChange:N,onPlaybackQualityChange:N,onProgress:N,onClickPreview:N,onEnablePIP:N,onDisablePIP:N},Y=()=>{},O={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:Y},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:Y,onStart:Y,onPlay:Y,onPause:Y,onBuffer:Y,onBufferEnd:Y,onEnded:Y,onError:Y,onDuration:Y,onSeek:Y,onPlaybackRateChange:Y,onPlaybackQualityChange:Y,onProgress:Y,onClickPreview:Y,onEnablePIP:Y,onDisablePIP:Y};return Eg}var xg,Px;function o6(){if(Px)return xg;Px=1;var n=Object.create,e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(N,U,H)=>U in N?e(N,U,{enumerable:!0,configurable:!0,writable:!0,value:H}):N[U]=H,d=(N,U)=>{for(var H in U)e(N,H,{get:U[H],enumerable:!0})},h=(N,U,H,Y)=>{if(U&&typeof U=="object"||typeof U=="function")for(let O of i(U))!l.call(N,O)&&O!==H&&e(N,O,{get:()=>U[O],enumerable:!(Y=t(U,O))||Y.enumerable});return N},p=(N,U,H)=>(H=N!=null?n(a(N)):{},h(!N||!N.__esModule?e(H,"default",{value:N,enumerable:!0}):H,N)),v=N=>h(e({},"__esModule",{value:!0}),N),_=(N,U,H)=>(u(N,typeof U!="symbol"?U+"":U,H),H),w={};d(w,{default:()=>M}),xg=v(w);var R=p(ml()),I=p(_A()),A=bA(),P=jh();const C=5e3;class M extends R.Component{constructor(){super(...arguments),_(this,"mounted",!1),_(this,"isReady",!1),_(this,"isPlaying",!1),_(this,"isLoading",!0),_(this,"loadOnReady",null),_(this,"startOnPlay",!0),_(this,"seekOnPlay",null),_(this,"onDurationCalled",!1),_(this,"handlePlayerMount",U=>{if(this.player){this.progress();return}this.player=U,this.player.load(this.props.url),this.progress()}),_(this,"getInternalPlayer",U=>this.player?this.player[U]:null),_(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const U=this.getCurrentTime()||0,H=this.getSecondsLoaded(),Y=this.getDuration();if(Y){const O={playedSeconds:U,played:U/Y};H!==null&&(O.loadedSeconds=H,O.loaded=H/Y),(O.playedSeconds!==this.prevPlayed||O.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(O),this.prevPlayed=O.playedSeconds,this.prevLoaded=O.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),_(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:U,playing:H,volume:Y,muted:O}=this.props;U(),!O&&Y!==null&&this.player.setVolume(Y),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):H&&this.player.play(),this.handleDurationCheck()}),_(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:U,onPlay:H,playbackRate:Y}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&Y!==1&&this.player.setPlaybackRate(Y),U(),this.startOnPlay=!1),H(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),_(this,"handlePause",U=>{this.isPlaying=!1,this.isLoading||this.props.onPause(U)}),_(this,"handleEnded",()=>{const{activePlayer:U,loop:H,onEnded:Y}=this.props;U.loopOnEnded&&H&&this.seekTo(0),H||(this.isPlaying=!1,Y())}),_(this,"handleError",(...U)=>{this.isLoading=!1,this.props.onError(...U)}),_(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const U=this.getDuration();U?this.onDurationCalled||(this.props.onDuration(U),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),_(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(U){if(!this.player)return;const{url:H,playing:Y,volume:O,muted:x,playbackRate:k,pip:L,loop:z,activePlayer:F,disableDeferredLoading:V}=this.props;if(!(0,I.default)(U.url,H)){if(this.isLoading&&!F.forceLoad&&!V&&!(0,P.isMediaStream)(H)){console.warn(`ReactPlayer: the attempt to load ${H} is being deferred until the player has loaded`),this.loadOnReady=H;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(H,this.isReady)}!U.playing&&Y&&!this.isPlaying&&this.player.play(),U.playing&&!Y&&this.isPlaying&&this.player.pause(),!U.pip&&L&&this.player.enablePIP&&this.player.enablePIP(),U.pip&&!L&&this.player.disablePIP&&this.player.disablePIP(),U.volume!==O&&O!==null&&this.player.setVolume(O),U.muted!==x&&(x?this.player.mute():(this.player.unmute(),O!==null&&setTimeout(()=>this.player.setVolume(O)))),U.playbackRate!==k&&this.player.setPlaybackRate&&this.player.setPlaybackRate(k),U.loop!==z&&this.player.setLoop&&this.player.setLoop(z)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(U,H,Y){if(!this.isReady){U!==0&&(this.seekOnPlay=U,setTimeout(()=>{this.seekOnPlay=null},C));return}if(H?H==="fraction":U>0&&U<1){const x=this.player.getDuration();if(!x){console.warn("ReactPlayer: could not seek using fraction duration not yet available");return}this.player.seekTo(x*U,Y);return}this.player.seekTo(U,Y)}render(){const U=this.props.activePlayer;return U?R.default.createElement(U,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}return _(M,"displayName","Player"),_(M,"propTypes",A.propTypes),_(M,"defaultProps",A.defaultProps),xg}var Tg,Ox;function l6(){if(Ox)return Tg;Ox=1;var n=Object.create,e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(z,F,V)=>F in z?e(z,F,{enumerable:!0,configurable:!0,writable:!0,value:V}):z[F]=V,d=(z,F)=>{for(var V in F)e(z,V,{get:F[V],enumerable:!0})},h=(z,F,V,K)=>{if(F&&typeof F=="object"||typeof F=="function")for(let oe of i(F))!l.call(z,oe)&&oe!==V&&e(z,oe,{get:()=>F[oe],enumerable:!(K=t(F,oe))||K.enumerable});return z},p=(z,F,V)=>(V=z!=null?n(a(z)):{},h(!z||!z.__esModule?e(V,"default",{value:z,enumerable:!0}):V,z)),v=z=>h(e({},"__esModule",{value:!0}),z),_=(z,F,V)=>(u(z,typeof F!="symbol"?F+"":F,V),V),w={};d(w,{createReactPlayer:()=>L}),Tg=v(w);var R=p(ml()),I=p(vA()),A=p(r6),P=p(_A()),C=bA(),M=jh(),N=p(o6());const U=(0,M.lazy)(()=>Cn(()=>import("./Preview-BmrbtGHq.js").then(z=>z.P),[],import.meta.url)),H=typeof window<"u"&&window.document&&typeof document<"u",Y=typeof qp<"u"&&qp.window&&qp.window.document,O=Object.keys(C.propTypes),x=H||Y?R.Suspense:()=>null,k=[],L=(z,F)=>{var V;return V=class extends R.Component{constructor(){super(...arguments),_(this,"state",{showPreview:!!this.props.light}),_(this,"references",{wrapper:K=>{this.wrapper=K},player:K=>{this.player=K}}),_(this,"handleClickPreview",K=>{this.setState({showPreview:!1}),this.props.onClickPreview(K)}),_(this,"showPreview",()=>{this.setState({showPreview:!0})}),_(this,"getDuration",()=>this.player?this.player.getDuration():null),_(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),_(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),_(this,"getInternalPlayer",(K="player")=>this.player?this.player.getInternalPlayer(K):null),_(this,"seekTo",(K,oe,$)=>{if(!this.player)return null;this.player.seekTo(K,oe,$)}),_(this,"handleReady",()=>{this.props.onReady(this)}),_(this,"getActivePlayer",(0,A.default)(K=>{for(const oe of[...k,...z])if(oe.canPlay(K))return oe;return F||null})),_(this,"getConfig",(0,A.default)((K,oe)=>{const{config:$}=this.props;return I.default.all([C.defaultProps.config,C.defaultProps.config[oe]||{},$,$[oe]||{}])})),_(this,"getAttributes",(0,A.default)(K=>(0,M.omit)(this.props,O))),_(this,"renderActivePlayer",K=>{if(!K)return null;const oe=this.getActivePlayer(K);if(!oe)return null;const $=this.getConfig(K,oe.key);return R.default.createElement(N.default,{...this.props,key:oe.key,ref:this.references.player,config:$,activePlayer:oe.lazyPlayer||oe,onReady:this.handleReady})})}shouldComponentUpdate(K,oe){return!(0,P.default)(this.props,K)||!(0,P.default)(this.state,oe)}componentDidUpdate(K){const{light:oe}=this.props;!K.light&&oe&&this.setState({showPreview:!0}),K.light&&!oe&&this.setState({showPreview:!1})}renderPreview(K){if(!K)return null;const{light:oe,playIcon:$,previewTabIndex:re,oEmbedUrl:X,previewAriaLabel:se}=this.props;return R.default.createElement(U,{url:K,light:oe,playIcon:$,previewTabIndex:re,previewAriaLabel:se,oEmbedUrl:X,onClick:this.handleClickPreview})}render(){const{url:K,style:oe,width:$,height:re,fallback:X,wrapper:se}=this.props,{showPreview:B}=this.state,te=this.getAttributes(K),ue=typeof se=="string"?this.references.wrapper:void 0;return R.default.createElement(se,{ref:ue,style:{...oe,width:$,height:re},...te},R.default.createElement(x,{fallback:X},B?this.renderPreview(K):this.renderActivePlayer(K)))}},_(V,"displayName","ReactPlayer"),_(V,"propTypes",C.propTypes),_(V,"defaultProps",C.defaultProps),_(V,"addCustomPlayer",K=>{k.push(K)}),_(V,"removeCustomPlayers",()=>{k.length=0}),_(V,"canPlay",K=>{for(const oe of[...k,...z])if(oe.canPlay(K))return!0;return!1}),_(V,"canEnablePIP",K=>{for(const oe of[...k,...z])if(oe.canEnablePIP&&oe.canEnablePIP(K))return!0;return!1}),V};return Tg}var Sg,kx;function c6(){if(kx)return Sg;kx=1;var n=Object.create,e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(A,P)=>{for(var C in P)e(A,C,{get:P[C],enumerable:!0})},d=(A,P,C,M)=>{if(P&&typeof P=="object"||typeof P=="function")for(let N of i(P))!l.call(A,N)&&N!==C&&e(A,N,{get:()=>P[N],enumerable:!(M=t(P,N))||M.enumerable});return A},h=(A,P,C)=>(C=A!=null?n(a(A)):{},d(!A||!A.__esModule?e(C,"default",{value:A,enumerable:!0}):C,A)),p=A=>d(e({},"__esModule",{value:!0}),A),v={};u(v,{default:()=>I}),Sg=p(v);var _=h(ZL()),w=l6();const R=_.default[_.default.length-1];var I=(0,w.createReactPlayer)(_.default,R);return Sg}var u6=c6();const d6=Ny(u6),f6=()=>{const{id:n}=uT(),[e,t]=T.useState(null),[i,a]=T.useState(!0),[l,u]=T.useState(""),[d,h]=T.useState(!1),[p,v]=T.useState(0),[_,w]=T.useState(0),[R,I]=T.useState(.8),[A,P]=T.useState(!1),[C,M]=T.useState(!1),[N,U]=T.useState(!0),[H,Y]=T.useState(!1),[O,x]=T.useState(1),[k,L]=T.useState("auto"),[z,F]=T.useState(!1),[V,K]=T.useState(!1),[oe,$]=T.useState(0),[re,X]=T.useState(null),se=T.useRef(null),B=T.useRef(null),{currentProfile:te,updateContinueWatching:ue}=rr(),ae=Wr(),pe=["play","backward","forward","volume","settings","fullscreen","back"];ei({onArrowLeft:()=>{V||($(Ae=>Math.max(0,Ae-1)),me())},onArrowRight:()=>{V||($(Ae=>Math.min(pe.length-1,Ae+1)),me())},onArrowUp:()=>{V||(I(Ae=>Math.min(1,Ae+.1)),me())},onArrowDown:()=>{V||(I(Ae=>Math.max(0,Ae-.1)),me())},onEnter:()=>{V||(Se(),me())},onEscape:()=>{V?K(!1):C?Ve():pt()},enabled:!0});const Se=()=>{switch(pe[oe]){case"play":h(!d);break;case"backward":ve(Math.max(0,p-10/_));break;case"forward":ve(Math.min(1,p+10/_));break;case"volume":P(!A);break;case"settings":K(!V);break;case"fullscreen":De();break;case"back":pt();break}};T.useEffect(()=>{xe();const Ae=bt=>{if(bt.target.tagName!=="INPUT"){switch(bt.key){case" ":bt.preventDefault(),h(!d);break;case"m":P(!A);break;case"f":De();break;case"ArrowLeft":bt.preventDefault(),ve(Math.max(0,p-10/_));break;case"ArrowRight":bt.preventDefault(),ve(Math.min(1,p+10/_));break}me()}};return document.addEventListener("keydown",Ae),()=>document.removeEventListener("keydown",Ae)},[d,A,p,_]),T.useEffect(()=>{if(d&&N){const Ae=setTimeout(()=>{U(!1)},3e3);return X(Ae),()=>clearTimeout(Ae)}},[d,N]);const xe=async()=>{try{if(a(!0),t({id:n,title:"Filme de Ao pico",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",subtitleUrl:"",type:"movie",duration:120,currentTime:0}),te!=null&&te.continueWatching){const bt=te.continueWatching.find(wt=>wt.contentId===n);bt&&v(bt.currentTime/bt.duration)}}catch(Ae){console.error("Error loading content:",Ae),u("Erro ao carregar vdeo.")}finally{a(!1)}},me=()=>{U(!0),re&&clearTimeout(re)},ve=Ae=>{se.current&&(se.current.seekTo(Ae),v(Ae))},Le=Ae=>{v(Ae.played),e&&Ae.playedSeconds%30<1&&ue(e.id,e,Ae.playedSeconds,_)},ke=Ae=>{w(Ae)},De=()=>{C?document.exitFullscreen&&document.exitFullscreen():B.current.requestFullscreen&&B.current.requestFullscreen()},Ve=()=>{document.exitFullscreen&&document.exitFullscreen()},pt=()=>{e&&_>0&&ue(e.id,e,p*_,_),ae(-1)},Rt=Ae=>{const bt=Math.floor(Ae/3600),wt=Math.floor(Ae%3600/60),qi=Math.floor(Ae%60);return bt>0?`${bt}:${wt.toString().padStart(2,"0")}:${qi.toString().padStart(2,"0")}`:`${wt}:${qi.toString().padStart(2,"0")}`};return T.useEffect(()=>{const Ae=()=>{M(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",Ae),()=>document.removeEventListener("fullscreenchange",Ae)},[]),i?y.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:y.jsx("div",{className:"text-white text-xl",children:"Carregando vdeo..."})}):l||!e?y.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-red-400 text-xl mb-4",children:"Erro ao carregar vdeo"}),y.jsx("p",{className:"text-gray-400 mb-4",children:l}),y.jsx(Fe,{onClick:()=>ae(-1),className:"bg-red-600 hover:bg-red-700",children:"Voltar"})]})}):y.jsx("div",{ref:B,className:`relative bg-black ${C?"h-screen":"min-h-screen"}`,onMouseMove:me,onClick:me,children:y.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[y.jsx(d6,{ref:se,url:e.videoUrl,playing:d,volume:R,muted:A,playbackRate:O,width:"100%",height:C?"100%":"100vh",onProgress:Le,onDuration:ke,onBuffer:()=>Y(!0),onBufferEnd:()=>Y(!1),onEnded:()=>{h(!1),ue(e.id,e,_,_),ae(-1)},config:{file:{attributes:{crossOrigin:"anonymous"}}}}),H&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50",children:y.jsx("div",{className:"w-12 h-12 border-4 border-red-600 border-t-transparent rounded-full animate-spin"})}),y.jsxs("div",{className:`absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-black/50 transition-opacity duration-300 ${N?"opacity-100":"opacity-0"}`,children:[y.jsx("div",{className:"absolute top-0 left-0 right-0 p-6",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs(Fe,{onClick:pt,variant:"ghost",className:"text-white hover:bg-white/20","data-focus-index":"6",children:[y.jsx(jv,{className:"h-6 w-6 mr-2"}),"Voltar"]}),y.jsx("h1",{className:"text-white text-xl font-semibold",children:e.title}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(Fe,{onClick:()=>F(!z),variant:"ghost",className:"text-white hover:bg-white/20",children:y.jsx(QV,{className:"h-6 w-6"})}),y.jsx(Fe,{onClick:()=>K(!V),variant:"ghost",className:`text-white hover:bg-white/20 ${oe===4?"ring-2 ring-red-600":""}`,"data-focus-index":"4",children:y.jsx(vy,{className:"h-6 w-6"})})]})]})}),!d&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:y.jsx(Fe,{onClick:()=>h(!0),className:"bg-white/20 hover:bg-white/30 text-white rounded-full p-6",children:y.jsx(zi,{className:"h-12 w-12 fill-current"})})}),y.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:[y.jsxs("div",{className:"mb-4",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"w-full h-1 bg-gray-600 rounded-full",children:y.jsx("div",{className:"h-full bg-red-600 rounded-full transition-all duration-200",style:{width:`${p*100}%`}})}),y.jsx("input",{type:"range",min:0,max:1,step:.001,value:p,onChange:Ae=>ve(parseFloat(Ae.target.value)),className:"absolute inset-0 w-full h-4 opacity-0 cursor-pointer"})]}),y.jsxs("div",{className:"flex justify-between text-white text-sm mt-2",children:[y.jsx("span",{children:Rt(p*_)}),y.jsx("span",{children:Rt(_)})]})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx(Fe,{onClick:()=>h(!d),variant:"ghost",className:`text-white hover:bg-white/20 ${oe===0?"ring-2 ring-red-600":""}`,"data-focus-index":"0",children:d?y.jsx(bL,{className:"h-8 w-8"}):y.jsx(zi,{className:"h-8 w-8 fill-current"})}),y.jsx(Fe,{onClick:()=>ve(Math.max(0,p-10/_)),variant:"ghost",className:`text-white hover:bg-white/20 ${oe===1?"ring-2 ring-red-600":""}`,"data-focus-index":"1",children:y.jsx(NL,{className:"h-6 w-6"})}),y.jsx(Fe,{onClick:()=>ve(Math.min(1,p+10/_)),variant:"ghost",className:`text-white hover:bg-white/20 ${oe===2?"ring-2 ring-red-600":""}`,"data-focus-index":"2",children:y.jsx(OL,{className:"h-6 w-6"})}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(Fe,{onClick:()=>P(!A),variant:"ghost",className:`text-white hover:bg-white/20 ${oe===3?"ring-2 ring-red-600":""}`,"data-focus-index":"3",children:A||R===0?y.jsx(gA,{className:"h-6 w-6"}):y.jsx(pA,{className:"h-6 w-6"})}),y.jsx("input",{type:"range",min:0,max:1,step:.1,value:A?0:R,onChange:Ae=>{I(parseFloat(Ae.target.value)),P(!1)},className:"w-20 h-1 bg-gray-600 rounded-full appearance-none slider"})]})]}),y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsxs("select",{value:O,onChange:Ae=>x(parseFloat(Ae.target.value)),className:"bg-transparent text-white border border-gray-600 rounded px-2 py-1 text-sm",children:[y.jsx("option",{value:.5,children:"0.5x"}),y.jsx("option",{value:.75,children:"0.75x"}),y.jsx("option",{value:1,children:"1x"}),y.jsx("option",{value:1.25,children:"1.25x"}),y.jsx("option",{value:1.5,children:"1.5x"}),y.jsx("option",{value:2,children:"2x"})]}),y.jsx(Fe,{onClick:De,variant:"ghost",className:`text-white hover:bg-white/20 ${oe===5?"ring-2 ring-red-600":""}`,"data-focus-index":"5",children:C?y.jsx(vL,{className:"h-6 w-6"}):y.jsx(gL,{className:"h-6 w-6"})})]})]})]})]}),V&&y.jsxs("div",{className:"absolute top-20 right-6 bg-black/90 rounded-lg p-6 min-w-64",children:[y.jsx("h3",{className:"text-white font-semibold mb-4",children:"Configuraes"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-300 text-sm",children:"Qualidade"}),y.jsxs("select",{value:k,onChange:Ae=>L(Ae.target.value),className:"w-full bg-gray-800 text-white border border-gray-600 rounded px-3 py-2 mt-1",children:[y.jsx("option",{value:"auto",children:"Automtica"}),y.jsx("option",{value:"1080p",children:"1080p"}),y.jsx("option",{value:"720p",children:"720p"}),y.jsx("option",{value:"480p",children:"480p"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-300 text-sm",children:"Velocidade"}),y.jsxs("select",{value:O,onChange:Ae=>x(parseFloat(Ae.target.value)),className:"w-full bg-gray-800 text-white border border-gray-600 rounded px-3 py-2 mt-1",children:[y.jsx("option",{value:.5,children:"0.5x"}),y.jsx("option",{value:.75,children:"0.75x"}),y.jsx("option",{value:1,children:"Normal"}),y.jsx("option",{value:1.25,children:"1.25x"}),y.jsx("option",{value:1.5,children:"1.5x"}),y.jsx("option",{value:2,children:"2x"})]})]})]})]}),N&&y.jsx("div",{className:"absolute bottom-20 left-6 bg-black/80 text-gray-400 text-sm px-4 py-2 rounded-lg",children:y.jsx("div",{children:"Espao: Play/Pause  : Pular 10s  : Volume  F: Tela cheia  M: Mudo"})})]})})};function h6({className:n,...e}){return y.jsx("textarea",{"data-slot":"textarea",className:Ut("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}function Dx(n,[e,t]){return Math.min(t,Math.max(e,n))}function ot(n,e,{checkForDefaultPrevented:t=!0}={}){return function(a){if(n==null||n(a),t===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function Nu(n,e=[]){let t=[];function i(l,u){const d=T.createContext(u),h=t.length;t=[...t,u];const p=_=>{var C;const{scope:w,children:R,...I}=_,A=((C=w==null?void 0:w[n])==null?void 0:C[h])||d,P=T.useMemo(()=>I,Object.values(I));return y.jsx(A.Provider,{value:P,children:R})};p.displayName=l+"Provider";function v(_,w){var A;const R=((A=w==null?void 0:w[n])==null?void 0:A[h])||d,I=T.useContext(R);if(I)return I;if(u!==void 0)return u;throw new Error(`\`${_}\` must be used within \`${l}\``)}return[p,v]}const a=()=>{const l=t.map(u=>T.createContext(u));return function(d){const h=(d==null?void 0:d[n])||l;return T.useMemo(()=>({[`__scope${n}`]:{...d,[n]:h}}),[d,h])}};return a.scopeName=n,[i,m6(a,...e)]}function m6(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const u=i.reduce((d,{useScope:h,scopeName:p})=>{const _=h(l)[`__scope${p}`];return{...d,..._}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function wA(n){const e=n+"CollectionProvider",[t,i]=Nu(e),[a,l]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=A=>{const{scope:P,children:C}=A,M=ws.useRef(null),N=ws.useRef(new Map).current;return y.jsx(a,{scope:P,itemMap:N,collectionRef:M,children:C})};u.displayName=e;const d=n+"CollectionSlot",h=fu(d),p=ws.forwardRef((A,P)=>{const{scope:C,children:M}=A,N=l(d,C),U=Qt(P,N.collectionRef);return y.jsx(h,{ref:U,children:M})});p.displayName=d;const v=n+"CollectionItemSlot",_="data-radix-collection-item",w=fu(v),R=ws.forwardRef((A,P)=>{const{scope:C,children:M,...N}=A,U=ws.useRef(null),H=Qt(P,U),Y=l(v,C);return ws.useEffect(()=>(Y.itemMap.set(U,{ref:U,...N}),()=>void Y.itemMap.delete(U))),y.jsx(w,{[_]:"",ref:H,children:M})});R.displayName=v;function I(A){const P=l(n+"CollectionConsumer",A);return ws.useCallback(()=>{const M=P.collectionRef.current;if(!M)return[];const N=Array.from(M.querySelectorAll(`[${_}]`));return Array.from(P.itemMap.values()).sort((Y,O)=>N.indexOf(Y.ref.current)-N.indexOf(O.ref.current))},[P.collectionRef,P.itemMap])}return[{Provider:u,Slot:p,ItemSlot:R},I,i]}var p6=T.createContext(void 0);function zv(n){const e=T.useContext(p6);return n||e||"ltr"}function Us(n){const e=T.useRef(n);return T.useEffect(()=>{e.current=n}),T.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function g6(n,e=globalThis==null?void 0:globalThis.document){const t=Us(n);T.useEffect(()=>{const i=a=>{a.key==="Escape"&&t(a)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var y6="DismissableLayer",_y="dismissableLayer.update",v6="dismissableLayer.pointerDownOutside",_6="dismissableLayer.focusOutside",Mx,EA=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xA=T.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:u,onDismiss:d,...h}=n,p=T.useContext(EA),[v,_]=T.useState(null),w=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,R]=T.useState({}),I=Qt(e,O=>_(O)),A=Array.from(p.layers),[P]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),C=A.indexOf(P),M=v?A.indexOf(v):-1,N=p.layersWithOutsidePointerEventsDisabled.size>0,U=M>=C,H=E6(O=>{const x=O.target,k=[...p.branches].some(L=>L.contains(x));!U||k||(a==null||a(O),u==null||u(O),O.defaultPrevented||d==null||d())},w),Y=x6(O=>{const x=O.target;[...p.branches].some(L=>L.contains(x))||(l==null||l(O),u==null||u(O),O.defaultPrevented||d==null||d())},w);return g6(O=>{M===p.layers.size-1&&(i==null||i(O),!O.defaultPrevented&&d&&(O.preventDefault(),d()))},w),T.useEffect(()=>{if(v)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Mx=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),jx(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=Mx)}},[v,w,t,p]),T.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),jx())},[v,p]),T.useEffect(()=>{const O=()=>R({});return document.addEventListener(_y,O),()=>document.removeEventListener(_y,O)},[]),y.jsx(ft.div,{...h,ref:I,style:{pointerEvents:N?U?"auto":"none":void 0,...n.style},onFocusCapture:ot(n.onFocusCapture,Y.onFocusCapture),onBlurCapture:ot(n.onBlurCapture,Y.onBlurCapture),onPointerDownCapture:ot(n.onPointerDownCapture,H.onPointerDownCapture)})});xA.displayName=y6;var b6="DismissableLayerBranch",w6=T.forwardRef((n,e)=>{const t=T.useContext(EA),i=T.useRef(null),a=Qt(e,i);return T.useEffect(()=>{const l=i.current;if(l)return t.branches.add(l),()=>{t.branches.delete(l)}},[t.branches]),y.jsx(ft.div,{...n,ref:a})});w6.displayName=b6;function E6(n,e=globalThis==null?void 0:globalThis.document){const t=Us(n),i=T.useRef(!1),a=T.useRef(()=>{});return T.useEffect(()=>{const l=d=>{if(d.target&&!i.current){let h=function(){TA(v6,t,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=h,e.addEventListener("click",a.current,{once:!0})):h()}else e.removeEventListener("click",a.current);i.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",a.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function x6(n,e=globalThis==null?void 0:globalThis.document){const t=Us(n),i=T.useRef(!1);return T.useEffect(()=>{const a=l=>{l.target&&!i.current&&TA(_6,t,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function jx(){const n=new CustomEvent(_y);document.dispatchEvent(n)}function TA(n,e,t,{discrete:i}){const a=t.originalEvent.target,l=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&a.addEventListener(n,e,{once:!0}),i?VV(a,l):a.dispatchEvent(l)}var Ag=0;function T6(){T.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??Vx()),document.body.insertAdjacentElement("beforeend",n[1]??Vx()),Ag++,()=>{Ag===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ag--}},[])}function Vx(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Rg="focusScope.autoFocusOnMount",Cg="focusScope.autoFocusOnUnmount",Lx={bubbles:!1,cancelable:!0},S6="FocusScope",SA=T.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...u}=n,[d,h]=T.useState(null),p=Us(a),v=Us(l),_=T.useRef(null),w=Qt(e,A=>h(A)),R=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(i){let A=function(N){if(R.paused||!d)return;const U=N.target;d.contains(U)?_.current=U:Es(_.current,{select:!0})},P=function(N){if(R.paused||!d)return;const U=N.relatedTarget;U!==null&&(d.contains(U)||Es(_.current,{select:!0}))},C=function(N){if(document.activeElement===document.body)for(const H of N)H.removedNodes.length>0&&Es(d)};document.addEventListener("focusin",A),document.addEventListener("focusout",P);const M=new MutationObserver(C);return d&&M.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",P),M.disconnect()}}},[i,d,R.paused]),T.useEffect(()=>{if(d){zx.add(R);const A=document.activeElement;if(!d.contains(A)){const C=new CustomEvent(Rg,Lx);d.addEventListener(Rg,p),d.dispatchEvent(C),C.defaultPrevented||(A6(P6(AA(d)),{select:!0}),document.activeElement===A&&Es(d))}return()=>{d.removeEventListener(Rg,p),setTimeout(()=>{const C=new CustomEvent(Cg,Lx);d.addEventListener(Cg,v),d.dispatchEvent(C),C.defaultPrevented||Es(A??document.body,{select:!0}),d.removeEventListener(Cg,v),zx.remove(R)},0)}}},[d,p,v,R]);const I=T.useCallback(A=>{if(!t&&!i||R.paused)return;const P=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,C=document.activeElement;if(P&&C){const M=A.currentTarget,[N,U]=R6(M);N&&U?!A.shiftKey&&C===U?(A.preventDefault(),t&&Es(N,{select:!0})):A.shiftKey&&C===N&&(A.preventDefault(),t&&Es(U,{select:!0})):C===M&&A.preventDefault()}},[t,i,R.paused]);return y.jsx(ft.div,{tabIndex:-1,...u,ref:w,onKeyDown:I})});SA.displayName=S6;function A6(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(Es(i,{select:e}),document.activeElement!==t)return}function R6(n){const e=AA(n),t=Ux(e,n),i=Ux(e.reverse(),n);return[t,i]}function AA(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const a=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||a?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Ux(n,e){for(const t of n)if(!C6(t,{upTo:e}))return t}function C6(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function I6(n){return n instanceof HTMLInputElement&&"select"in n}function Es(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&I6(n)&&e&&n.select()}}var zx=N6();function N6(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=Bx(n,e),n.unshift(e)},remove(e){var t;n=Bx(n,e),(t=n[0])==null||t.resume()}}}function Bx(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function P6(n){return n.filter(e=>e.tagName!=="A")}var bn=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},O6=tT[" useId ".trim().toString()]||(()=>{}),k6=0;function Pu(n){const[e,t]=T.useState(O6());return bn(()=>{t(i=>i??String(k6++))},[n]),n||(e?`radix-${e}`:"")}const D6=["top","right","bottom","left"],zs=Math.min,zn=Math.max,lh=Math.round,yf=Math.floor,Kr=n=>({x:n,y:n}),M6={left:"right",right:"left",bottom:"top",top:"bottom"},j6={start:"end",end:"start"};function by(n,e,t){return zn(n,zs(e,t))}function Bi(n,e){return typeof n=="function"?n(e):n}function Fi(n){return n.split("-")[0]}function Al(n){return n.split("-")[1]}function Bv(n){return n==="x"?"y":"x"}function Fv(n){return n==="y"?"height":"width"}function Br(n){return["top","bottom"].includes(Fi(n))?"y":"x"}function Hv(n){return Bv(Br(n))}function V6(n,e,t){t===void 0&&(t=!1);const i=Al(n),a=Hv(n),l=Fv(a);let u=a==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=ch(u)),[u,ch(u)]}function L6(n){const e=ch(n);return[wy(n),e,wy(e)]}function wy(n){return n.replace(/start|end/g,e=>j6[e])}function U6(n,e,t){const i=["left","right"],a=["right","left"],l=["top","bottom"],u=["bottom","top"];switch(n){case"top":case"bottom":return t?e?a:i:e?i:a;case"left":case"right":return e?l:u;default:return[]}}function z6(n,e,t,i){const a=Al(n);let l=U6(Fi(n),t==="start",i);return a&&(l=l.map(u=>u+"-"+a),e&&(l=l.concat(l.map(wy)))),l}function ch(n){return n.replace(/left|right|bottom|top/g,e=>M6[e])}function B6(n){return{top:0,right:0,bottom:0,left:0,...n}}function RA(n){return typeof n!="number"?B6(n):{top:n,right:n,bottom:n,left:n}}function uh(n){const{x:e,y:t,width:i,height:a}=n;return{width:i,height:a,top:t,left:e,right:e+i,bottom:t+a,x:e,y:t}}function Fx(n,e,t){let{reference:i,floating:a}=n;const l=Br(e),u=Hv(e),d=Fv(u),h=Fi(e),p=l==="y",v=i.x+i.width/2-a.width/2,_=i.y+i.height/2-a.height/2,w=i[d]/2-a[d]/2;let R;switch(h){case"top":R={x:v,y:i.y-a.height};break;case"bottom":R={x:v,y:i.y+i.height};break;case"right":R={x:i.x+i.width,y:_};break;case"left":R={x:i.x-a.width,y:_};break;default:R={x:i.x,y:i.y}}switch(Al(e)){case"start":R[u]-=w*(t&&p?-1:1);break;case"end":R[u]+=w*(t&&p?-1:1);break}return R}const F6=async(n,e,t)=>{const{placement:i="bottom",strategy:a="absolute",middleware:l=[],platform:u}=t,d=l.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:n,floating:e,strategy:a}),{x:v,y:_}=Fx(p,i,h),w=i,R={},I=0;for(let A=0;A<d.length;A++){const{name:P,fn:C}=d[A],{x:M,y:N,data:U,reset:H}=await C({x:v,y:_,initialPlacement:i,placement:w,strategy:a,middlewareData:R,rects:p,platform:u,elements:{reference:n,floating:e}});v=M??v,_=N??_,R={...R,[P]:{...R[P],...U}},H&&I<=50&&(I++,typeof H=="object"&&(H.placement&&(w=H.placement),H.rects&&(p=H.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:a}):H.rects),{x:v,y:_}=Fx(p,w,h)),A=-1)}return{x:v,y:_,placement:w,strategy:a,middlewareData:R}};async function hu(n,e){var t;e===void 0&&(e={});const{x:i,y:a,platform:l,rects:u,elements:d,strategy:h}=n,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:_="floating",altBoundary:w=!1,padding:R=0}=Bi(e,n),I=RA(R),P=d[w?_==="floating"?"reference":"floating":_],C=uh(await l.getClippingRect({element:(t=await(l.isElement==null?void 0:l.isElement(P)))==null||t?P:P.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:p,rootBoundary:v,strategy:h})),M=_==="floating"?{x:i,y:a,width:u.floating.width,height:u.floating.height}:u.reference,N=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),U=await(l.isElement==null?void 0:l.isElement(N))?await(l.getScale==null?void 0:l.getScale(N))||{x:1,y:1}:{x:1,y:1},H=uh(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:M,offsetParent:N,strategy:h}):M);return{top:(C.top-H.top+I.top)/U.y,bottom:(H.bottom-C.bottom+I.bottom)/U.y,left:(C.left-H.left+I.left)/U.x,right:(H.right-C.right+I.right)/U.x}}const H6=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:a,rects:l,platform:u,elements:d,middlewareData:h}=e,{element:p,padding:v=0}=Bi(n,e)||{};if(p==null)return{};const _=RA(v),w={x:t,y:i},R=Hv(a),I=Fv(R),A=await u.getDimensions(p),P=R==="y",C=P?"top":"left",M=P?"bottom":"right",N=P?"clientHeight":"clientWidth",U=l.reference[I]+l.reference[R]-w[R]-l.floating[I],H=w[R]-l.reference[R],Y=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let O=Y?Y[N]:0;(!O||!await(u.isElement==null?void 0:u.isElement(Y)))&&(O=d.floating[N]||l.floating[I]);const x=U/2-H/2,k=O/2-A[I]/2-1,L=zs(_[C],k),z=zs(_[M],k),F=L,V=O-A[I]-z,K=O/2-A[I]/2+x,oe=by(F,K,V),$=!h.arrow&&Al(a)!=null&&K!==oe&&l.reference[I]/2-(K<F?L:z)-A[I]/2<0,re=$?K<F?K-F:K-V:0;return{[R]:w[R]+re,data:{[R]:oe,centerOffset:K-oe-re,...$&&{alignmentOffset:re}},reset:$}}}),q6=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:a,middlewareData:l,rects:u,initialPlacement:d,platform:h,elements:p}=e,{mainAxis:v=!0,crossAxis:_=!0,fallbackPlacements:w,fallbackStrategy:R="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:A=!0,...P}=Bi(n,e);if((t=l.arrow)!=null&&t.alignmentOffset)return{};const C=Fi(a),M=Br(d),N=Fi(d)===d,U=await(h.isRTL==null?void 0:h.isRTL(p.floating)),H=w||(N||!A?[ch(d)]:L6(d)),Y=I!=="none";!w&&Y&&H.push(...z6(d,A,I,U));const O=[d,...H],x=await hu(e,P),k=[];let L=((i=l.flip)==null?void 0:i.overflows)||[];if(v&&k.push(x[C]),_){const K=V6(a,u,U);k.push(x[K[0]],x[K[1]])}if(L=[...L,{placement:a,overflows:k}],!k.every(K=>K<=0)){var z,F;const K=(((z=l.flip)==null?void 0:z.index)||0)+1,oe=O[K];if(oe&&(!(_==="alignment"?M!==Br(oe):!1)||L.every(X=>X.overflows[0]>0&&Br(X.placement)===M)))return{data:{index:K,overflows:L},reset:{placement:oe}};let $=(F=L.filter(re=>re.overflows[0]<=0).sort((re,X)=>re.overflows[1]-X.overflows[1])[0])==null?void 0:F.placement;if(!$)switch(R){case"bestFit":{var V;const re=(V=L.filter(X=>{if(Y){const se=Br(X.placement);return se===M||se==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(se=>se>0).reduce((se,B)=>se+B,0)]).sort((X,se)=>X[1]-se[1])[0])==null?void 0:V[0];re&&($=re);break}case"initialPlacement":$=d;break}if(a!==$)return{reset:{placement:$}}}return{}}}};function Hx(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function qx(n){return D6.some(e=>n[e]>=0)}const $6=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...a}=Bi(n,e);switch(i){case"referenceHidden":{const l=await hu(e,{...a,elementContext:"reference"}),u=Hx(l,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:qx(u)}}}case"escaped":{const l=await hu(e,{...a,altBoundary:!0}),u=Hx(l,t.floating);return{data:{escapedOffsets:u,escaped:qx(u)}}}default:return{}}}}};async function G6(n,e){const{placement:t,platform:i,elements:a}=n,l=await(i.isRTL==null?void 0:i.isRTL(a.floating)),u=Fi(t),d=Al(t),h=Br(t)==="y",p=["left","top"].includes(u)?-1:1,v=l&&h?-1:1,_=Bi(e,n);let{mainAxis:w,crossAxis:R,alignmentAxis:I}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return d&&typeof I=="number"&&(R=d==="end"?I*-1:I),h?{x:R*v,y:w*p}:{x:w*p,y:R*v}}const K6=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:a,y:l,placement:u,middlewareData:d}=e,h=await G6(e,n);return u===((t=d.offset)==null?void 0:t.placement)&&(i=d.arrow)!=null&&i.alignmentOffset?{}:{x:a+h.x,y:l+h.y,data:{...h,placement:u}}}}},Y6=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:a}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:d={fn:P=>{let{x:C,y:M}=P;return{x:C,y:M}}},...h}=Bi(n,e),p={x:t,y:i},v=await hu(e,h),_=Br(Fi(a)),w=Bv(_);let R=p[w],I=p[_];if(l){const P=w==="y"?"top":"left",C=w==="y"?"bottom":"right",M=R+v[P],N=R-v[C];R=by(M,R,N)}if(u){const P=_==="y"?"top":"left",C=_==="y"?"bottom":"right",M=I+v[P],N=I-v[C];I=by(M,I,N)}const A=d.fn({...e,[w]:R,[_]:I});return{...A,data:{x:A.x-t,y:A.y-i,enabled:{[w]:l,[_]:u}}}}}},Q6=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:a,rects:l,middlewareData:u}=e,{offset:d=0,mainAxis:h=!0,crossAxis:p=!0}=Bi(n,e),v={x:t,y:i},_=Br(a),w=Bv(_);let R=v[w],I=v[_];const A=Bi(d,e),P=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(h){const N=w==="y"?"height":"width",U=l.reference[w]-l.floating[N]+P.mainAxis,H=l.reference[w]+l.reference[N]-P.mainAxis;R<U?R=U:R>H&&(R=H)}if(p){var C,M;const N=w==="y"?"width":"height",U=["top","left"].includes(Fi(a)),H=l.reference[_]-l.floating[N]+(U&&((C=u.offset)==null?void 0:C[_])||0)+(U?0:P.crossAxis),Y=l.reference[_]+l.reference[N]+(U?0:((M=u.offset)==null?void 0:M[_])||0)-(U?P.crossAxis:0);I<H?I=H:I>Y&&(I=Y)}return{[w]:R,[_]:I}}}},X6=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:a,rects:l,platform:u,elements:d}=e,{apply:h=()=>{},...p}=Bi(n,e),v=await hu(e,p),_=Fi(a),w=Al(a),R=Br(a)==="y",{width:I,height:A}=l.floating;let P,C;_==="top"||_==="bottom"?(P=_,C=w===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(C=_,P=w==="end"?"top":"bottom");const M=A-v.top-v.bottom,N=I-v.left-v.right,U=zs(A-v[P],M),H=zs(I-v[C],N),Y=!e.middlewareData.shift;let O=U,x=H;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(x=N),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(O=M),Y&&!w){const L=zn(v.left,0),z=zn(v.right,0),F=zn(v.top,0),V=zn(v.bottom,0);R?x=I-2*(L!==0||z!==0?L+z:zn(v.left,v.right)):O=A-2*(F!==0||V!==0?F+V:zn(v.top,v.bottom))}await h({...e,availableWidth:x,availableHeight:O});const k=await u.getDimensions(d.floating);return I!==k.width||A!==k.height?{reset:{rects:!0}}:{}}}};function Vh(){return typeof window<"u"}function Rl(n){return CA(n)?(n.nodeName||"").toLowerCase():"#document"}function Fn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function ti(n){var e;return(e=(CA(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function CA(n){return Vh()?n instanceof Node||n instanceof Fn(n).Node:!1}function yr(n){return Vh()?n instanceof Element||n instanceof Fn(n).Element:!1}function Xr(n){return Vh()?n instanceof HTMLElement||n instanceof Fn(n).HTMLElement:!1}function $x(n){return!Vh()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Fn(n).ShadowRoot}function Ou(n){const{overflow:e,overflowX:t,overflowY:i,display:a}=vr(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(a)}function W6(n){return["table","td","th"].includes(Rl(n))}function Lh(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function qv(n){const e=$v(),t=yr(n)?vr(n):n;return["transform","translate","scale","rotate","perspective"].some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function Z6(n){let e=Bs(n);for(;Xr(e)&&!hl(e);){if(qv(e))return e;if(Lh(e))return null;e=Bs(e)}return null}function $v(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function hl(n){return["html","body","#document"].includes(Rl(n))}function vr(n){return Fn(n).getComputedStyle(n)}function Uh(n){return yr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Bs(n){if(Rl(n)==="html")return n;const e=n.assignedSlot||n.parentNode||$x(n)&&n.host||ti(n);return $x(e)?e.host:e}function IA(n){const e=Bs(n);return hl(e)?n.ownerDocument?n.ownerDocument.body:n.body:Xr(e)&&Ou(e)?e:IA(e)}function mu(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=IA(n),l=a===((i=n.ownerDocument)==null?void 0:i.body),u=Fn(a);if(l){const d=Ey(u);return e.concat(u,u.visualViewport||[],Ou(a)?a:[],d&&t?mu(d):[])}return e.concat(a,mu(a,[],t))}function Ey(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function NA(n){const e=vr(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const a=Xr(n),l=a?n.offsetWidth:t,u=a?n.offsetHeight:i,d=lh(t)!==l||lh(i)!==u;return d&&(t=l,i=u),{width:t,height:i,$:d}}function Gv(n){return yr(n)?n:n.contextElement}function nl(n){const e=Gv(n);if(!Xr(e))return Kr(1);const t=e.getBoundingClientRect(),{width:i,height:a,$:l}=NA(e);let u=(l?lh(t.width):t.width)/i,d=(l?lh(t.height):t.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const J6=Kr(0);function PA(n){const e=Fn(n);return!$v()||!e.visualViewport?J6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function e3(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Fn(n)?!1:e}function La(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=n.getBoundingClientRect(),l=Gv(n);let u=Kr(1);e&&(i?yr(i)&&(u=nl(i)):u=nl(n));const d=e3(l,t,i)?PA(l):Kr(0);let h=(a.left+d.x)/u.x,p=(a.top+d.y)/u.y,v=a.width/u.x,_=a.height/u.y;if(l){const w=Fn(l),R=i&&yr(i)?Fn(i):i;let I=w,A=Ey(I);for(;A&&i&&R!==I;){const P=nl(A),C=A.getBoundingClientRect(),M=vr(A),N=C.left+(A.clientLeft+parseFloat(M.paddingLeft))*P.x,U=C.top+(A.clientTop+parseFloat(M.paddingTop))*P.y;h*=P.x,p*=P.y,v*=P.x,_*=P.y,h+=N,p+=U,I=Fn(A),A=Ey(I)}}return uh({width:v,height:_,x:h,y:p})}function Kv(n,e){const t=Uh(n).scrollLeft;return e?e.left+t:La(ti(n)).left+t}function OA(n,e,t){t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=i.left+e.scrollLeft-(t?0:Kv(n,i)),l=i.top+e.scrollTop;return{x:a,y:l}}function t3(n){let{elements:e,rect:t,offsetParent:i,strategy:a}=n;const l=a==="fixed",u=ti(i),d=e?Lh(e.floating):!1;if(i===u||d&&l)return t;let h={scrollLeft:0,scrollTop:0},p=Kr(1);const v=Kr(0),_=Xr(i);if((_||!_&&!l)&&((Rl(i)!=="body"||Ou(u))&&(h=Uh(i)),Xr(i))){const R=La(i);p=nl(i),v.x=R.x+i.clientLeft,v.y=R.y+i.clientTop}const w=u&&!_&&!l?OA(u,h,!0):Kr(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-h.scrollLeft*p.x+v.x+w.x,y:t.y*p.y-h.scrollTop*p.y+v.y+w.y}}function n3(n){return Array.from(n.getClientRects())}function r3(n){const e=ti(n),t=Uh(n),i=n.ownerDocument.body,a=zn(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),l=zn(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let u=-t.scrollLeft+Kv(n);const d=-t.scrollTop;return vr(i).direction==="rtl"&&(u+=zn(e.clientWidth,i.clientWidth)-a),{width:a,height:l,x:u,y:d}}function i3(n,e){const t=Fn(n),i=ti(n),a=t.visualViewport;let l=i.clientWidth,u=i.clientHeight,d=0,h=0;if(a){l=a.width,u=a.height;const p=$v();(!p||p&&e==="fixed")&&(d=a.offsetLeft,h=a.offsetTop)}return{width:l,height:u,x:d,y:h}}function s3(n,e){const t=La(n,!0,e==="fixed"),i=t.top+n.clientTop,a=t.left+n.clientLeft,l=Xr(n)?nl(n):Kr(1),u=n.clientWidth*l.x,d=n.clientHeight*l.y,h=a*l.x,p=i*l.y;return{width:u,height:d,x:h,y:p}}function Gx(n,e,t){let i;if(e==="viewport")i=i3(n,t);else if(e==="document")i=r3(ti(n));else if(yr(e))i=s3(e,t);else{const a=PA(n);i={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return uh(i)}function kA(n,e){const t=Bs(n);return t===e||!yr(t)||hl(t)?!1:vr(t).position==="fixed"||kA(t,e)}function a3(n,e){const t=e.get(n);if(t)return t;let i=mu(n,[],!1).filter(d=>yr(d)&&Rl(d)!=="body"),a=null;const l=vr(n).position==="fixed";let u=l?Bs(n):n;for(;yr(u)&&!hl(u);){const d=vr(u),h=qv(u);!h&&d.position==="fixed"&&(a=null),(l?!h&&!a:!h&&d.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Ou(u)&&!h&&kA(n,u))?i=i.filter(v=>v!==u):a=d,u=Bs(u)}return e.set(n,i),i}function o3(n){let{element:e,boundary:t,rootBoundary:i,strategy:a}=n;const u=[...t==="clippingAncestors"?Lh(e)?[]:a3(e,this._c):[].concat(t),i],d=u[0],h=u.reduce((p,v)=>{const _=Gx(e,v,a);return p.top=zn(_.top,p.top),p.right=zs(_.right,p.right),p.bottom=zs(_.bottom,p.bottom),p.left=zn(_.left,p.left),p},Gx(e,d,a));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function l3(n){const{width:e,height:t}=NA(n);return{width:e,height:t}}function c3(n,e,t){const i=Xr(e),a=ti(e),l=t==="fixed",u=La(n,!0,l,e);let d={scrollLeft:0,scrollTop:0};const h=Kr(0);function p(){h.x=Kv(a)}if(i||!i&&!l)if((Rl(e)!=="body"||Ou(a))&&(d=Uh(e)),i){const R=La(e,!0,l,e);h.x=R.x+e.clientLeft,h.y=R.y+e.clientTop}else a&&p();l&&!i&&a&&p();const v=a&&!i&&!l?OA(a,d):Kr(0),_=u.left+d.scrollLeft-h.x-v.x,w=u.top+d.scrollTop-h.y-v.y;return{x:_,y:w,width:u.width,height:u.height}}function Ig(n){return vr(n).position==="static"}function Kx(n,e){if(!Xr(n)||vr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return ti(n)===t&&(t=t.ownerDocument.body),t}function DA(n,e){const t=Fn(n);if(Lh(n))return t;if(!Xr(n)){let a=Bs(n);for(;a&&!hl(a);){if(yr(a)&&!Ig(a))return a;a=Bs(a)}return t}let i=Kx(n,e);for(;i&&W6(i)&&Ig(i);)i=Kx(i,e);return i&&hl(i)&&Ig(i)&&!qv(i)?t:i||Z6(n)||t}const u3=async function(n){const e=this.getOffsetParent||DA,t=this.getDimensions,i=await t(n.floating);return{reference:c3(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function d3(n){return vr(n).direction==="rtl"}const f3={convertOffsetParentRelativeRectToViewportRelativeRect:t3,getDocumentElement:ti,getClippingRect:o3,getOffsetParent:DA,getElementRects:u3,getClientRects:n3,getDimensions:l3,getScale:nl,isElement:yr,isRTL:d3};function MA(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function h3(n,e){let t=null,i;const a=ti(n);function l(){var d;clearTimeout(i),(d=t)==null||d.disconnect(),t=null}function u(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),l();const p=n.getBoundingClientRect(),{left:v,top:_,width:w,height:R}=p;if(d||e(),!w||!R)return;const I=yf(_),A=yf(a.clientWidth-(v+w)),P=yf(a.clientHeight-(_+R)),C=yf(v),N={rootMargin:-I+"px "+-A+"px "+-P+"px "+-C+"px",threshold:zn(0,zs(1,h))||1};let U=!0;function H(Y){const O=Y[0].intersectionRatio;if(O!==h){if(!U)return u();O?u(!1,O):i=setTimeout(()=>{u(!1,1e-7)},1e3)}O===1&&!MA(p,n.getBoundingClientRect())&&u(),U=!1}try{t=new IntersectionObserver(H,{...N,root:a.ownerDocument})}catch{t=new IntersectionObserver(H,N)}t.observe(n)}return u(!0),l}function m3(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=i,p=Gv(n),v=a||l?[...p?mu(p):[],...mu(e)]:[];v.forEach(C=>{a&&C.addEventListener("scroll",t,{passive:!0}),l&&C.addEventListener("resize",t)});const _=p&&d?h3(p,t):null;let w=-1,R=null;u&&(R=new ResizeObserver(C=>{let[M]=C;M&&M.target===p&&R&&(R.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var N;(N=R)==null||N.observe(e)})),t()}),p&&!h&&R.observe(p),R.observe(e));let I,A=h?La(n):null;h&&P();function P(){const C=La(n);A&&!MA(A,C)&&t(),A=C,I=requestAnimationFrame(P)}return t(),()=>{var C;v.forEach(M=>{a&&M.removeEventListener("scroll",t),l&&M.removeEventListener("resize",t)}),_==null||_(),(C=R)==null||C.disconnect(),R=null,h&&cancelAnimationFrame(I)}}const p3=K6,g3=Y6,y3=q6,v3=X6,_3=$6,Yx=H6,b3=Q6,w3=(n,e,t)=>{const i=new Map,a={platform:f3,...t},l={...a.platform,_c:i};return F6(n,e,{...a,platform:l})};var E3=typeof document<"u",x3=function(){},Mf=E3?T.useLayoutEffect:x3;function dh(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!dh(n[i],e[i]))return!1;return!0}if(a=Object.keys(n),t=a.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,a[i]))return!1;for(i=t;i--!==0;){const l=a[i];if(!(l==="_owner"&&n.$$typeof)&&!dh(n[l],e[l]))return!1}return!0}return n!==n&&e!==e}function jA(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Qx(n,e){const t=jA(n);return Math.round(e*t)/t}function Ng(n){const e=T.useRef(n);return Mf(()=>{e.current=n}),e}function T3(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:a,elements:{reference:l,floating:u}={},transform:d=!0,whileElementsMounted:h,open:p}=n,[v,_]=T.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[w,R]=T.useState(i);dh(w,i)||R(i);const[I,A]=T.useState(null),[P,C]=T.useState(null),M=T.useCallback(X=>{X!==Y.current&&(Y.current=X,A(X))},[]),N=T.useCallback(X=>{X!==O.current&&(O.current=X,C(X))},[]),U=l||I,H=u||P,Y=T.useRef(null),O=T.useRef(null),x=T.useRef(v),k=h!=null,L=Ng(h),z=Ng(a),F=Ng(p),V=T.useCallback(()=>{if(!Y.current||!O.current)return;const X={placement:e,strategy:t,middleware:w};z.current&&(X.platform=z.current),w3(Y.current,O.current,X).then(se=>{const B={...se,isPositioned:F.current!==!1};K.current&&!dh(x.current,B)&&(x.current=B,yu.flushSync(()=>{_(B)}))})},[w,e,t,z,F]);Mf(()=>{p===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,_(X=>({...X,isPositioned:!1})))},[p]);const K=T.useRef(!1);Mf(()=>(K.current=!0,()=>{K.current=!1}),[]),Mf(()=>{if(U&&(Y.current=U),H&&(O.current=H),U&&H){if(L.current)return L.current(U,H,V);V()}},[U,H,V,L,k]);const oe=T.useMemo(()=>({reference:Y,floating:O,setReference:M,setFloating:N}),[M,N]),$=T.useMemo(()=>({reference:U,floating:H}),[U,H]),re=T.useMemo(()=>{const X={position:t,left:0,top:0};if(!$.floating)return X;const se=Qx($.floating,v.x),B=Qx($.floating,v.y);return d?{...X,transform:"translate("+se+"px, "+B+"px)",...jA($.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:se,top:B}},[t,d,$.floating,v.x,v.y]);return T.useMemo(()=>({...v,update:V,refs:oe,elements:$,floatingStyles:re}),[v,V,oe,$,re])}const S3=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:a}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?Yx({element:i.current,padding:a}).fn(t):{}:i?Yx({element:i,padding:a}).fn(t):{}}}},A3=(n,e)=>({...p3(n),options:[n,e]}),R3=(n,e)=>({...g3(n),options:[n,e]}),C3=(n,e)=>({...b3(n),options:[n,e]}),I3=(n,e)=>({...y3(n),options:[n,e]}),N3=(n,e)=>({...v3(n),options:[n,e]}),P3=(n,e)=>({..._3(n),options:[n,e]}),O3=(n,e)=>({...S3(n),options:[n,e]});var k3="Arrow",VA=T.forwardRef((n,e)=>{const{children:t,width:i=10,height:a=5,...l}=n;return y.jsx(ft.svg,{...l,ref:e,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});VA.displayName=k3;var D3=VA;function M3(n){const[e,t]=T.useState(void 0);return bn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let u,d;if("borderBoxSize"in l){const h=l.borderBoxSize,p=Array.isArray(h)?h[0]:h;u=p.inlineSize,d=p.blockSize}else u=n.offsetWidth,d=n.offsetHeight;t({width:u,height:d})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var Yv="Popper",[LA,UA]=Nu(Yv),[j3,zA]=LA(Yv),BA=n=>{const{__scopePopper:e,children:t}=n,[i,a]=T.useState(null);return y.jsx(j3,{scope:e,anchor:i,onAnchorChange:a,children:t})};BA.displayName=Yv;var FA="PopperAnchor",HA=T.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...a}=n,l=zA(FA,t),u=T.useRef(null),d=Qt(e,u);return T.useEffect(()=>{l.onAnchorChange((i==null?void 0:i.current)||u.current)}),i?null:y.jsx(ft.div,{...a,ref:d})});HA.displayName=FA;var Qv="PopperContent",[V3,L3]=LA(Qv),qA=T.forwardRef((n,e)=>{var me,ve,Le,ke,De,Ve;const{__scopePopper:t,side:i="bottom",sideOffset:a=0,align:l="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:v=0,sticky:_="partial",hideWhenDetached:w=!1,updatePositionStrategy:R="optimized",onPlaced:I,...A}=n,P=zA(Qv,t),[C,M]=T.useState(null),N=Qt(e,pt=>M(pt)),[U,H]=T.useState(null),Y=M3(U),O=(Y==null?void 0:Y.width)??0,x=(Y==null?void 0:Y.height)??0,k=i+(l!=="center"?"-"+l:""),L=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},z=Array.isArray(p)?p:[p],F=z.length>0,V={padding:L,boundary:z.filter(z3),altBoundary:F},{refs:K,floatingStyles:oe,placement:$,isPositioned:re,middlewareData:X}=T3({strategy:"fixed",placement:k,whileElementsMounted:(...pt)=>m3(...pt,{animationFrame:R==="always"}),elements:{reference:P.anchor},middleware:[A3({mainAxis:a+x,alignmentAxis:u}),h&&R3({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?C3():void 0,...V}),h&&I3({...V}),N3({...V,apply:({elements:pt,rects:Rt,availableWidth:Ae,availableHeight:bt})=>{const{width:wt,height:qi}=Rt.reference,Er=pt.floating.style;Er.setProperty("--radix-popper-available-width",`${Ae}px`),Er.setProperty("--radix-popper-available-height",`${bt}px`),Er.setProperty("--radix-popper-anchor-width",`${wt}px`),Er.setProperty("--radix-popper-anchor-height",`${qi}px`)}}),U&&O3({element:U,padding:d}),B3({arrowWidth:O,arrowHeight:x}),w&&P3({strategy:"referenceHidden",...V})]}),[se,B]=KA($),te=Us(I);bn(()=>{re&&(te==null||te())},[re,te]);const ue=(me=X.arrow)==null?void 0:me.x,ae=(ve=X.arrow)==null?void 0:ve.y,pe=((Le=X.arrow)==null?void 0:Le.centerOffset)!==0,[Se,xe]=T.useState();return bn(()=>{C&&xe(window.getComputedStyle(C).zIndex)},[C]),y.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...oe,transform:re?oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[(ke=X.transformOrigin)==null?void 0:ke.x,(De=X.transformOrigin)==null?void 0:De.y].join(" "),...((Ve=X.hide)==null?void 0:Ve.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:y.jsx(V3,{scope:t,placedSide:se,onArrowChange:H,arrowX:ue,arrowY:ae,shouldHideArrow:pe,children:y.jsx(ft.div,{"data-side":se,"data-align":B,...A,ref:N,style:{...A.style,animation:re?void 0:"none"}})})})});qA.displayName=Qv;var $A="PopperArrow",U3={top:"bottom",right:"left",bottom:"top",left:"right"},GA=T.forwardRef(function(e,t){const{__scopePopper:i,...a}=e,l=L3($A,i),u=U3[l.placedSide];return y.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:y.jsx(D3,{...a,ref:t,style:{...a.style,display:"block"}})})});GA.displayName=$A;function z3(n){return n!==null}var B3=n=>({name:"transformOrigin",options:n,fn(e){var P,C,M;const{placement:t,rects:i,middlewareData:a}=e,u=((P=a.arrow)==null?void 0:P.centerOffset)!==0,d=u?0:n.arrowWidth,h=u?0:n.arrowHeight,[p,v]=KA(t),_={start:"0%",center:"50%",end:"100%"}[v],w=(((C=a.arrow)==null?void 0:C.x)??0)+d/2,R=(((M=a.arrow)==null?void 0:M.y)??0)+h/2;let I="",A="";return p==="bottom"?(I=u?_:`${w}px`,A=`${-h}px`):p==="top"?(I=u?_:`${w}px`,A=`${i.floating.height+h}px`):p==="right"?(I=`${-h}px`,A=u?_:`${R}px`):p==="left"&&(I=`${i.floating.width+h}px`,A=u?_:`${R}px`),{data:{x:I,y:A}}}});function KA(n){const[e,t="center"]=n.split("-");return[e,t]}var F3=BA,H3=HA,q3=qA,$3=GA,G3="Portal",YA=T.forwardRef((n,e)=>{var d;const{container:t,...i}=n,[a,l]=T.useState(!1);bn(()=>l(!0),[]);const u=t||a&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return u?ZN.createPortal(y.jsx(ft.div,{...i,ref:e}),u):null});YA.displayName=G3;var K3=tT[" useInsertionEffect ".trim().toString()]||bn;function fh({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[a,l,u]=Y3({defaultProp:e,onChange:t}),d=n!==void 0,h=d?n:a;{const v=T.useRef(n!==void 0);T.useEffect(()=>{const _=v.current;_!==d&&console.warn(`${i} is changing from ${_?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=d},[d,i])}const p=T.useCallback(v=>{var _;if(d){const w=Q3(v)?v(n):v;w!==n&&((_=u.current)==null||_.call(u,w))}else l(v)},[d,n,l,u]);return[h,p]}function Y3({defaultProp:n,onChange:e}){const[t,i]=T.useState(n),a=T.useRef(t),l=T.useRef(e);return K3(()=>{l.current=e},[e]),T.useEffect(()=>{var u;a.current!==t&&((u=l.current)==null||u.call(l,t),a.current=t)},[t,a]),[t,i,l]}function Q3(n){return typeof n=="function"}function X3(n){const e=T.useRef({value:n,previous:n});return T.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var QA=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),W3="VisuallyHidden",Z3=T.forwardRef((n,e)=>y.jsx(ft.span,{...n,ref:e,style:{...QA,...n.style}}));Z3.displayName=W3;var J3=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Fo=new WeakMap,vf=new WeakMap,_f={},Pg=0,XA=function(n){return n&&(n.host||XA(n.parentNode))},eU=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=XA(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},tU=function(n,e,t,i){var a=eU(e,Array.isArray(n)?n:[n]);_f[t]||(_f[t]=new WeakMap);var l=_f[t],u=[],d=new Set,h=new Set(a),p=function(_){!_||d.has(_)||(d.add(_),p(_.parentNode))};a.forEach(p);var v=function(_){!_||h.has(_)||Array.prototype.forEach.call(_.children,function(w){if(d.has(w))v(w);else try{var R=w.getAttribute(i),I=R!==null&&R!=="false",A=(Fo.get(w)||0)+1,P=(l.get(w)||0)+1;Fo.set(w,A),l.set(w,P),u.push(w),A===1&&I&&vf.set(w,!0),P===1&&w.setAttribute(t,"true"),I||w.setAttribute(i,"true")}catch(C){console.error("aria-hidden: cannot operate on ",w,C)}})};return v(e),d.clear(),Pg++,function(){u.forEach(function(_){var w=Fo.get(_)-1,R=l.get(_)-1;Fo.set(_,w),l.set(_,R),w||(vf.has(_)||_.removeAttribute(i),vf.delete(_)),R||_.removeAttribute(t)}),Pg--,Pg||(Fo=new WeakMap,Fo=new WeakMap,vf=new WeakMap,_f={})}},nU=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),a=J3(n);return a?(i.push.apply(i,Array.from(a.querySelectorAll("[aria-live], script"))),tU(i,a,t,"aria-hidden")):function(){return null}},jf="right-scroll-bar-position",Vf="width-before-scroll-bar",rU="with-scroll-bars-hidden",iU="--removed-body-scroll-bar-size";function Og(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function sU(n,e){var t=T.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var a=t.value;a!==i&&(t.value=i,t.callback(i,a))}}}})[0];return t.callback=e,t.facade}var aU=typeof window<"u"?T.useLayoutEffect:T.useEffect,Xx=new WeakMap;function oU(n,e){var t=sU(null,function(i){return n.forEach(function(a){return Og(a,i)})});return aU(function(){var i=Xx.get(t);if(i){var a=new Set(i),l=new Set(n),u=t.current;a.forEach(function(d){l.has(d)||Og(d,null)}),l.forEach(function(d){a.has(d)||Og(d,u)})}Xx.set(t,n)},[n]),t}function lU(n){return n}function cU(n,e){e===void 0&&(e=lU);var t=[],i=!1,a={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(l){var u=e(l,i);return t.push(u),function(){t=t.filter(function(d){return d!==u})}},assignSyncMedium:function(l){for(i=!0;t.length;){var u=t;t=[],u.forEach(l)}t={push:function(d){return l(d)},filter:function(){return t}}},assignMedium:function(l){i=!0;var u=[];if(t.length){var d=t;t=[],d.forEach(l),u=t}var h=function(){var v=u;u=[],v.forEach(l)},p=function(){return Promise.resolve().then(h)};p(),t={push:function(v){u.push(v),p()},filter:function(v){return u=u.filter(v),t}}}};return a}function uU(n){n===void 0&&(n={});var e=cU(null);return e.options=zr({async:!0,ssr:!1},n),e}var WA=function(n){var e=n.sideCar,t=bu(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return T.createElement(i,zr({},t))};WA.isSideCarExport=!0;function dU(n,e){return n.useMedium(e),WA}var ZA=uU(),kg=function(){},zh=T.forwardRef(function(n,e){var t=T.useRef(null),i=T.useState({onScrollCapture:kg,onWheelCapture:kg,onTouchMoveCapture:kg}),a=i[0],l=i[1],u=n.forwardProps,d=n.children,h=n.className,p=n.removeScrollBar,v=n.enabled,_=n.shards,w=n.sideCar,R=n.noRelative,I=n.noIsolation,A=n.inert,P=n.allowPinchZoom,C=n.as,M=C===void 0?"div":C,N=n.gapMode,U=bu(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),H=w,Y=oU([t,e]),O=zr(zr({},U),a);return T.createElement(T.Fragment,null,v&&T.createElement(H,{sideCar:ZA,removeScrollBar:p,shards:_,noRelative:R,noIsolation:I,inert:A,setCallbacks:l,allowPinchZoom:!!P,lockRef:t,gapMode:N}),u?T.cloneElement(T.Children.only(d),zr(zr({},O),{ref:Y})):T.createElement(M,zr({},O,{className:h,ref:Y}),d))});zh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zh.classNames={fullWidth:Vf,zeroRight:jf};var fU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hU(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=fU();return e&&n.setAttribute("nonce",e),n}function mU(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function pU(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var gU=function(){var n=0,e=null;return{add:function(t){n==0&&(e=hU())&&(mU(e,t),pU(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},yU=function(){var n=gU();return function(e,t){T.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},JA=function(){var n=yU(),e=function(t){var i=t.styles,a=t.dynamic;return n(i,a),null};return e},vU={left:0,top:0,right:0,gap:0},Dg=function(n){return parseInt(n||"",10)||0},_U=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],a=e[n==="padding"?"paddingRight":"marginRight"];return[Dg(t),Dg(i),Dg(a)]},bU=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return vU;var e=_U(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},wU=JA(),rl="data-scroll-locked",EU=function(n,e,t,i){var a=n.left,l=n.top,u=n.right,d=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(rU,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(d,"px ").concat(i,`;
  }
  body[`).concat(rl,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(d,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(jf,` {
    right: `).concat(d,"px ").concat(i,`;
  }
  
  .`).concat(Vf,` {
    margin-right: `).concat(d,"px ").concat(i,`;
  }
  
  .`).concat(jf," .").concat(jf,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Vf," .").concat(Vf,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(rl,`] {
    `).concat(iU,": ").concat(d,`px;
  }
`)},Wx=function(){var n=parseInt(document.body.getAttribute(rl)||"0",10);return isFinite(n)?n:0},xU=function(){T.useEffect(function(){return document.body.setAttribute(rl,(Wx()+1).toString()),function(){var n=Wx()-1;n<=0?document.body.removeAttribute(rl):document.body.setAttribute(rl,n.toString())}},[])},TU=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,a=i===void 0?"margin":i;xU();var l=T.useMemo(function(){return bU(a)},[a]);return T.createElement(wU,{styles:EU(l,!e,a,t?"":"!important")})},xy=!1;if(typeof window<"u")try{var bf=Object.defineProperty({},"passive",{get:function(){return xy=!0,!0}});window.addEventListener("test",bf,bf),window.removeEventListener("test",bf,bf)}catch{xy=!1}var Ho=xy?{passive:!1}:!1,SU=function(n){return n.tagName==="TEXTAREA"},eR=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!SU(n)&&t[e]==="visible")},AU=function(n){return eR(n,"overflowY")},RU=function(n){return eR(n,"overflowX")},Zx=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var a=tR(n,i);if(a){var l=nR(n,i),u=l[1],d=l[2];if(u>d)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},CU=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},IU=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},tR=function(n,e){return n==="v"?AU(e):RU(e)},nR=function(n,e){return n==="v"?CU(e):IU(e)},NU=function(n,e){return n==="h"&&e==="rtl"?-1:1},PU=function(n,e,t,i,a){var l=NU(n,window.getComputedStyle(e).direction),u=l*i,d=t.target,h=e.contains(d),p=!1,v=u>0,_=0,w=0;do{if(!d)break;var R=nR(n,d),I=R[0],A=R[1],P=R[2],C=A-P-l*I;(I||C)&&tR(n,d)&&(_+=C,w+=I);var M=d.parentNode;d=M&&M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?M.host:M}while(!h&&d!==document.body||h&&(e.contains(d)||e===d));return(v&&Math.abs(_)<1||!v&&Math.abs(w)<1)&&(p=!0),p},wf=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Jx=function(n){return[n.deltaX,n.deltaY]},eT=function(n){return n&&"current"in n?n.current:n},OU=function(n,e){return n[0]===e[0]&&n[1]===e[1]},kU=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},DU=0,qo=[];function MU(n){var e=T.useRef([]),t=T.useRef([0,0]),i=T.useRef(),a=T.useState(DU++)[0],l=T.useState(JA)[0],u=T.useRef(n);T.useEffect(function(){u.current=n},[n]),T.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(a));var A=DP([n.lockRef.current],(n.shards||[]).map(eT),!0).filter(Boolean);return A.forEach(function(P){return P.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),A.forEach(function(P){return P.classList.remove("allow-interactivity-".concat(a))})}}},[n.inert,n.lockRef.current,n.shards]);var d=T.useCallback(function(A,P){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!u.current.allowPinchZoom;var C=wf(A),M=t.current,N="deltaX"in A?A.deltaX:M[0]-C[0],U="deltaY"in A?A.deltaY:M[1]-C[1],H,Y=A.target,O=Math.abs(N)>Math.abs(U)?"h":"v";if("touches"in A&&O==="h"&&Y.type==="range")return!1;var x=Zx(O,Y);if(!x)return!0;if(x?H=O:(H=O==="v"?"h":"v",x=Zx(O,Y)),!x)return!1;if(!i.current&&"changedTouches"in A&&(N||U)&&(i.current=H),!H)return!0;var k=i.current||H;return PU(k,P,A,k==="h"?N:U)},[]),h=T.useCallback(function(A){var P=A;if(!(!qo.length||qo[qo.length-1]!==l)){var C="deltaY"in P?Jx(P):wf(P),M=e.current.filter(function(H){return H.name===P.type&&(H.target===P.target||P.target===H.shadowParent)&&OU(H.delta,C)})[0];if(M&&M.should){P.cancelable&&P.preventDefault();return}if(!M){var N=(u.current.shards||[]).map(eT).filter(Boolean).filter(function(H){return H.contains(P.target)}),U=N.length>0?d(P,N[0]):!u.current.noIsolation;U&&P.cancelable&&P.preventDefault()}}},[]),p=T.useCallback(function(A,P,C,M){var N={name:A,delta:P,target:C,should:M,shadowParent:jU(C)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(U){return U!==N})},1)},[]),v=T.useCallback(function(A){t.current=wf(A),i.current=void 0},[]),_=T.useCallback(function(A){p(A.type,Jx(A),A.target,d(A,n.lockRef.current))},[]),w=T.useCallback(function(A){p(A.type,wf(A),A.target,d(A,n.lockRef.current))},[]);T.useEffect(function(){return qo.push(l),n.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:w}),document.addEventListener("wheel",h,Ho),document.addEventListener("touchmove",h,Ho),document.addEventListener("touchstart",v,Ho),function(){qo=qo.filter(function(A){return A!==l}),document.removeEventListener("wheel",h,Ho),document.removeEventListener("touchmove",h,Ho),document.removeEventListener("touchstart",v,Ho)}},[]);var R=n.removeScrollBar,I=n.inert;return T.createElement(T.Fragment,null,I?T.createElement(l,{styles:kU(a)}):null,R?T.createElement(TU,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function jU(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const VU=dU(ZA,MU);var rR=T.forwardRef(function(n,e){return T.createElement(zh,zr({},n,{ref:e,sideCar:VU}))});rR.classNames=zh.classNames;var LU=[" ","Enter","ArrowUp","ArrowDown"],UU=[" ","Enter"],Ua="Select",[Bh,Fh,zU]=wA(Ua),[Cl,J9]=Nu(Ua,[zU,UA]),Hh=UA(),[BU,Hs]=Cl(Ua),[FU,HU]=Cl(Ua),iR=n=>{const{__scopeSelect:e,children:t,open:i,defaultOpen:a,onOpenChange:l,value:u,defaultValue:d,onValueChange:h,dir:p,name:v,autoComplete:_,disabled:w,required:R,form:I}=n,A=Hh(e),[P,C]=T.useState(null),[M,N]=T.useState(null),[U,H]=T.useState(!1),Y=zv(p),[O,x]=fh({prop:i,defaultProp:a??!1,onChange:l,caller:Ua}),[k,L]=fh({prop:u,defaultProp:d,onChange:h,caller:Ua}),z=T.useRef(null),F=P?I||!!P.closest("form"):!0,[V,K]=T.useState(new Set),oe=Array.from(V).map($=>$.props.value).join(";");return y.jsx(F3,{...A,children:y.jsxs(BU,{required:R,scope:e,trigger:P,onTriggerChange:C,valueNode:M,onValueNodeChange:N,valueNodeHasChildren:U,onValueNodeHasChildrenChange:H,contentId:Pu(),value:k,onValueChange:L,open:O,onOpenChange:x,dir:Y,triggerPointerDownPosRef:z,disabled:w,children:[y.jsx(Bh.Provider,{scope:e,children:y.jsx(FU,{scope:n.__scopeSelect,onNativeOptionAdd:T.useCallback($=>{K(re=>new Set(re).add($))},[]),onNativeOptionRemove:T.useCallback($=>{K(re=>{const X=new Set(re);return X.delete($),X})},[]),children:t})}),F?y.jsxs(AR,{"aria-hidden":!0,required:R,tabIndex:-1,name:v,autoComplete:_,value:k,onChange:$=>L($.target.value),disabled:w,form:I,children:[k===void 0?y.jsx("option",{value:""}):null,Array.from(V)]},oe):null]})})};iR.displayName=Ua;var sR="SelectTrigger",aR=T.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:i=!1,...a}=n,l=Hh(t),u=Hs(sR,t),d=u.disabled||i,h=Qt(e,u.onTriggerChange),p=Fh(t),v=T.useRef("touch"),[_,w,R]=CR(A=>{const P=p().filter(N=>!N.disabled),C=P.find(N=>N.value===u.value),M=IR(P,A,C);M!==void 0&&u.onValueChange(M.value)}),I=A=>{d||(u.onOpenChange(!0),R()),A&&(u.triggerPointerDownPosRef.current={x:Math.round(A.pageX),y:Math.round(A.pageY)})};return y.jsx(H3,{asChild:!0,...l,children:y.jsx(ft.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":RR(u.value)?"":void 0,...a,ref:h,onClick:ot(a.onClick,A=>{A.currentTarget.focus(),v.current!=="mouse"&&I(A)}),onPointerDown:ot(a.onPointerDown,A=>{v.current=A.pointerType;const P=A.target;P.hasPointerCapture(A.pointerId)&&P.releasePointerCapture(A.pointerId),A.button===0&&A.ctrlKey===!1&&A.pointerType==="mouse"&&(I(A),A.preventDefault())}),onKeyDown:ot(a.onKeyDown,A=>{const P=_.current!=="";!(A.ctrlKey||A.altKey||A.metaKey)&&A.key.length===1&&w(A.key),!(P&&A.key===" ")&&LU.includes(A.key)&&(I(),A.preventDefault())})})})});aR.displayName=sR;var oR="SelectValue",lR=T.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:a,children:l,placeholder:u="",...d}=n,h=Hs(oR,t),{onValueNodeHasChildrenChange:p}=h,v=l!==void 0,_=Qt(e,h.onValueNodeChange);return bn(()=>{p(v)},[p,v]),y.jsx(ft.span,{...d,ref:_,style:{pointerEvents:"none"},children:RR(h.value)?y.jsx(y.Fragment,{children:u}):l})});lR.displayName=oR;var qU="SelectIcon",cR=T.forwardRef((n,e)=>{const{__scopeSelect:t,children:i,...a}=n;return y.jsx(ft.span,{"aria-hidden":!0,...a,ref:e,children:i||""})});cR.displayName=qU;var $U="SelectPortal",uR=n=>y.jsx(YA,{asChild:!0,...n});uR.displayName=$U;var za="SelectContent",dR=T.forwardRef((n,e)=>{const t=Hs(za,n.__scopeSelect),[i,a]=T.useState();if(bn(()=>{a(new DocumentFragment)},[]),!t.open){const l=i;return l?yu.createPortal(y.jsx(fR,{scope:n.__scopeSelect,children:y.jsx(Bh.Slot,{scope:n.__scopeSelect,children:y.jsx("div",{children:n.children})})}),l):null}return y.jsx(hR,{...n,ref:e})});dR.displayName=za;var ur=10,[fR,qs]=Cl(za),GU="SelectContentImpl",KU=fu("SelectContent.RemoveScroll"),hR=T.forwardRef((n,e)=>{const{__scopeSelect:t,position:i="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:l,onPointerDownOutside:u,side:d,sideOffset:h,align:p,alignOffset:v,arrowPadding:_,collisionBoundary:w,collisionPadding:R,sticky:I,hideWhenDetached:A,avoidCollisions:P,...C}=n,M=Hs(za,t),[N,U]=T.useState(null),[H,Y]=T.useState(null),O=Qt(e,me=>U(me)),[x,k]=T.useState(null),[L,z]=T.useState(null),F=Fh(t),[V,K]=T.useState(!1),oe=T.useRef(!1);T.useEffect(()=>{if(N)return nU(N)},[N]),T6();const $=T.useCallback(me=>{const[ve,...Le]=F().map(Ve=>Ve.ref.current),[ke]=Le.slice(-1),De=document.activeElement;for(const Ve of me)if(Ve===De||(Ve==null||Ve.scrollIntoView({block:"nearest"}),Ve===ve&&H&&(H.scrollTop=0),Ve===ke&&H&&(H.scrollTop=H.scrollHeight),Ve==null||Ve.focus(),document.activeElement!==De))return},[F,H]),re=T.useCallback(()=>$([x,N]),[$,x,N]);T.useEffect(()=>{V&&re()},[V,re]);const{onOpenChange:X,triggerPointerDownPosRef:se}=M;T.useEffect(()=>{if(N){let me={x:0,y:0};const ve=ke=>{var De,Ve;me={x:Math.abs(Math.round(ke.pageX)-(((De=se.current)==null?void 0:De.x)??0)),y:Math.abs(Math.round(ke.pageY)-(((Ve=se.current)==null?void 0:Ve.y)??0))}},Le=ke=>{me.x<=10&&me.y<=10?ke.preventDefault():N.contains(ke.target)||X(!1),document.removeEventListener("pointermove",ve),se.current=null};return se.current!==null&&(document.addEventListener("pointermove",ve),document.addEventListener("pointerup",Le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ve),document.removeEventListener("pointerup",Le,{capture:!0})}}},[N,X,se]),T.useEffect(()=>{const me=()=>X(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[X]);const[B,te]=CR(me=>{const ve=F().filter(De=>!De.disabled),Le=ve.find(De=>De.ref.current===document.activeElement),ke=IR(ve,me,Le);ke&&setTimeout(()=>ke.ref.current.focus())}),ue=T.useCallback((me,ve,Le)=>{const ke=!oe.current&&!Le;(M.value!==void 0&&M.value===ve||ke)&&(k(me),ke&&(oe.current=!0))},[M.value]),ae=T.useCallback(()=>N==null?void 0:N.focus(),[N]),pe=T.useCallback((me,ve,Le)=>{const ke=!oe.current&&!Le;(M.value!==void 0&&M.value===ve||ke)&&z(me)},[M.value]),Se=i==="popper"?Ty:mR,xe=Se===Ty?{side:d,sideOffset:h,align:p,alignOffset:v,arrowPadding:_,collisionBoundary:w,collisionPadding:R,sticky:I,hideWhenDetached:A,avoidCollisions:P}:{};return y.jsx(fR,{scope:t,content:N,viewport:H,onViewportChange:Y,itemRefCallback:ue,selectedItem:x,onItemLeave:ae,itemTextRefCallback:pe,focusSelectedItem:re,selectedItemText:L,position:i,isPositioned:V,searchRef:B,children:y.jsx(rR,{as:KU,allowPinchZoom:!0,children:y.jsx(SA,{asChild:!0,trapped:M.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:ot(a,me=>{var ve;(ve=M.trigger)==null||ve.focus({preventScroll:!0}),me.preventDefault()}),children:y.jsx(xA,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>M.onOpenChange(!1),children:y.jsx(Se,{role:"listbox",id:M.contentId,"data-state":M.open?"open":"closed",dir:M.dir,onContextMenu:me=>me.preventDefault(),...C,...xe,onPlaced:()=>K(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:ot(C.onKeyDown,me=>{const ve=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!ve&&me.key.length===1&&te(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let ke=F().filter(De=>!De.disabled).map(De=>De.ref.current);if(["ArrowUp","End"].includes(me.key)&&(ke=ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const De=me.target,Ve=ke.indexOf(De);ke=ke.slice(Ve+1)}setTimeout(()=>$(ke)),me.preventDefault()}})})})})})})});hR.displayName=GU;var YU="SelectItemAlignedPosition",mR=T.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:i,...a}=n,l=Hs(za,t),u=qs(za,t),[d,h]=T.useState(null),[p,v]=T.useState(null),_=Qt(e,O=>v(O)),w=Fh(t),R=T.useRef(!1),I=T.useRef(!0),{viewport:A,selectedItem:P,selectedItemText:C,focusSelectedItem:M}=u,N=T.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&p&&A&&P&&C){const O=l.trigger.getBoundingClientRect(),x=p.getBoundingClientRect(),k=l.valueNode.getBoundingClientRect(),L=C.getBoundingClientRect();if(l.dir!=="rtl"){const De=L.left-x.left,Ve=k.left-De,pt=O.left-Ve,Rt=O.width+pt,Ae=Math.max(Rt,x.width),bt=window.innerWidth-ur,wt=Dx(Ve,[ur,Math.max(ur,bt-Ae)]);d.style.minWidth=Rt+"px",d.style.left=wt+"px"}else{const De=x.right-L.right,Ve=window.innerWidth-k.right-De,pt=window.innerWidth-O.right-Ve,Rt=O.width+pt,Ae=Math.max(Rt,x.width),bt=window.innerWidth-ur,wt=Dx(Ve,[ur,Math.max(ur,bt-Ae)]);d.style.minWidth=Rt+"px",d.style.right=wt+"px"}const z=w(),F=window.innerHeight-ur*2,V=A.scrollHeight,K=window.getComputedStyle(p),oe=parseInt(K.borderTopWidth,10),$=parseInt(K.paddingTop,10),re=parseInt(K.borderBottomWidth,10),X=parseInt(K.paddingBottom,10),se=oe+$+V+X+re,B=Math.min(P.offsetHeight*5,se),te=window.getComputedStyle(A),ue=parseInt(te.paddingTop,10),ae=parseInt(te.paddingBottom,10),pe=O.top+O.height/2-ur,Se=F-pe,xe=P.offsetHeight/2,me=P.offsetTop+xe,ve=oe+$+me,Le=se-ve;if(ve<=pe){const De=z.length>0&&P===z[z.length-1].ref.current;d.style.bottom="0px";const Ve=p.clientHeight-A.offsetTop-A.offsetHeight,pt=Math.max(Se,xe+(De?ae:0)+Ve+re),Rt=ve+pt;d.style.height=Rt+"px"}else{const De=z.length>0&&P===z[0].ref.current;d.style.top="0px";const pt=Math.max(pe,oe+A.offsetTop+(De?ue:0)+xe)+Le;d.style.height=pt+"px",A.scrollTop=ve-pe+A.offsetTop}d.style.margin=`${ur}px 0`,d.style.minHeight=B+"px",d.style.maxHeight=F+"px",i==null||i(),requestAnimationFrame(()=>R.current=!0)}},[w,l.trigger,l.valueNode,d,p,A,P,C,l.dir,i]);bn(()=>N(),[N]);const[U,H]=T.useState();bn(()=>{p&&H(window.getComputedStyle(p).zIndex)},[p]);const Y=T.useCallback(O=>{O&&I.current===!0&&(N(),M==null||M(),I.current=!1)},[N,M]);return y.jsx(XU,{scope:t,contentWrapper:d,shouldExpandOnScrollRef:R,onScrollButtonChange:Y,children:y.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:U},children:y.jsx(ft.div,{...a,ref:_,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});mR.displayName=YU;var QU="SelectPopperPosition",Ty=T.forwardRef((n,e)=>{const{__scopeSelect:t,align:i="start",collisionPadding:a=ur,...l}=n,u=Hh(t);return y.jsx(q3,{...u,...l,ref:e,align:i,collisionPadding:a,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ty.displayName=QU;var[XU,Xv]=Cl(za,{}),Sy="SelectViewport",pR=T.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:i,...a}=n,l=qs(Sy,t),u=Xv(Sy,t),d=Qt(e,l.onViewportChange),h=T.useRef(0);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),y.jsx(Bh.Slot,{scope:t,children:y.jsx(ft.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ot(a.onScroll,p=>{const v=p.currentTarget,{contentWrapper:_,shouldExpandOnScrollRef:w}=u;if(w!=null&&w.current&&_){const R=Math.abs(h.current-v.scrollTop);if(R>0){const I=window.innerHeight-ur*2,A=parseFloat(_.style.minHeight),P=parseFloat(_.style.height),C=Math.max(A,P);if(C<I){const M=C+R,N=Math.min(I,M),U=M-N;_.style.height=N+"px",_.style.bottom==="0px"&&(v.scrollTop=U>0?U:0,_.style.justifyContent="flex-end")}}}h.current=v.scrollTop})})})]})});pR.displayName=Sy;var gR="SelectGroup",[WU,ZU]=Cl(gR),JU=T.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,a=Pu();return y.jsx(WU,{scope:t,id:a,children:y.jsx(ft.div,{role:"group","aria-labelledby":a,...i,ref:e})})});JU.displayName=gR;var yR="SelectLabel",e9=T.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,a=ZU(yR,t);return y.jsx(ft.div,{id:a.id,...i,ref:e})});e9.displayName=yR;var hh="SelectItem",[t9,vR]=Cl(hh),_R=T.forwardRef((n,e)=>{const{__scopeSelect:t,value:i,disabled:a=!1,textValue:l,...u}=n,d=Hs(hh,t),h=qs(hh,t),p=d.value===i,[v,_]=T.useState(l??""),[w,R]=T.useState(!1),I=Qt(e,M=>{var N;return(N=h.itemRefCallback)==null?void 0:N.call(h,M,i,a)}),A=Pu(),P=T.useRef("touch"),C=()=>{a||(d.onValueChange(i),d.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return y.jsx(t9,{scope:t,value:i,disabled:a,textId:A,isSelected:p,onItemTextChange:T.useCallback(M=>{_(N=>N||((M==null?void 0:M.textContent)??"").trim())},[]),children:y.jsx(Bh.ItemSlot,{scope:t,value:i,disabled:a,textValue:v,children:y.jsx(ft.div,{role:"option","aria-labelledby":A,"data-highlighted":w?"":void 0,"aria-selected":p&&w,"data-state":p?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...u,ref:I,onFocus:ot(u.onFocus,()=>R(!0)),onBlur:ot(u.onBlur,()=>R(!1)),onClick:ot(u.onClick,()=>{P.current!=="mouse"&&C()}),onPointerUp:ot(u.onPointerUp,()=>{P.current==="mouse"&&C()}),onPointerDown:ot(u.onPointerDown,M=>{P.current=M.pointerType}),onPointerMove:ot(u.onPointerMove,M=>{var N;P.current=M.pointerType,a?(N=h.onItemLeave)==null||N.call(h):P.current==="mouse"&&M.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ot(u.onPointerLeave,M=>{var N;M.currentTarget===document.activeElement&&((N=h.onItemLeave)==null||N.call(h))}),onKeyDown:ot(u.onKeyDown,M=>{var U;((U=h.searchRef)==null?void 0:U.current)!==""&&M.key===" "||(UU.includes(M.key)&&C(),M.key===" "&&M.preventDefault())})})})})});_R.displayName=hh;var Yc="SelectItemText",bR=T.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:a,...l}=n,u=Hs(Yc,t),d=qs(Yc,t),h=vR(Yc,t),p=HU(Yc,t),[v,_]=T.useState(null),w=Qt(e,C=>_(C),h.onItemTextChange,C=>{var M;return(M=d.itemTextRefCallback)==null?void 0:M.call(d,C,h.value,h.disabled)}),R=v==null?void 0:v.textContent,I=T.useMemo(()=>y.jsx("option",{value:h.value,disabled:h.disabled,children:R},h.value),[h.disabled,h.value,R]),{onNativeOptionAdd:A,onNativeOptionRemove:P}=p;return bn(()=>(A(I),()=>P(I)),[A,P,I]),y.jsxs(y.Fragment,{children:[y.jsx(ft.span,{id:h.textId,...l,ref:w}),h.isSelected&&u.valueNode&&!u.valueNodeHasChildren?yu.createPortal(l.children,u.valueNode):null]})});bR.displayName=Yc;var wR="SelectItemIndicator",ER=T.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return vR(wR,t).isSelected?y.jsx(ft.span,{"aria-hidden":!0,...i,ref:e}):null});ER.displayName=wR;var Ay="SelectScrollUpButton",xR=T.forwardRef((n,e)=>{const t=qs(Ay,n.__scopeSelect),i=Xv(Ay,n.__scopeSelect),[a,l]=T.useState(!1),u=Qt(e,i.onScrollButtonChange);return bn(()=>{if(t.viewport&&t.isPositioned){let d=function(){const p=h.scrollTop>0;l(p)};const h=t.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),a?y.jsx(SR,{...n,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=t;d&&h&&(d.scrollTop=d.scrollTop-h.offsetHeight)}}):null});xR.displayName=Ay;var Ry="SelectScrollDownButton",TR=T.forwardRef((n,e)=>{const t=qs(Ry,n.__scopeSelect),i=Xv(Ry,n.__scopeSelect),[a,l]=T.useState(!1),u=Qt(e,i.onScrollButtonChange);return bn(()=>{if(t.viewport&&t.isPositioned){let d=function(){const p=h.scrollHeight-h.clientHeight,v=Math.ceil(h.scrollTop)<p;l(v)};const h=t.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),a?y.jsx(SR,{...n,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=t;d&&h&&(d.scrollTop=d.scrollTop+h.offsetHeight)}}):null});TR.displayName=Ry;var SR=T.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:i,...a}=n,l=qs("SelectScrollButton",t),u=T.useRef(null),d=Fh(t),h=T.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return T.useEffect(()=>()=>h(),[h]),bn(()=>{var v;const p=d().find(_=>_.ref.current===document.activeElement);(v=p==null?void 0:p.ref.current)==null||v.scrollIntoView({block:"nearest"})},[d]),y.jsx(ft.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:ot(a.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(i,50))}),onPointerMove:ot(a.onPointerMove,()=>{var p;(p=l.onItemLeave)==null||p.call(l),u.current===null&&(u.current=window.setInterval(i,50))}),onPointerLeave:ot(a.onPointerLeave,()=>{h()})})}),n9="SelectSeparator",r9=T.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return y.jsx(ft.div,{"aria-hidden":!0,...i,ref:e})});r9.displayName=n9;var Cy="SelectArrow",i9=T.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,a=Hh(t),l=Hs(Cy,t),u=qs(Cy,t);return l.open&&u.position==="popper"?y.jsx($3,{...a,...i,ref:e}):null});i9.displayName=Cy;var s9="SelectBubbleInput",AR=T.forwardRef(({__scopeSelect:n,value:e,...t},i)=>{const a=T.useRef(null),l=Qt(i,a),u=X3(e);return T.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(h,"value").set;if(u!==e&&v){const _=new Event("change",{bubbles:!0});v.call(d,e),d.dispatchEvent(_)}},[u,e]),y.jsx(ft.select,{...t,style:{...QA,...t.style},ref:l,defaultValue:e})});AR.displayName=s9;function RR(n){return n===""||n===void 0}function CR(n){const e=Us(n),t=T.useRef(""),i=T.useRef(0),a=T.useCallback(u=>{const d=t.current+u;e(d),function h(p){t.current=p,window.clearTimeout(i.current),p!==""&&(i.current=window.setTimeout(()=>h(""),1e3))}(d)},[e]),l=T.useCallback(()=>{t.current="",window.clearTimeout(i.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(i.current),[]),[t,a,l]}function IR(n,e,t){const a=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,l=t?n.indexOf(t):-1;let u=a9(n,Math.max(l,0));a.length===1&&(u=u.filter(p=>p!==t));const h=u.find(p=>p.textValue.toLowerCase().startsWith(a.toLowerCase()));return h!==t?h:void 0}function a9(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var o9=iR,l9=aR,c9=lR,u9=cR,d9=uR,f9=dR,h9=pR,m9=_R,p9=bR,g9=ER,y9=xR,v9=TR;function _9({...n}){return y.jsx(o9,{"data-slot":"select",...n})}function b9({...n}){return y.jsx(c9,{"data-slot":"select-value",...n})}function w9({className:n,size:e="default",children:t,...i}){return y.jsxs(l9,{"data-slot":"select-trigger","data-size":e,className:Ut("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...i,children:[t,y.jsx(u9,{asChild:!0,children:y.jsx(hA,{className:"size-4 opacity-50"})})]})}function E9({className:n,children:e,position:t="popper",...i}){return y.jsx(d9,{children:y.jsxs(f9,{"data-slot":"select-content",className:Ut("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...i,children:[y.jsx(x9,{}),y.jsx(h9,{className:Ut("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),y.jsx(T9,{})]})})}function Mg({className:n,children:e,...t}){return y.jsxs(m9,{"data-slot":"select-item",className:Ut("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[y.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:y.jsx(g9,{children:y.jsx(Lv,{className:"size-4"})})}),y.jsx(p9,{children:e})]})}function x9({className:n,...e}){return y.jsx(y9,{"data-slot":"select-scroll-up-button",className:Ut("flex cursor-default items-center justify-center py-1",n),...e,children:y.jsx(rL,{className:"size-4"})})}function T9({className:n,...e}){return y.jsx(v9,{"data-slot":"select-scroll-down-button",className:Ut("flex cursor-default items-center justify-center py-1",n),...e,children:y.jsx(hA,{className:"size-4"})})}var jg="rovingFocusGroup.onEntryFocus",S9={bubbles:!1,cancelable:!0},ku="RovingFocusGroup",[Iy,NR,A9]=wA(ku),[R9,PR]=Nu(ku,[A9]),[C9,I9]=R9(ku),OR=T.forwardRef((n,e)=>y.jsx(Iy.Provider,{scope:n.__scopeRovingFocusGroup,children:y.jsx(Iy.Slot,{scope:n.__scopeRovingFocusGroup,children:y.jsx(N9,{...n,ref:e})})}));OR.displayName=ku;var N9=T.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:i,loop:a=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:v=!1,..._}=n,w=T.useRef(null),R=Qt(e,w),I=zv(l),[A,P]=fh({prop:u,defaultProp:d??null,onChange:h,caller:ku}),[C,M]=T.useState(!1),N=Us(p),U=NR(t),H=T.useRef(!1),[Y,O]=T.useState(0);return T.useEffect(()=>{const x=w.current;if(x)return x.addEventListener(jg,N),()=>x.removeEventListener(jg,N)},[N]),y.jsx(C9,{scope:t,orientation:i,dir:I,loop:a,currentTabStopId:A,onItemFocus:T.useCallback(x=>P(x),[P]),onItemShiftTab:T.useCallback(()=>M(!0),[]),onFocusableItemAdd:T.useCallback(()=>O(x=>x+1),[]),onFocusableItemRemove:T.useCallback(()=>O(x=>x-1),[]),children:y.jsx(ft.div,{tabIndex:C||Y===0?-1:0,"data-orientation":i,..._,ref:R,style:{outline:"none",...n.style},onMouseDown:ot(n.onMouseDown,()=>{H.current=!0}),onFocus:ot(n.onFocus,x=>{const k=!H.current;if(x.target===x.currentTarget&&k&&!C){const L=new CustomEvent(jg,S9);if(x.currentTarget.dispatchEvent(L),!L.defaultPrevented){const z=U().filter($=>$.focusable),F=z.find($=>$.active),V=z.find($=>$.id===A),oe=[F,V,...z].filter(Boolean).map($=>$.ref.current);MR(oe,v)}}H.current=!1}),onBlur:ot(n.onBlur,()=>M(!1))})})}),kR="RovingFocusGroupItem",DR=T.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:i=!0,active:a=!1,tabStopId:l,children:u,...d}=n,h=Pu(),p=l||h,v=I9(kR,t),_=v.currentTabStopId===p,w=NR(t),{onFocusableItemAdd:R,onFocusableItemRemove:I,currentTabStopId:A}=v;return T.useEffect(()=>{if(i)return R(),()=>I()},[i,R,I]),y.jsx(Iy.ItemSlot,{scope:t,id:p,focusable:i,active:a,children:y.jsx(ft.span,{tabIndex:_?0:-1,"data-orientation":v.orientation,...d,ref:e,onMouseDown:ot(n.onMouseDown,P=>{i?v.onItemFocus(p):P.preventDefault()}),onFocus:ot(n.onFocus,()=>v.onItemFocus(p)),onKeyDown:ot(n.onKeyDown,P=>{if(P.key==="Tab"&&P.shiftKey){v.onItemShiftTab();return}if(P.target!==P.currentTarget)return;const C=k9(P,v.orientation,v.dir);if(C!==void 0){if(P.metaKey||P.ctrlKey||P.altKey||P.shiftKey)return;P.preventDefault();let N=w().filter(U=>U.focusable).map(U=>U.ref.current);if(C==="last")N.reverse();else if(C==="prev"||C==="next"){C==="prev"&&N.reverse();const U=N.indexOf(P.currentTarget);N=v.loop?D9(N,U+1):N.slice(U+1)}setTimeout(()=>MR(N))}}),children:typeof u=="function"?u({isCurrentTabStop:_,hasTabStop:A!=null}):u})})});DR.displayName=kR;var P9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function O9(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function k9(n,e,t){const i=O9(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return P9[i]}function MR(n,e=!1){const t=document.activeElement;for(const i of n)if(i===t||(i.focus({preventScroll:e}),document.activeElement!==t))return}function D9(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var M9=OR,j9=DR;function V9(n,e){return T.useReducer((t,i)=>e[t][i]??t,n)}var jR=n=>{const{present:e,children:t}=n,i=L9(e),a=typeof t=="function"?t({present:i.isPresent}):T.Children.only(t),l=Qt(i.ref,U9(a));return typeof t=="function"||i.isPresent?T.cloneElement(a,{ref:l}):null};jR.displayName="Presence";function L9(n){const[e,t]=T.useState(),i=T.useRef(null),a=T.useRef(n),l=T.useRef("none"),u=n?"mounted":"unmounted",[d,h]=V9(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const p=Ef(i.current);l.current=d==="mounted"?p:"none"},[d]),bn(()=>{const p=i.current,v=a.current;if(v!==n){const w=l.current,R=Ef(p);n?h("MOUNT"):R==="none"||(p==null?void 0:p.display)==="none"?h("UNMOUNT"):h(v&&w!==R?"ANIMATION_OUT":"UNMOUNT"),a.current=n}},[n,h]),bn(()=>{if(e){let p;const v=e.ownerDocument.defaultView??window,_=R=>{const A=Ef(i.current).includes(R.animationName);if(R.target===e&&A&&(h("ANIMATION_END"),!a.current)){const P=e.style.animationFillMode;e.style.animationFillMode="forwards",p=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=P)})}},w=R=>{R.target===e&&(l.current=Ef(i.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{v.clearTimeout(p),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:T.useCallback(p=>{i.current=p?getComputedStyle(p):null,t(p)},[])}}function Ef(n){return(n==null?void 0:n.animationName)||"none"}function U9(n){var i,a;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var qh="Tabs",[z9,e5]=Nu(qh,[PR]),VR=PR(),[B9,Wv]=z9(qh),LR=T.forwardRef((n,e)=>{const{__scopeTabs:t,value:i,onValueChange:a,defaultValue:l,orientation:u="horizontal",dir:d,activationMode:h="automatic",...p}=n,v=zv(d),[_,w]=fh({prop:i,onChange:a,defaultProp:l??"",caller:qh});return y.jsx(B9,{scope:t,baseId:Pu(),value:_,onValueChange:w,orientation:u,dir:v,activationMode:h,children:y.jsx(ft.div,{dir:v,"data-orientation":u,...p,ref:e})})});LR.displayName=qh;var UR="TabsList",zR=T.forwardRef((n,e)=>{const{__scopeTabs:t,loop:i=!0,...a}=n,l=Wv(UR,t),u=VR(t);return y.jsx(M9,{asChild:!0,...u,orientation:l.orientation,dir:l.dir,loop:i,children:y.jsx(ft.div,{role:"tablist","aria-orientation":l.orientation,...a,ref:e})})});zR.displayName=UR;var BR="TabsTrigger",FR=T.forwardRef((n,e)=>{const{__scopeTabs:t,value:i,disabled:a=!1,...l}=n,u=Wv(BR,t),d=VR(t),h=$R(u.baseId,i),p=GR(u.baseId,i),v=i===u.value;return y.jsx(j9,{asChild:!0,...d,focusable:!a,active:v,children:y.jsx(ft.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":p,"data-state":v?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:h,...l,ref:e,onMouseDown:ot(n.onMouseDown,_=>{!a&&_.button===0&&_.ctrlKey===!1?u.onValueChange(i):_.preventDefault()}),onKeyDown:ot(n.onKeyDown,_=>{[" ","Enter"].includes(_.key)&&u.onValueChange(i)}),onFocus:ot(n.onFocus,()=>{const _=u.activationMode!=="manual";!v&&!a&&_&&u.onValueChange(i)})})})});FR.displayName=BR;var HR="TabsContent",qR=T.forwardRef((n,e)=>{const{__scopeTabs:t,value:i,forceMount:a,children:l,...u}=n,d=Wv(HR,t),h=$R(d.baseId,i),p=GR(d.baseId,i),v=i===d.value,_=T.useRef(v);return T.useEffect(()=>{const w=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(w)},[]),y.jsx(jR,{present:a||v,children:({present:w})=>y.jsx(ft.div,{"data-state":v?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":h,hidden:!w,id:p,tabIndex:0,...u,ref:e,style:{...n.style,animationDuration:_.current?"0s":void 0},children:w&&l})})});qR.displayName=HR;function $R(n,e){return`${n}-trigger-${e}`}function GR(n,e){return`${n}-content-${e}`}var F9=LR,H9=zR,q9=FR,$9=qR;function G9({className:n,...e}){return y.jsx(F9,{"data-slot":"tabs",className:Ut("flex flex-col gap-2",n),...e})}function K9({className:n,...e}){return y.jsx(H9,{"data-slot":"tabs-list",className:Ut("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",n),...e})}function Vg({className:n,...e}){return y.jsx(q9,{"data-slot":"tabs-trigger",className:Ut("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...e})}function Lg({className:n,...e}){return y.jsx($9,{"data-slot":"tabs-content",className:Ut("flex-1 outline-none",n),...e})}const Y9=()=>{const[n,e]=T.useState("content"),[t,i]=T.useState(""),[a,l]=T.useState(!1),[u,d]=T.useState(""),[h,p]=T.useState(0),[v,_]=T.useState({title:"",type:"movie",genre:"",year:"",description:"",videoUrl:"",trailerUrl:"",posterUrl:"",backdropUrl:"",duration:"",rating:"",cast:"",director:""}),{currentUser:w}=rr(),R=(w==null?void 0:w.email)==="admin@isaacplay.com";ei({onArrowUp:()=>p(C=>Math.max(0,C-1)),onArrowDown:()=>p(C=>C+1),onArrowLeft:()=>{const C=["content","users","settings"],M=C.indexOf(n);M>0&&e(C[M-1])},onArrowRight:()=>{const C=["content","users","settings"],M=C.indexOf(n);M<C.length-1&&e(C[M+1])},enabled:!0});const I=(C,M)=>{_(N=>({...N,[C]:M}))},A=async()=>{if(!v.title||!v.videoUrl){d("Ttulo e URL do vdeo so obrigatrios");return}l(!0);try{await new Promise(C=>setTimeout(C,1e3)),d(`${v.type==="movie"?"Filme":v.type==="series"?"Srie":"Canal"} "${v.title}" adicionado com sucesso!`),_({title:"",type:"movie",genre:"",year:"",description:"",videoUrl:"",trailerUrl:"",posterUrl:"",backdropUrl:"",duration:"",rating:"",cast:"",director:""})}catch{d("Erro ao adicionar contedo. Tente novamente.")}finally{l(!1)}},P=async()=>{if(!v.title){d("Digite um ttulo para buscar");return}l(!0);try{await new Promise(C=>setTimeout(C,1e3)),_(C=>({...C,genre:"Ao, Aventura",year:"2023",description:"Descrio obtida automaticamente da API TMDB...",posterUrl:"https://image.tmdb.org/t/p/w500/example.jpg",backdropUrl:"https://image.tmdb.org/t/p/w1280/example.jpg",rating:"8.5",cast:"Ator 1, Ator 2, Ator 3",director:"Diretor Exemplo"})),d("Informaes obtidas da TMDB com sucesso!")}catch{d("Erro ao buscar informaes na TMDB")}finally{l(!1)}};return R?y.jsx(Di,{children:y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black p-6",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Painel Administrativo"}),y.jsx("p",{className:"text-gray-400",children:"Gerencie contedos, usurios e configuraes do IsaacPlay"})]}),u&&y.jsx(Dv,{className:"mb-6 bg-red-900/50 border-red-700",children:y.jsx(Mv,{className:"text-red-200",children:u})}),y.jsxs(G9,{value:n,onValueChange:e,className:"w-full",children:[y.jsxs(K9,{className:"grid w-full grid-cols-3 bg-gray-800 border-gray-700",children:[y.jsxs(Vg,{value:"content",className:"text-white data-[state=active]:bg-red-600",children:[y.jsx(fl,{className:"h-4 w-4 mr-2"}),"Contedo"]}),y.jsxs(Vg,{value:"users",className:"text-white data-[state=active]:bg-red-600",children:[y.jsx(vy,{className:"h-4 w-4 mr-2"}),"Usurios"]}),y.jsxs(Vg,{value:"settings",className:"text-white data-[state=active]:bg-red-600",children:[y.jsx(vy,{className:"h-4 w-4 mr-2"}),"Configuraes"]})]}),y.jsxs(Lg,{value:"content",className:"space-y-6",children:[y.jsxs(zc,{className:"bg-black/70 border-gray-800",children:[y.jsx(pf,{children:y.jsxs(gf,{className:"text-white flex items-center",children:[y.jsx(fl,{className:"h-5 w-5 mr-2"}),"Adicionar Novo Contedo"]})}),y.jsxs(Bc,{className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx(Gt,{htmlFor:"title",className:"text-gray-300",children:"Ttulo *"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx(Pt,{id:"title",value:v.title,onChange:C=>I("title",C.target.value),className:"bg-gray-900 border-gray-700 text-white",placeholder:"Nome do filme/srie/canal"}),y.jsx(Fe,{onClick:P,disabled:a,className:"bg-blue-600 hover:bg-blue-700",children:y.jsx(ah,{className:"h-4 w-4"})})]})]}),y.jsxs("div",{children:[y.jsx(Gt,{htmlFor:"type",className:"text-gray-300",children:"Tipo"}),y.jsxs(_9,{value:v.type,onValueChange:C=>I("type",C),children:[y.jsx(w9,{className:"bg-gray-900 border-gray-700 text-white",children:y.jsx(b9,{})}),y.jsxs(E9,{className:"bg-gray-900 border-gray-700",children:[y.jsx(Mg,{value:"movie",children:"Filme"}),y.jsx(Mg,{value:"series",children:"Srie"}),y.jsx(Mg,{value:"channel",children:"Canal de TV"})]})]})]}),y.jsxs("div",{children:[y.jsx(Gt,{htmlFor:"genre",className:"text-gray-300",children:"Gnero"}),y.jsx(Pt,{id:"genre",value:v.genre,onChange:C=>I("genre",C.target.value),className:"bg-gray-900 border-gray-700 text-white",placeholder:"Ao, Drama, Comdia..."})]}),y.jsxs("div",{children:[y.jsx(Gt,{htmlFor:"year",className:"text-gray-300",children:"Ano"}),y.jsx(Pt,{id:"year",value:v.year,onChange:C=>I("year",C.target.value),className:"bg-gray-900 border-gray-700 text-white",placeholder:"2023"})]}),y.jsxs("div",{children:[y.jsx(Gt,{htmlFor:"videoUrl",className:"text-gray-300",children:"URL do Vdeo *"}),y.jsx(Pt,{id:"videoUrl",value:v.videoUrl,onChange:C=>I("videoUrl",C.target.value),className:"bg-gray-900 border-gray-700 text-white",placeholder:"https://drive.google.com/... ou link direto"})]}),y.jsxs("div",{children:[y.jsx(Gt,{htmlFor:"trailerUrl",className:"text-gray-300",children:"URL do Trailer"}),y.jsx(Pt,{id:"trailerUrl",value:v.trailerUrl,onChange:C=>I("trailerUrl",C.target.value),className:"bg-gray-900 border-gray-700 text-white",placeholder:"https://youtube.com/..."})]}),y.jsxs("div",{children:[y.jsx(Gt,{htmlFor:"posterUrl",className:"text-gray-300",children:"URL do Poster"}),y.jsx(Pt,{id:"posterUrl",value:v.posterUrl,onChange:C=>I("posterUrl",C.target.value),className:"bg-gray-900 border-gray-700 text-white",placeholder:"https://image.tmdb.org/..."})]}),y.jsxs("div",{children:[y.jsx(Gt,{htmlFor:"backdropUrl",className:"text-gray-300",children:"URL do Backdrop"}),y.jsx(Pt,{id:"backdropUrl",value:v.backdropUrl,onChange:C=>I("backdropUrl",C.target.value),className:"bg-gray-900 border-gray-700 text-white",placeholder:"https://image.tmdb.org/..."})]}),y.jsxs("div",{children:[y.jsx(Gt,{htmlFor:"duration",className:"text-gray-300",children:"Durao"}),y.jsx(Pt,{id:"duration",value:v.duration,onChange:C=>I("duration",C.target.value),className:"bg-gray-900 border-gray-700 text-white",placeholder:"120 min ou 45 min/ep"})]}),y.jsxs("div",{children:[y.jsx(Gt,{htmlFor:"rating",className:"text-gray-300",children:"Avaliao"}),y.jsx(Pt,{id:"rating",value:v.rating,onChange:C=>I("rating",C.target.value),className:"bg-gray-900 border-gray-700 text-white",placeholder:"8.5"})]}),y.jsxs("div",{children:[y.jsx(Gt,{htmlFor:"cast",className:"text-gray-300",children:"Elenco"}),y.jsx(Pt,{id:"cast",value:v.cast,onChange:C=>I("cast",C.target.value),className:"bg-gray-900 border-gray-700 text-white",placeholder:"Ator 1, Ator 2, Ator 3..."})]}),y.jsxs("div",{children:[y.jsx(Gt,{htmlFor:"director",className:"text-gray-300",children:"Diretor"}),y.jsx(Pt,{id:"director",value:v.director,onChange:C=>I("director",C.target.value),className:"bg-gray-900 border-gray-700 text-white",placeholder:"Nome do diretor"})]})]}),y.jsxs("div",{children:[y.jsx(Gt,{htmlFor:"description",className:"text-gray-300",children:"Descrio"}),y.jsx(h6,{id:"description",value:v.description,onChange:C=>I("description",C.target.value),className:"bg-gray-900 border-gray-700 text-white",placeholder:"Sinopse do filme/srie/canal...",rows:4})]}),y.jsx(Fe,{onClick:A,disabled:a,className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3",children:a?"Adicionando...":"Adicionar Contedo"})]})]}),y.jsxs(zc,{className:"bg-black/70 border-gray-800",children:[y.jsx(pf,{children:y.jsx(gf,{className:"text-white",children:"Contedos Existentes"})}),y.jsxs(Bc,{children:[y.jsx("div",{className:"mb-4",children:y.jsx(Pt,{value:t,onChange:C=>i(C.target.value),className:"bg-gray-900 border-gray-700 text-white",placeholder:"Buscar contedo..."})}),y.jsx("div",{className:"text-gray-400 text-center py-8",children:"Nenhum contedo encontrado. Adicione o primeiro contedo acima."})]})]})]}),y.jsx(Lg,{value:"users",className:"space-y-6",children:y.jsxs(zc,{className:"bg-black/70 border-gray-800",children:[y.jsx(pf,{children:y.jsx(gf,{className:"text-white",children:"Gerenciar Usurios"})}),y.jsx(Bc,{children:y.jsx("div",{className:"text-gray-400 text-center py-8",children:"Funcionalidade de gerenciamento de usurios em desenvolvimento."})})]})}),y.jsx(Lg,{value:"settings",className:"space-y-6",children:y.jsxs(zc,{className:"bg-black/70 border-gray-800",children:[y.jsx(pf,{children:y.jsx(gf,{className:"text-white",children:"Configuraes do Sistema"})}),y.jsx(Bc,{children:y.jsx("div",{className:"text-gray-400 text-center py-8",children:"Configuraes do sistema em desenvolvimento."})})]})})]}),y.jsx("div",{className:"mt-8 text-center text-gray-500 text-sm",children:y.jsx("p",{children:"Use  para navegar entre abas   para navegar campos  Enter para selecionar"})})]})})}):y.jsx(Di,{children:y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:y.jsx(zc,{className:"w-full max-w-md bg-black/70 border-gray-800",children:y.jsxs(Bc,{className:"p-8 text-center",children:[y.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Acesso Negado"}),y.jsx("p",{className:"text-gray-400",children:"Voc no tem permisso para acessar o painel administrativo."})]})})})})},Q9=async()=>{try{if(!(await fj(tl(Ia,"system","initialized"))).exists()){await tu(tl(Ia,"system","initialized"),{createdAt:tx(),version:"1.0.0"});const e=[{id:"action",name:"Ao",order:1},{id:"comedy",name:"Comdia",order:2},{id:"drama",name:"Drama",order:3},{id:"horror",name:"Terror",order:4},{id:"romance",name:"Romance",order:5},{id:"scifi",name:"Fico Cientfica",order:6},{id:"documentary",name:"Documentrio",order:7},{id:"animation",name:"Animao",order:8}];for(const t of e)await tu(tl(Ia,"categories",t.id),{...t,createdAt:tx()});console.log("Collections initialized successfully")}}catch(n){console.error("Error initializing collections:",n)}};function X9(){return T.useEffect(()=>{Q9()},[]),y.jsx(Yj,{children:y.jsx(FN,{children:y.jsx("div",{className:"App",children:y.jsxs(vN,{children:[y.jsx(ln,{path:"/login",element:y.jsx(ox,{children:y.jsx(BL,{})})}),y.jsx(ln,{path:"/register",element:y.jsx(ox,{children:y.jsx(FL,{})})}),y.jsx(ln,{path:"/profiles",element:y.jsx(tr,{children:y.jsx(qL,{})})}),y.jsx(ln,{path:"/settings",element:y.jsx(tr,{requireProfile:!0,children:y.jsx($L,{})})}),y.jsx(ln,{path:"/browse",element:y.jsx(tr,{requireProfile:!0,children:y.jsx(Aa,{})})}),y.jsx(ln,{path:"/details/:id",element:y.jsx(tr,{requireProfile:!0,children:y.jsx(KL,{})})}),y.jsx(ln,{path:"/watch/:id",element:y.jsx(tr,{requireProfile:!0,children:y.jsx(f6,{})})}),y.jsx(ln,{path:"/movies",element:y.jsx(tr,{requireProfile:!0,children:y.jsx(Aa,{})})}),y.jsx(ln,{path:"/series",element:y.jsx(tr,{requireProfile:!0,children:y.jsx(Aa,{})})}),y.jsx(ln,{path:"/channels",element:y.jsx(tr,{requireProfile:!0,children:y.jsx(Aa,{})})}),y.jsx(ln,{path:"/favorites",element:y.jsx(tr,{requireProfile:!0,children:y.jsx(Aa,{})})}),y.jsx(ln,{path:"/history",element:y.jsx(tr,{requireProfile:!0,children:y.jsx(Aa,{})})}),y.jsx(ln,{path:"/search",element:y.jsx(tr,{requireProfile:!0,children:y.jsx(Aa,{})})}),y.jsx(ln,{path:"/admin",element:y.jsx(tr,{requireAdmin:!0,requireProfile:!0,children:y.jsx(Y9,{})})}),y.jsx(ln,{path:"/",element:y.jsx(Xo,{to:"/browse",replace:!0})}),y.jsx(ln,{path:"*",element:y.jsx(Xo,{to:"/browse",replace:!0})})]})})})})}RI.createRoot(document.getElementById("root")).render(y.jsx(T.StrictMode,{children:y.jsx(X9,{})}));export{Cn as _,jh as a,WL as b,Ny as g,ml as r};
